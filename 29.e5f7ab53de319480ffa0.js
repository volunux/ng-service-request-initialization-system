(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"34d6":function(t,e,s){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}s.d(e,"a",(function(){return i}))},OpKh:function(t,e,s){"use strict";s.r(e),s.d(e,"AuthenticationModule",(function(){return Ft}));var i=s("Yvf7"),r=s("8VHZ"),n=s("hxwH"),o=s("5k3e"),a=s("kPid"),c=s("Fk62"),u=s("VcWf"),d=s("37EL"),l=s("EUGn"),f=s("9nlD"),b=s("Ub9n"),m=s("MWCo"),h=s("9Ku7"),p=s("FBrc"),g=s("TY4h"),y=s("Rxsk"),w=s("U7hS");function v(t,e){if(1&t&&(b.Pb(0,"h2"),b.yc(1),b.Ob()),2&t){const t=b.ac();b.zb(1),b.Ac(" ",t.title," ")}}function P(t,e){if(1&t&&(b.Pb(0,"div",8),b.Pb(1,"p"),b.yc(2),b.Ob(),b.Ob()),2&t){const t=b.ac();b.zb(2),b.zc(t.description)}}function O(t,e){if(1&t&&b.Lb(0,"app-resource-unavailable",9),2&t){const t=b.ac();b.gc("error",t.error)}}function I(t,e){if(1&t){const t=b.Qb();b.Pb(0,"app-notification-screen",10),b.Wb("finished",(function(){return b.rc(t),b.ac().removeNotification()})),b.Ob()}if(2&t){const t=b.ac();b.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function A(t,e){if(1&t&&b.Lb(0,"app-user-account-form-inputs",11),2&t){const t=b.ac();b.gc("system-type",t.systemType)("entry-form",t.entryForm)("first-name",t.firstName)("last-name",t.lastName)("user-name",t.username)("email-address",t.emailAddress)("password",t.password)("confirm-password",t.confirmPassword)("about",t.about)("faculty",t.faculty)("department",t.department)("level",t.level)("country",t.country)("unit",t.unit)("role",t.role)("status",t.status)("statuses",t.statuses)("matriculation-number",t.matriculationNumber)("jamb-registration-number",t.jambRegistrationNumber)("identity-number",t.identityNumber)("roles",t.roles)("general-others",t.generalOthers)("no-edit",t.noEdit)}}function N(t,e){1&t&&(b.Pb(0,"p"),b.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),b.Ob())}const S=function(t,e){return{disabled:t,"btn-submit":e}};let z=(()=>{class t extends d.a{constructor(t,e,s,i,r,n,o,a,c){super(n,o,a,c),this.router=t,this.ds=e,this.ns=s,this.route=i,this.ems=r,this.aS=n,this.fb=o,this.http=a,this.apiConfig=c,this.description="All members of the system are required to signin before they can complete or perform any action or task.",this.generalOthers=null,this.error=!1,this.formSubmitted=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.signIn.systemType,this.viewWord=t.signIn.viewWord,this.systemGuideline=t.signIn.systemGuideline,this.title=t.signIn.title,this.view=t.signIn.view,this.link=t.signIn.link,this.$link=t.signIn.$link,this.controlFilters=t.signIn.controlFilters,this.noEdit=t.signIn.noEdit,this.asyncValidators=t.signIn.asyncValidators,this.ds.$systemType=this.systemType,this.removeControls(this.controlFilters),this.removeAsyncValidators(this.asyncValidators)}confirmAuth(t){this.formSubmitted=!0,this.error=null,this.fip="none",this.ds.signIn(t).subscribe(e=>e?e?(this.formSubmitted=!1,this.aS.saveToken(e),this.aS.saveUserId(e),this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is logged in.`),this.$entryChanges(t)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not logged in.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(this.aS.redirectAddress?[this.aS.redirectAddress]:["/account/profile"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(b.Kb(c.d),b.Kb(m.a),b.Kb(f.a),b.Kb(c.a),b.Kb(l.a),b.Kb(h.a),b.Kb(r.b),b.Kb(p.b),b.Kb(u.b))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-sign-in"]],features:[b.yb([l.a,f.a]),b.wb],decls:10,vars:15,consts:[["id","entry-create"],[4,"ngIf"],["class","description",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["action","","method","post","enctype","application/x-www-form-urlencoded",3,"formGroup","ngSubmit"],[3,"system-type","entry-form","first-name","last-name","user-name","email-address","password","confirm-password","about","faculty","department","level","country","unit","role","status","statuses","matriculation-number","jamb-registration-number","identity-number","roles","general-others","no-edit",4,"ngIf"],["type","submit","id","form-btn-submit",3,"disabled"],[1,"description"],[3,"error"],[3,"notified","message","finished"],[3,"system-type","entry-form","first-name","last-name","user-name","email-address","password","confirm-password","about","faculty","department","level","country","unit","role","status","statuses","matriculation-number","jamb-registration-number","identity-number","roles","general-others","no-edit"]],template:function(t,e){1&t&&(b.Pb(0,"div",0),b.wc(1,v,2,1,"h2",1),b.wc(2,P,3,1,"div",2),b.wc(3,O,1,1,"app-resource-unavailable",3),b.wc(4,I,1,2,"app-notification-screen",4),b.Pb(5,"form",5),b.Wb("ngSubmit",(function(){return e.confirmAuth(e.entryForm.value)})),b.wc(6,A,1,23,"app-user-account-form-inputs",6),b.Pb(7,"button",7),b.yc(8," Submit "),b.Ob(),b.wc(9,N,2,0,"p",1),b.Ob(),b.Ob()),2&t&&(b.zb(1),b.gc("ngIf",e.title),b.zb(1),b.gc("ngIf",e.description),b.zb(1),b.gc("ngIf",e.error),b.zb(1),b.gc("ngIf",e.notificationAvailable),b.zb(1),b.gc("formGroup",e.entryForm),b.zb(1),b.gc("ngIf",e.systemType),b.zb(1),b.Bb(b.mc(12,S,!e.isFormValid,e.isFormValid)),b.vc("display",e.fip),b.gc("disabled",!e.entryForm.valid),b.zb(2),b.gc("ngIf",e.formSubmitted))},directives:[i.l,r.s,r.l,r.g,g.a,y.a,w.a],styles:[""]}),t})();class T{constructor(t){this.faculty=t.Faculty?t.Faculty:[],this.department=t.Department?t.Department:[],this.unit=t.Unit?t.Unit:[],this.level=t.Level?t.Level:[],this.country=t.Country?t.Country:[]}}var k=s("+ef2");function E(t,e){if(1&t&&(b.Pb(0,"h2"),b.yc(1),b.Ob()),2&t){const t=b.ac();b.zb(1),b.Ac(" ",t.title," ")}}function F(t,e){if(1&t&&b.Lb(0,"app-view-description",6),2&t){const t=b.ac();b.gc("view-description",t.view)("system-type",t.systemType)}}function K(t,e){if(1&t){const t=b.Qb();b.Pb(0,"app-notification-screen",7),b.Wb("finished",(function(){return b.rc(t),b.ac().removeNotification()})),b.Ob()}if(2&t){const t=b.ac();b.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function j(t,e){if(1&t&&b.Lb(0,"app-resource-unavailable",8),2&t){const t=b.ac();b.gc("error",t.error)}}function $(t,e){1&t&&(b.Pb(0,"li"),b.yc(1," First Name and Last Name cannot be equal "),b.Ob())}function x(t,e){if(1&t&&(b.Pb(0,"div"),b.Pb(1,"ul"),b.wc(2,$,2,0,"li",1),b.Ob(),b.Ob()),2&t){const t=b.ac(2);b.zb(2),b.gc("ngIf",t.entryForm.errors&&t.entryForm.errors.bothNames)}}function M(t,e){if(1&t&&b.Lb(0,"app-user-account-form-inputs",13),2&t){const t=b.ac(2);b.gc("system-type",t.systemType)("entry-form",t.entryForm)("first-name",t.firstName)("last-name",t.lastName)("user-name",t.username)("email-address",t.emailAddress)("password",t.password)("confirm-password",t.confirmPassword)("about",t.about)("faculty",t.faculty)("department",t.department)("level",t.level)("country",t.country)("unit",t.unit)("role",t.role)("status",t.status)("statuses",t.statuses)("matriculation-number",t.matriculationNumber)("jamb-registration-number",t.jambRegistrationNumber)("identity-number",t.identityNumber)("roles",t.roles)("general-others",t.generalOthers)("no-edit",t.noEdit)}}function U(t,e){1&t&&(b.Pb(0,"p"),b.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),b.Ob())}const C=function(t,e){return{disabled:t,"btn-submit":e}};function q(t,e){if(1&t){const t=b.Qb();b.Pb(0,"div",9),b.Pb(1,"form",10),b.Wb("ngSubmit",(function(){b.rc(t);const e=b.ac();return e.addEntry(e.entryForm.value)})),b.wc(2,x,3,1,"div",1),b.wc(3,M,1,23,"app-user-account-form-inputs",11),b.Pb(4,"button",12),b.yc(5," Submit "),b.Ob(),b.wc(6,U,2,0,"p",1),b.Ob(),b.Ob()}if(2&t){const t=b.ac();b.zb(1),b.gc("formGroup",t.entryForm),b.zb(1),b.gc("ngIf",t.entryForm.touched||t.entryForm.dirty),b.zb(1),b.gc("ngIf",t.systemType),b.zb(1),b.Bb(b.mc(9,C,!t.isFormValid,t.isFormValid)),b.vc("display",t.fip),b.gc("disabled",!t.entryForm.valid),b.zb(2),b.gc("ngIf",t.formSubmitted)}}let L=(()=>{class t extends d.a{constructor(t,e,s,i,r,n,o,a,c){super(n,o,a,c),this.router=t,this.ds=e,this.ns=s,this.route=i,this.ems=r,this.aS=n,this.fb=o,this.http=a,this.apiConfig=c,this.generalOthers=null,this.error=!1,this.formSubmitted=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.signUp.systemType,this.viewWord=t.signUp.viewWord,this.systemGuideline=t.signUp.systemGuideline,this.title=t.signUp.title,this.view=t.signUp.view,this.link=t.signUp.link,this.$link=t.signUp.$link,this.controlFilters=t.signUp.controlFilters,this.noEdit=t.signUp.noEdit,this.ds.$systemType=this.systemType,this.ds.addUser().subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message),window.scrollTo(0,0);t&&(this.generalOthers=new T(t),this.removeControls(this.controlFilters),this.createPermanent(t))})}addEntry(t){this.formSubmitted=!0,this.error=null,this.fip="none",this.ds.$addUser(t).subscribe(t=>t?t&&t.created?(this.formSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is added.`),this.$entryChanges(t)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not added.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message),window.scrollTo(0,0)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(["system","internal",this.link,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(b.Kb(c.d),b.Kb(m.a),b.Kb(f.a),b.Kb(c.a),b.Kb(l.a),b.Kb(h.a),b.Kb(r.b),b.Kb(p.b),b.Kb(u.b))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-sign-up"]],features:[b.yb([l.a,f.a]),b.wb],decls:6,vars:5,consts:[["id","entry-create"],[4,"ngIf"],[3,"view-description","system-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","error",3,"error",4,"ngIf"],["id","entry-detail",4,"ngIf"],[3,"view-description","system-type"],[3,"notified","message","finished"],["id","error",3,"error"],["id","entry-detail"],["action","","method","post","enctype","application/x-www-form-urlencoded",3,"formGroup","ngSubmit"],[3,"system-type","entry-form","first-name","last-name","user-name","email-address","password","confirm-password","about","faculty","department","level","country","unit","role","status","statuses","matriculation-number","jamb-registration-number","identity-number","roles","general-others","no-edit",4,"ngIf"],["type","submit","id","form-btn-submit",3,"disabled"],[3,"system-type","entry-form","first-name","last-name","user-name","email-address","password","confirm-password","about","faculty","department","level","country","unit","role","status","statuses","matriculation-number","jamb-registration-number","identity-number","roles","general-others","no-edit"]],template:function(t,e){1&t&&(b.Pb(0,"div",0),b.wc(1,E,2,1,"h2",1),b.wc(2,F,1,2,"app-view-description",2),b.wc(3,K,1,2,"app-notification-screen",3),b.wc(4,j,1,1,"app-resource-unavailable",4),b.wc(5,q,7,12,"div",5),b.Ob()),2&t&&(b.zb(1),b.gc("ngIf",e.title),b.zb(1),b.gc("ngIf",e.view),b.zb(1),b.gc("ngIf",e.notificationAvailable),b.zb(1),b.gc("ngIf",e.error),b.zb(1),b.gc("ngIf",e.generalOthers))},directives:[i.l,k.a,y.a,g.a,r.s,r.l,r.g,w.a],styles:[""]}),t})();const G=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/;var V=s("inDW"),W=s("J1Ni"),D=s("S5BJ");function B(t,e){if(1&t&&(b.Pb(0,"h2"),b.yc(1),b.Ob()),2&t){const t=b.ac();b.zb(1),b.Ac(" ",t.title," ")}}function Y(t,e){if(1&t&&(b.Pb(0,"div",7),b.Pb(1,"p"),b.yc(2),b.Ob(),b.Ob()),2&t){const t=b.ac();b.zb(2),b.Ac(" ",t.description," ")}}function R(t,e){if(1&t&&b.Lb(0,"app-view-description",8),2&t){const t=b.ac();b.gc("view-description",t.view)}}function Q(t,e){if(1&t){const t=b.Qb();b.Pb(0,"app-notification-screen",9),b.Wb("finished",(function(){return b.rc(t),b.ac().removeNotification()})),b.Ob()}if(2&t){const t=b.ac();b.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function _(t,e){if(1&t&&b.Lb(0,"app-resource-unavailable",10),2&t){const t=b.ac();b.gc("error",t.error)}}function H(t,e){1&t&&(b.Nb(0),b.Pb(1,"p"),b.Pb(2,"b",11),b.yc(3," Note : "),b.Ob(),b.yc(4," A reset password message have been sent to your email address. Kindly check your inbox or spam so that you can sign in and recover the account by choosing a password. Do not share what reset token code is sent to you with anyone "),b.Ob(),b.Mb())}function J(t,e){if(1&t&&(b.Pb(0,"li"),b.yc(1),b.Ob()),2&t){const t=b.ac(4);b.zb(1),b.Ac(" Email Address of ",t.systemType," should be provided and cannot be empty ")}}function X(t,e){if(1&t&&(b.Pb(0,"li"),b.yc(1),b.Ob()),2&t){const t=b.ac(4);b.zb(1),b.Ac(" Email Address of ",t.systemType," cannot be less than 7 characters in length ")}}function Z(t,e){if(1&t&&(b.Pb(0,"li"),b.yc(1),b.Ob()),2&t){const t=b.ac(4);b.zb(1),b.Ac(" Email Address of ",t.systemType," cannot be greater than 50 characters in length ")}}function tt(t,e){1&t&&(b.Pb(0,"li"),b.yc(1," Email Address must be valid and should conform to standards for example david@gmail.com "),b.Ob())}function et(t,e){1&t&&(b.Pb(0,"li"),b.yc(1," Email Address cannot be used at the moment because it is already taken by another user. Please input another email address "),b.Ob())}function st(t,e){if(1&t&&(b.Pb(0,"div",18),b.Pb(1,"ul"),b.wc(2,J,2,1,"li",1),b.wc(3,X,2,1,"li",1),b.wc(4,Z,2,1,"li",1),b.wc(5,tt,2,0,"li",1),b.wc(6,et,2,0,"li",1),b.Ob(),b.Ob()),2&t){const t=b.ac(3);b.gc("@fadeAnimation",void 0),b.zb(2),b.gc("ngIf",null==t.emailAddress.errors?null:t.emailAddress.errors.required),b.zb(1),b.gc("ngIf",(null==t.emailAddress.errors?null:t.emailAddress.errors.required)||(null==t.emailAddress.errors?null:t.emailAddress.errors.minlength)),b.zb(1),b.gc("ngIf",(null==t.emailAddress.errors?null:t.emailAddress.errors.required)||(null==t.emailAddress.errors?null:t.emailAddress.errors.maxlength)),b.zb(1),b.gc("ngIf",(null==t.emailAddress.errors?null:t.emailAddress.errors.required)||(null==t.emailAddress.errors?null:t.emailAddress.errors.emailAddress)),b.zb(1),b.gc("ngIf",null==t.emailAddress.errors?null:t.emailAddress.errors.emailAddressService)}}function it(t,e){if(1&t&&(b.Nb(0),b.wc(1,st,7,6,"div",17),b.Mb()),2&t){const t=b.ac(2);b.zb(1),b.gc("ngIf",t.emailAddress.invalid&&(t.emailAddress.touched||t.emailAddress.dirty))}}function rt(t,e){1&t&&(b.Pb(0,"p"),b.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),b.Ob())}const nt=function(t,e){return{disabled:t,"btn-submit":e}};function ot(t,e){if(1&t){const t=b.Qb();b.Pb(0,"form",12),b.Wb("ngSubmit",(function(){b.rc(t);const e=b.ac();return e.confirmEntry(e.entryForm.value)})),b.Pb(1,"div",13),b.Pb(2,"label",14),b.yc(3," Email Address * : "),b.Ob(),b.Lb(4,"input",15),b.wc(5,it,2,1,"ng-container",1),b.Ob(),b.Pb(6,"button",16),b.yc(7," Submit "),b.Ob(),b.wc(8,rt,2,0,"p",1),b.Ob()}if(2&t){const t=b.ac();b.gc("formGroup",t.entryForm),b.zb(5),b.gc("ngIf",t.emailAddress),b.zb(1),b.Bb(b.mc(8,nt,!t.isFormValid,t.isFormValid)),b.vc("display",t.fip),b.gc("disabled",!t.entryForm.valid),b.zb(2),b.gc("ngIf",t.formSubmitted)}}let at=(()=>{class t{constructor(t,e,s,i,r,n,o){this.router=t,this.ds=e,this.aS=s,this.fb=i,this.ns=r,this.route=n,this.ems=o,this.description="All members of the system are will be able to recover their account if they have an email address registered in the system.",this.error=!1,this.formSubmitted=!1,this.fip="block"}ngOnInit(){this.entryForm=this.fb.group({emailAddress:["",{validators:[r.q.required,r.q.minLength(7),r.q.maxLength(50),Object(V.a)(G)]}]});let t=this.route.snapshot.data;this.systemType=t.forgotPassword.systemType,this.viewWord=t.forgotPassword.viewWord,this.systemGuideline=t.forgotPassword.systemGuideline,this.title=t.forgotPassword.title,this.view=t.forgotPassword.view,this.link=t.forgotPassword.link,this.$link=t.forgotPassword.$link,this.noEdit=t.forgotPassword.noEdit,this.ds.$systemType=this.systemType}confirmEntry(t){this.formSubmitted=!0,this.error=null,this.fip="none",this.ds.$forgotPassword(t).subscribe(t=>t?t?(this.formSubmitted=!1,this.changesSuccess=!0,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} entry is updated.`),this.$entryChanges(t)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigateByUrl("/"),3e4)}get emailAddress(){return this.entryForm.get("emailAddress")}get isFormValid(){return this.entryForm.valid}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(b.Kb(c.d),b.Kb(m.a),b.Kb(h.a),b.Kb(r.b),b.Kb(f.a),b.Kb(c.a),b.Kb(D.a))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-forgot-password"]],features:[b.yb([f.a,D.a])],decls:8,vars:7,consts:[["id","entry-create"],[4,"ngIf"],["class","description",4,"ngIf"],[3,"view-description",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"error",4,"ngIf"],["action","","method","post","enctype","application/x-www-form-urlencoded",3,"formGroup","ngSubmit",4,"ngIf"],[1,"description"],[3,"view-description"],[3,"notified","message","finished"],[3,"error"],[1,"bold"],["action","","method","post","enctype","application/x-www-form-urlencoded",3,"formGroup","ngSubmit"],[1,"form-group"],["for","emailAddress",1,"form-label","bold"],["type","text","id","emailAddress","name","emailAddress","placeholder","david@example.com","required","required","formControlName","emailAddress",1,"form-control"],["type","submit","id","form-btn-submit",3,"disabled"],["class","validation-error",4,"ngIf"],[1,"validation-error"]],template:function(t,e){1&t&&(b.Pb(0,"div",0),b.wc(1,B,2,1,"h2",1),b.wc(2,Y,3,1,"div",2),b.wc(3,R,1,1,"app-view-description",3),b.wc(4,Q,1,2,"app-notification-screen",4),b.wc(5,_,1,1,"app-resource-unavailable",5),b.wc(6,H,5,0,"ng-container",1),b.wc(7,ot,9,11,"form",6),b.Ob()),2&t&&(b.zb(1),b.gc("ngIf",e.title),b.zb(1),b.gc("ngIf",e.description),b.zb(1),b.gc("ngIf",e.view),b.zb(1),b.gc("ngIf",e.notificationAvailable),b.zb(1),b.gc("ngIf",e.error),b.zb(1),b.gc("ngIf",e.changesSuccess),b.zb(1),b.gc("ngIf",!e.changesSuccess))},directives:[i.l,k.a,y.a,g.a,r.s,r.l,r.g,r.a,r.o,r.k,r.e],styles:[""],data:{animation:[W.a]}}),t})();var ct=s("XA6Z"),ut=s("1NK+");let dt=(()=>{class t{constructor(t,e,s,i){this.aS=t,this.fb=e,this.http=s,this.apiConfig=i,this.permanentData={},this.entryValidators={password:[r.q.required,r.q.minLength(7),r.q.maxLength(35),Object(ut.c)()]}}resetPassword(){return new r.f({newPassword:new r.c("",this.entryValidators.password),confirmPassword:new r.c("",this.entryValidators.password)},[Object(ut.a)()])}}return t.\u0275fac=function(e){return new(e||t)(b.Tb(h.a),b.Tb(r.b),b.Tb(p.b),b.Tb(u.b))},t.\u0275prov=b.Gb({token:t,factory:t.\u0275fac}),t})();function lt(t,e){if(1&t&&(b.Pb(0,"h2"),b.yc(1),b.Ob()),2&t){const t=b.ac();b.zb(1),b.Ac(" ",t.title," ")}}function ft(t,e){if(1&t){const t=b.Qb();b.Pb(0,"app-notification-screen",5),b.Wb("finished",(function(){return b.rc(t),b.ac().removeNotification()})),b.Ob()}if(2&t){const t=b.ac();b.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function bt(t,e){if(1&t&&b.Lb(0,"app-view-description",6),2&t){const t=b.ac();b.gc("view-description",t.view)}}function mt(t,e){if(1&t&&b.Lb(0,"app-resource-unavailable",7),2&t){const t=b.ac();b.gc("error",t.error)}}function ht(t,e){1&t&&(b.Nb(0),b.Pb(1,"p"),b.Pb(2,"b",9),b.yc(3," Note : "),b.Ob(),b.yc(4," Your account have been successfully recovered and your password is changed. You will be redirected to the homepage in a short while and will be allowed to sign in again and use the system"),b.Ob(),b.Mb())}function pt(t,e){if(1&t&&b.Lb(0,"app-profile-validator",18),2&t){const t=b.ac(5);b.gc("system-type",t.systemType)("newPassword",t.newPassword)}}function gt(t,e){if(1&t&&(b.Pb(0,"div",14),b.Pb(1,"label",15),b.yc(2," New Password * "),b.Ob(),b.Lb(3,"input",16),b.wc(4,pt,1,2,"app-profile-validator",17),b.Ob()),2&t){const t=b.ac(4);b.zb(4),b.gc("ngIf",t.newPassword)}}function yt(t,e){if(1&t&&b.Lb(0,"app-profile-validator",22),2&t){const t=b.ac(5);b.gc("system-type",t.systemType)("confirmPassword",t.confirmPassword)}}function wt(t,e){if(1&t&&(b.Pb(0,"div",14),b.Pb(1,"label",19),b.yc(2," Confirm Password * "),b.Ob(),b.Lb(3,"input",20),b.wc(4,yt,1,2,"app-profile-validator",21),b.Ob()),2&t){const t=b.ac(4);b.zb(4),b.gc("ngIf",t.confirmPassword)}}function vt(t,e){1&t&&(b.Pb(0,"p"),b.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),b.Ob())}const Pt=function(t,e){return{disabled:t,"btn-submit":e}};function Ot(t,e){if(1&t){const t=b.Qb();b.Pb(0,"form",11),b.Wb("ngSubmit",(function(){b.rc(t);const e=b.ac(3);return e.$resetPassword(e.entryForm.value)})),b.wc(1,gt,5,1,"div",12),b.wc(2,wt,5,1,"div",12),b.Pb(3,"button",13),b.yc(4," Submit "),b.Ob(),b.wc(5,vt,2,0,"p",0),b.Ob()}if(2&t){const t=b.ac(3);b.gc("formGroup",t.entryForm),b.zb(1),b.gc("ngIf",t.newPassword),b.zb(1),b.gc("ngIf",t.confirmPassword),b.zb(1),b.Bb(b.mc(9,Pt,!t.isFormValid,t.isFormValid)),b.vc("display",t.fip),b.gc("disabled",!t.entryForm.valid),b.zb(2),b.gc("ngIf",t.formSubmitted)}}function It(t,e){if(1&t&&(b.Nb(0),b.wc(1,Ot,6,12,"form",10),b.Mb()),2&t){const t=b.ac(2);b.zb(1),b.gc("ngIf",t.entryForm)}}function At(t,e){if(1&t&&(b.Pb(0,"div",8),b.wc(1,ht,5,0,"ng-container",0),b.wc(2,It,2,1,"ng-container",0),b.Ob()),2&t){const t=b.ac();b.zb(1),b.gc("ngIf",t.changesSuccess),b.zb(1),b.gc("ngIf",t.changesSuccess)}}let Nt=(()=>{class t{constructor(t,e,s,i,r,n,o){this.afs=t,this.router=e,this.ds=s,this.aS=i,this.ns=r,this.route=n,this.ems=o,this.error=!1,this.formSubmitted=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.resetPassword.systemType,this.viewWord=t.resetPassword.viewWord,this.systemGuideline=t.resetPassword.systemGuideline,this.title=t.resetPassword.title,this.view=t.resetPassword.view,this.link=t.resetPassword.link,this.$link=t.resetPassword.$link,this.noEdit=t.resetPassword.noEdit,this.ds.$systemType=this.systemType,this.route.paramMap.pipe(Object(ct.a)(t=>{let e=t.get("token");return this.passwordToken=e,this.ds.resetPassword(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entryForm=this.afs.resetPassword()})}$resetPassword(t){this.formSubmitted=!0,this.error=null,this.fip="none",this.ds.$resetPassword(this.passwordToken,t).subscribe(t=>t?t?(this.formSubmitted=!1,this.changesSuccess=!0,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} entry is updated.`),this.aS.logout(),this.$entryChanges(t)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not logged in.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigateByUrl("/"),15e3)}get newPassword(){return this.entryForm.get("newPassword")}get confirmPassword(){return this.entryForm.get("confirmPassword")}get isFormValid(){return this.entryForm.valid}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(b.Kb(dt),b.Kb(c.d),b.Kb(m.a),b.Kb(h.a),b.Kb(f.a),b.Kb(c.a),b.Kb(D.a))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-reset-password"]],features:[b.yb([f.a,D.a])],decls:5,vars:5,consts:[[4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"view-description",4,"ngIf"],[3,"error",4,"ngIf"],["id","entry-update",4,"ngIf"],[3,"notified","message","finished"],[3,"view-description"],[3,"error"],["id","entry-update"],[1,"bold"],["action","","method","post","enctype","application/x-www-form-urlencoded","autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["action","","method","post","enctype","application/x-www-form-urlencoded","autocomplete","off",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],["type","submit","id","form-btn-submit",3,"disabled"],[1,"form-group"],["for","new-password",1,"form-label","bold"],["type","password","id","new-password","name","newPassword","required","required","autocomplete","new-newPassword","formControlName","newPassword",1,"form-control"],[3,"system-type","newPassword",4,"ngIf"],[3,"system-type","newPassword"],["for","confirm-password",1,"form-label","bold"],["type","password","id","confirm-password","name","confirmPassword","required","required","autocomplete","new-confirmPassword","formControlName","confirmPassword",1,"form-control"],[3,"system-type","confirmPassword",4,"ngIf"],[3,"system-type","confirmPassword"]],template:function(t,e){1&t&&(b.wc(0,lt,2,1,"h2",0),b.wc(1,ft,1,2,"app-notification-screen",1),b.wc(2,bt,1,1,"app-view-description",2),b.wc(3,mt,1,1,"app-resource-unavailable",3),b.wc(4,At,3,2,"div",4)),2&t&&(b.gc("ngIf",e.title),b.zb(1),b.gc("ngIf",e.notificationAvailable),b.zb(1),b.gc("ngIf",e.view),b.zb(1),b.gc("ngIf",e.error),b.zb(1),b.gc("ngIf",e.passwordToken))},directives:[i.l,y.a,k.a,g.a,r.s,r.l,r.g,r.a,r.o,r.k,r.e],styles:[""]}),t})(),St=(()=>{class t{constructor(t,e){this.as=t,this.router=e}canActivate(t,e){return this.verifyLogin(e.url)}verifyLogin(t){return!this.as.isLoggedIn()||this.router.parseUrl("account/profile")}}return t.\u0275fac=function(e){return new(e||t)(b.Tb(h.a),b.Tb(c.d))},t.\u0275prov=b.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zt={systemType:"User",title:"User",view:"gen-internal",viewWord:"User",link:"user",$link:"authentication",systemGuideline:"gen-internal"};const Tt={dashboard:Object.assign({},zt),signUp:Object.assign(Object.assign({},zt),{title:"Request for a User Account",view:"ca",controlFilters:["country","role","status"],noEdit:!1}),signIn:Object.assign(Object.assign({},zt),{title:"Sign into User Account",view:"ca",controlFilters:["firstName","lastName","username","about","department","role","faculty","level","country","unit","matriculationNumber","jambRegistrationNumber","identityNumber","confirmPassword","status"],asyncValidators:["emailAddress","username"],noEdit:!1}),forgotPassword:Object.assign(Object.assign({},zt),{title:"Recover User Account",view:"up",noEdit:!1}),resetPassword:Object.assign(Object.assign({},zt),{title:"Reset User Password",view:"up",noEdit:!1})},kt=[{path:"signin",component:z,canActivate:[St],data:{signIn:Tt.signIn}},{path:"signup",component:L,canActivate:[St],data:{signUp:Tt.signUp}},{path:"forgot-password",component:at,data:{forgotPassword:Tt.forgotPassword}},{path:"reset-password/:token",component:Nt,data:{resetPassword:Tt.resetPassword}}];let Et=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(e){return new(e||t)},imports:[[c.g.forChild(kt)],c.g]}),t})(),Ft=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(e){return new(e||t)},providers:[D.a,dt],imports:[[i.b,r.h,r.n,n.a,o.a,a.a,Et]]}),t})()},Rxsk:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("Ub9n"),r=s("Yvf7");const n=function(t,e){return{notification:!0,"fade-in":t,"fade-out":e}};function o(t,e){if(1&t&&(i.Pb(0,"p"),i.yc(1),i.Ob()),2&t){const t=i.ac();i.Bb(i.mc(3,n,t.fadeIn,t.fadeOut)),i.zb(1),i.Ac(" ",t.notificationMessage," ")}}let a=(()=>{class t{constructor(){this.finished=new i.n}set notified(t){this.notificationAvailable=t,t&&(this.fadeIn=!0,this.fadeOutNotification())}get notified(){return this.notificationAvailable}fadeOutNotification(){setTimeout(()=>{this.fadeIn=!1,this.fadeOut=!0,this.removeNotification()},4e3)}removeNotification(){setTimeout(()=>{this.finished.emit(!0)},4e3)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-notification-screen"]],inputs:{notificationMessage:["message","notificationMessage"],notified:"notified"},outputs:{finished:"finished"},decls:2,vars:1,consts:[["id","notification-parent"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.wc(1,o,2,6,"p",1),i.Ob()),2&t&&(i.zb(1),i.gc("ngIf",e.notificationAvailable))},directives:[r.l],styles:["#notification-parent[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),t})()},TY4h:function(t,e,s){"use strict";s.d(e,"a",(function(){return p}));var i=s("Ub9n"),r=s("Yvf7");function n(t,e){if(1&t&&(i.Nb(0),i.Pb(1,"p"),i.yc(2),i.Ob(),i.Mb()),2&t){const t=i.ac(2);i.zb(1),i.vc("color","red"),i.zb(1),i.Ac(" Message : ",t.error.error.message,"")}}function o(t,e){if(1&t&&(i.Nb(0),i.Pb(1,"p"),i.yc(2),i.Ob(),i.Mb()),2&t){const t=i.ac(3);i.zb(1),i.vc("color","red"),i.zb(1),i.Ac(" Message : ",t.error.error.field.message,"")}}function a(t,e){if(1&t&&i.wc(0,o,3,3,"ng-container",1),2&t){i.ac();const t=i.qc(9),e=i.ac();i.gc("ngIf",null==e.error||null==e.error.error?null:e.error.error.field)("ngIfElse",t)}}function c(t,e){if(1&t&&(i.Nb(0),i.Pb(1,"ul",7),i.Pb(2,"li"),i.yc(3),i.Ob(),i.Ob(),i.Mb()),2&t){const t=e.$implicit,s=i.ac(4);i.zb(3),i.Ac("",null==s.error.error[t]?null:s.error.error[t].message," ")}}function u(t,e){if(1&t&&(i.Nb(0),i.Pb(1,"h4"),i.yc(2,"List of Errors : "),i.Ob(),i.wc(3,c,4,1,"ng-container",6),i.Mb()),2&t){const t=i.ac(3);i.zb(3),i.gc("ngForOf",t.errorKeys)}}function d(t,e){if(1&t&&i.wc(0,u,4,1,"ng-container",0),2&t){const t=i.ac(2);i.gc("ngIf",(null==t.error?null:t.error.error)&&t.error.status&&(null==t.errorKeys?null:t.errorKeys.length))}}function l(t,e){if(1&t&&(i.Pb(0,"p"),i.yc(1),i.Ob()),2&t){const t=i.ac(2);i.zb(1),i.Ac(" Status Code : ",t.error.status," ")}}function f(t,e){1&t&&(i.Pb(0,"p"),i.yc(1," Status Code : 00000 "),i.Ob())}function b(t,e){if(1&t&&(i.Pb(0,"p"),i.yc(1),i.Ob()),2&t){const t=i.ac(2);i.zb(1),i.Ac(" Status Text : ",t.error.statusText," ")}}function m(t,e){1&t&&(i.Pb(0,"p"),i.yc(1," Status Text : This is probably a network error or internal server error. Please check your internet connection or restart your browser and try again or refresh the page."),i.Ob())}function h(t,e){if(1&t&&(i.Nb(0),i.Pb(1,"h3"),i.yc(2," An Error has occured "),i.Ob(),i.Pb(3,"p"),i.yc(4),i.Ob(),i.wc(5,n,3,3,"ng-container",1),i.wc(6,a,1,2,"ng-template",null,2,i.xc),i.wc(8,d,1,1,"ng-template",null,3,i.xc),i.wc(10,l,2,1,"p",1),i.wc(11,f,2,0,"ng-template",null,4,i.xc),i.wc(13,b,2,1,"p",1),i.wc(14,m,2,0,"ng-template",null,5,i.xc),i.Mb()),2&t){const t=i.qc(7),e=i.qc(12),s=i.qc(15),r=i.ac();i.zb(4),i.Ac(" Resource : ",r.error.resource," "),i.zb(1),i.gc("ngIf",null==r.error||null==r.error.error?null:r.error.error.message)("ngIfElse",t),i.zb(5),i.gc("ngIf",r.error.status)("ngIfElse",e),i.zb(3),i.gc("ngIf","Unknown Error"!=r.error.statusText)("ngIfElse",s)}}let p=(()=>{class t{constructor(){this.errorKeys=[]}set $error(t){t.error&&(this.errorKeys=Object.keys(t.error),this.error=t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-resource-unavailable"]],inputs:{$error:["error","$error"]},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["fieldErr",""],["otherErr",""],["noStatusCode",""],["noStatusText",""],[4,"ngFor","ngForOf"],[1,"validation-errors"]],template:function(t,e){1&t&&i.wc(0,h,16,7,"ng-container",0),2&t&&i.gc("ngIf",e.error)},directives:[r.l,r.k],styles:[""],changeDetection:0}),t})()},XRyL:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s("Ma1o"),r=s("34d6"),n=s("OX4D"),o=s("wsoD");function a(t,e=i.a){const s=Object(r.a)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new c(s,e))}class c{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new u(t,this.delay,this.scheduler))}}class u extends n.a{constructor(t,e,s){super(t),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,s=e.queue,i=t.scheduler,r=t.destination;for(;s.length>0&&s[0].time-i.now()<=0;)s.shift().notification.observe(r);if(s.length>0){const e=Math.max(0,s[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(u.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,s=new d(e.now()+this.delay,t);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(o.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(o.a.createComplete()),this.unsubscribe()}}class d{constructor(t,e){this.time=t,this.notification=e}}},e6ST:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("GAcG");function r(t,e){return new i.a(e?s=>e.schedule(n,0,{error:t,subscriber:s}):e=>e.error(t))}function n({error:t,subscriber:e}){e.error(t)}},inDW:function(t,e,s){"use strict";function i(t){return e=>{let s=Object.keys(t),i=Object.values(t),r=e.value;return""!=r&&s.indexOf(r)<0?{searchError:{value:r,searches:i}}:null}}function r(t){return e=>t.test(e.value)?null:{emailAddress:{value:e.value}}}function n(t){return e=>{let s=Object.keys(t),i=Object.values(t),r=e.value;return s.indexOf(r)<0?{statusError:{value:r,statuses:i}}:null}}function o(){let t=["Student","Department President","Faculty President","Lecturer","Staff","Head of Department","Dean of Faculty","Bursar","Moderator","Administrator","Super Administrator"],e=/moderator|administrator|superAdministrator|hod|deanstudent|departmentPresident|facultyPresident|bursar|lecturer|staff/i;return s=>{let i=s.value;return e.test(i)?{roleError:{value:i,roles:t}}:null}}function a(t){let e=["Student","Department President","Faculty President","Lecturer","Staff","Head of Department","Dean of Faculty","Bursar","Moderator","Administrator","Super Administrator"],s=/moderator|administrator|superAdministrator|hod|deanstudent|departmentPresident|facultyPresident|bursar|lecturer|staff/i;return t=>s.test(t.value)?{forbiddenNames:{value:t.value,names:e}}:null}function c(){return t=>{const e=t.get("firstName"),s=t.get("lastName");return e&&s&&e.value==s.value?{bothNames:{value:e.value+s.value}}:null}}s.d(e,"e",(function(){return i})),s.d(e,"a",(function(){return r})),s.d(e,"f",(function(){return n})),s.d(e,"d",(function(){return o})),s.d(e,"c",(function(){return a})),s.d(e,"b",(function(){return c}))},wsoD:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var i=s("UGNb"),r=s("jV/k"),n=s("e6ST");let o=(()=>{class t{constructor(t,e,s){this.kind=t,this.value=e,this.error=s,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,s){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return s&&s()}}accept(t,e,s){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,s)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(n.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()}}]);