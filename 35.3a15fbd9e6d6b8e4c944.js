(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"gMK/":function(t,e,n){"use strict";n.r(e),n.d(e,"RequestCredentialModule",(function(){return Q}));var i=n("Yvf7"),s=n("8VHZ"),r=n("Fk62"),o=n("EUGn"),c=n("9nlD"),a=n("Ub9n"),l=n("jV/k"),b=n("oECA"),d=n("O6Zd"),u=n("VcWf"),f=n("FBrc");let p=(()=>{class t{constructor(t,e,n){this.apiConfig=t,this.http=e,this.ems=n}getAllEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(b.a)(this.handleError(this.$systemType+" Entries",[])))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(d.a)(t=>({manyDeleted:!0})),Object(b.a)(this.handleError(this.$systemType+" Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(l.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(u.b),a.Rb(f.b),a.Rb(o.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac}),t})();var h=n("9yhg"),g=n("+ef2"),m=n("Rxsk"),y=n("RBZI"),M=n("TY4h");function O(t,e){if(1&t&&(a.Nb(0,"h2"),a.uc(1),a.Mb()),2&t){const t=a.Wb();a.xb(1),a.wc(" ",t.title," ")}}function x(t,e){if(1&t&&a.Jb(0,"app-view-description",7),2&t){const t=a.Wb();a.cc("view-description",t.view)}}function k(t,e){if(1&t){const t=a.Ob();a.Nb(0,"app-notification-screen",8),a.Ub("finished",(function(){return a.nc(t),a.Wb().removeNotification()})),a.Mb()}if(2&t){const t=a.Wb();a.cc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function N(t,e){1&t&&(a.Nb(0,"td",18),a.uc(1," Nil "),a.Mb())}function I(t,e){if(1&t&&(a.Nb(0,"td",18),a.uc(1),a.Mb()),2&t){const t=a.Wb().$implicit;a.xb(1),a.wc(" ",null==t?null:t._id," ")}}function C(t,e){if(1&t&&(a.Nb(0,"td",18),a.uc(1),a.Mb()),2&t){const t=a.Wb().$implicit;a.xb(1),a.wc(" ",null==t?null:t.requestUsername," ")}}function w(t,e){if(1&t&&(a.Nb(0,"td",18),a.uc(1),a.Mb()),2&t){const t=a.Wb().$implicit;a.xb(1),a.wc(" ",null==t?null:t.requestPassword," ")}}function v(t,e){if(1&t&&(a.Nb(0,"td",18),a.uc(1),a.Xb(2,"date"),a.Mb()),2&t){const t=a.Wb().$implicit;a.xb(1),a.wc(" ",a.Zb(2,1,null==t?null:t.createdAt,"longDate")," ")}}function E(t,e){if(1&t&&(a.Nb(0,"td",18),a.uc(1),a.Mb()),2&t){const t=a.Wb().$implicit;a.xb(1),a.wc(" ",null==t?null:t.secondaryKey," ")}}function $(t,e){if(1&t){const t=a.Ob();a.Lb(0),a.Nb(1,"input",27,28),a.Ub("click",(function(){a.nc(t);const e=a.mc(2),n=a.Wb(3),i=n.$implicit,s=n.index;return a.Wb(2).addEntryToDeleteList(null==i?null:i.num,e.checked,s)})),a.Mb(),a.Jb(3,"span",29),a.Kb()}if(2&t){const t=e.$implicit,n=a.Wb(3).$implicit;a.xb(1),a.cc("checked",t==(null==n?null:n.num))}}function P(t,e){if(1&t&&(a.Lb(0),a.sc(1,$,4,1,"ng-container",26),a.Kb()),2&t){const t=a.Wb(4);a.xb(1),a.cc("ngForOf",t.esdl)}}function _(t,e){if(1&t){const t=a.Ob();a.Nb(0,"input",30,28),a.Ub("click",(function(){a.nc(t);const e=a.mc(1),n=a.Wb(2),i=n.$implicit,s=n.index;return a.Wb(2).addEntryToDeleteList(null==i?null:i.num,e.checked,s)})),a.Mb(),a.Jb(2,"span",29)}}function T(t,e){if(1&t&&(a.Nb(0,"label",23),a.sc(1,P,2,1,"ng-container",24),a.sc(2,_,3,0,"ng-template",null,25,a.tc),a.Mb()),2&t){const t=a.mc(3),e=a.Wb(3);a.xb(1),a.cc("ngIf",e.esdl.length)("ngIfElse",t)}}const W=function(t){return["../","entry","detail",t]},j=function(t){return["../","entry","update",t]},A=function(t){return["../","entry","delete",t]};function J(t,e){if(1&t&&(a.Nb(0,"tr"),a.Nb(1,"td",18),a.uc(2),a.Mb(),a.sc(3,N,2,0,"ng-template",null,19,a.tc),a.sc(5,I,2,1,"td",20),a.sc(6,C,2,1,"td",20),a.sc(7,w,2,1,"td",20),a.sc(8,v,3,4,"td",20),a.sc(9,E,2,1,"td",20),a.Nb(10,"td",11),a.Nb(11,"a",21),a.uc(12,"View"),a.Mb(),a.Nb(13,"a",21),a.uc(14,"Update"),a.Mb(),a.Nb(15,"a",21),a.uc(16,"Delete"),a.Mb(),a.sc(17,T,4,2,"label",22),a.Mb(),a.Mb()),2&t){const t=e.$implicit,n=e.index,i=a.mc(4);a.xb(2),a.wc(" ",n+1,". "),a.xb(3),a.cc("ngIf",null==t?null:t._id)("ngIfElse",i),a.xb(1),a.cc("ngIf",null==t?null:t.requestUsername)("ngIfElse",i),a.xb(1),a.cc("ngIf",null==t?null:t.requestPassword)("ngIfElse",i),a.xb(1),a.cc("ngIf",null==t?null:t.createdAt)("ngIfElse",i),a.xb(1),a.cc("ngIf",null==t?null:t.secondaryKey)("ngIfElse",i),a.xb(2),a.cc("routerLink",a.hc(15,W,null==t?null:t._id)),a.xb(2),a.cc("routerLink",a.hc(17,j,null==t?null:t._id)),a.xb(2),a.cc("routerLink",a.hc(19,A,null==t?null:t._id)),a.xb(2),a.cc("ngIf",!0)}}function q(t,e){if(1&t&&a.Jb(0,"app-pagination",31),2&t){const t=a.Wb(2);a.cc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function F(t,e){if(1&t&&(a.Nb(0,"div"),a.Nb(1,"table",9),a.Nb(2,"caption",10),a.uc(3," Entries "),a.Mb(),a.Nb(4,"colgroup"),a.Jb(5,"col",11),a.Jb(6,"col",11),a.Jb(7,"col",11),a.Jb(8,"col",11),a.Jb(9,"col",11),a.Jb(10,"col",11),a.Jb(11,"col",11),a.Jb(12,"col",12),a.Mb(),a.Nb(13,"thead"),a.Nb(14,"tr"),a.Nb(15,"th",13),a.uc(16," Index "),a.Mb(),a.Nb(17,"th",14),a.uc(18," Unique Number "),a.Mb(),a.Nb(19,"th",14),a.uc(20," Username "),a.Mb(),a.Nb(21,"th",14),a.uc(22," Password "),a.Mb(),a.Nb(23,"th",14),a.uc(24," Date Created "),a.Mb(),a.Nb(25,"th",15),a.uc(26," Secondary Keys "),a.Mb(),a.Nb(27,"th",10),a.uc(28," Changes "),a.Mb(),a.Mb(),a.Mb(),a.Nb(29,"tbody"),a.sc(30,J,18,21,"tr",16),a.Mb(),a.Nb(31,"tfoot"),a.Nb(32,"tr"),a.Jb(33,"td"),a.Mb(),a.Nb(34,"tr"),a.Jb(35,"td"),a.Mb(),a.Nb(36,"tr"),a.sc(37,q,1,3,"app-pagination",17),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&t){const t=a.Wb();a.xb(30),a.cc("ngForOf",t.entries)("ngForTrackBy",t.trackById),a.xb(7),a.cc("ngIf",t.pageNumber)}}function D(t,e){if(1&t&&a.Jb(0,"app-resource-unavailable",32),2&t){const t=a.Wb();a.cc("error",t.error)}}let L=(()=>{class t{constructor(t,e,n,i,s,r){this.route=t,this.router=e,this.location=n,this.rcs=i,this.ems=s,this.ns=r,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0}trackById(t,e){return e._id}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.link2=t.link2,this.$link=t.entries.$link,this.rcs.$systemType=this.systemType,this.rcs.$sa=this.$link,this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let i=t,s=i.keys,r={};for(let o of s){let t=i.get(o);t&&(r[o]=t)}return this.getAllEntry(r)})}getAllEntry(t){this.rcs.getAllEntry(t,this.link2).subscribe(t=>{if(t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){e?t&&this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.rcs.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(a.Ib(r.a),a.Ib(r.b),a.Ib(i.h),a.Ib(p),a.Ib(o.a),a.Ib(c.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-request-credential-list"]],features:[a.wb([o.a,c.a])],decls:10,vars:7,consts:[["id","entry-main"],[4,"ngIf"],[3,"view-description",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description"],[3,"notified","message","finished"],[1,"entries"],[1,"bold","left"],[1,""],[1,"changes"],[1,"bold","center","index-2"],[1,"bold","center"],[1,"bold","center","secondary-key"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center",4,"ngIf","ngIfElse"],[1,"center","changes-option",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){1&t&&(a.Nb(0,"div",0),a.sc(1,O,2,1,"h2",1),a.sc(2,x,1,1,"app-view-description",2),a.sc(3,k,1,2,"app-notification-screen",3),a.Jb(4,"app-list-entry-options"),a.Nb(5,"div",4),a.Nb(6,"a",5),a.Ub("click",(function(){return e.deleteManyEntry()})),a.uc(7," Delete Many "),a.Mb(),a.Mb(),a.sc(8,F,38,3,"div",1),a.sc(9,D,1,1,"app-resource-unavailable",6),a.Mb()),2&t&&(a.xb(1),a.cc("ngIf",e.title),a.xb(1),a.cc("ngIf",e.view),a.xb(1),a.cc("ngIf",e.notificationAvailable),a.xb(3),a.Ab("hide",e.esdl.length<2),a.xb(2),a.cc("ngIf",e.$entriesLength>0),a.xb(1),a.cc("ngIf",e.error))},directives:[i.l,h.a,g.a,m.a,i.k,r.d,y.a,M.a],pipes:[i.d],styles:["[_nghost-%COMP%]{position:relative}button.btn-search[_ngcontent-%COMP%]{display:block;width:70%;margin:15px auto 0;padding:0 2.934087923450491%;background-color:#290140;color:#a0a7a0;border:2px solid #ac4bd8;border-radius:6px}button.btn-search[_ngcontent-%COMP%]:hover{color:#fff;background-color:#210140}.search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px double #0e0023;outline:none!important}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:50%;display:block;padding:5px 10px;border:2px solid #3d0398;border-radius:5px;height:30px;margin:10px auto}.search-bar[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:40%}.search-bar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;font-size:13px}.pagination[_ngcontent-%COMP%]{background-color:#290140;color:#a0a7a0}.pagination[_ngcontent-%COMP%], .pagination-end[_ngcontent-%COMP%]{border:2px solid #ac4bd8;border-radius:10px;width:100px;padding:2px 0;display:block;margin:0 auto}.pagination-end[_ngcontent-%COMP%]{background-color:#171417;color:#fff}.next[_ngcontent-%COMP%]{float:right}.prev[_ngcontent-%COMP%]{float:left}a.next[_ngcontent-%COMP%]:hover, a.prev[_ngcontent-%COMP%]:hover{color:#fff;background-color:#210140}tfoot[_ngcontent-%COMP%]{margin-top:20px}.notification[_ngcontent-%COMP%]{position:fixed;width:80%;height:30px;background-color:#2f0348;color:#fff;margin:0 auto;top:40px;left:100px;border-radius:6px;padding:0 10px;font-family:Verdana;opacity:1;font-size:11px;border:2px solid #a984c7;display:block}.fade-in[_ngcontent-%COMP%]{animation:fadeIn 3s ease;-webkit-animation:fadeIn 3s ease;-moz-animation:fadeIn ease 3s;-o-animation:fadeIn ease 3s;-ms-animation:fadeIn ease 3s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fade-out[_ngcontent-%COMP%]{animation:fadeOut 4s ease;-webkit-animation:fadeOut 4s ease;-moz-animation:fadeOut ease 4s;-o-animation:fadeOut ease 4s;-ms-animation:fadeOut ease 4s}@keyframes fadeOut{0%{opacity:1;display:block}to{opacity:0;display:none}}.rolling[_ngcontent-%COMP%]{display:inline-block;animation-name:rotated;animation-duration:.8s;animation-direction:all;animation-iteration-count:infinite}.rolling[_ngcontent-%COMP%]:hover{transform:rotate(1turn)}@keyframes rotated{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),t})();var U=n("/zEo"),R=n("Hk0H"),B=n("RPGP"),K=n("G+IB");let G={systemType:"Request Credential",title:"Request Credential",view:"gen-internal",viewWord:"Request Credential",link:"request-credential",$link:"request-credential",systemGuideline:"gen-internal"};const S={dashboard:Object.assign({},G),create:Object.assign(Object.assign({},G),{title:"Add a "+G.systemType,controlFilters:["num","description","faculty","shortCode"],noEdit:!1}),detail:Object.assign(Object.assign({},G),{title:G.systemType+" Entry Detail"}),update:Object.assign(Object.assign({},G),{title:G.systemType+" Entry Update",controlFilters:["description","num","faculty","shortCode","requestPassword"],noEdit:!1}),delete:Object.assign(Object.assign({},G),{title:G.systemType+" Entry Delete",controlFilters:["description","shortCode","status","faculty"],controlsDisabled:["name","description","status","shortCode","secondaryKey","_id","num"],noEdit:!0}),deleteAll:Object.assign(Object.assign({},G),{title:G.systemType+" Entries : Delete All"}),entries:Object.assign(Object.assign({},G),{title:G.systemType+" Entries",searchFilters:{requestUsername:"Request Username",status:"Status"}})},V=[{path:"",component:R.a,children:[{path:"",component:B.a,data:{dashboard:S.dashboard}},{path:"entries",component:L,data:{entries:S.entries}},{path:"entries/delete/all",component:K.a,canActivate:[U.a],data:{deleteAll:S.deleteAll}}]}];let z=(()=>{class t{constructor(){}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[r.e.forChild(V)],r.e]}),t})();var H=n("kPid"),Z=n("TS3g"),Y=n("mHYI"),X=n("hxwH");let Q=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},providers:[p],imports:[[i.b,s.n,Z.a,X.a,H.a,Y.a,z]]}),t})()}}]);