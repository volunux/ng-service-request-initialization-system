(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{lrLS:function(t,e,n){"use strict";n.r(e),n.d(e,"UploadModule",(function(){return q}));var i=n("Yvf7"),s=n("mHYI"),c=n("kPid"),r=n("TS3g"),l=n("hxwH"),o=n("jV/k"),a=n("oECA"),b=n("O6Zd"),u=n("VcWf"),h=n("Ub9n"),d=n("FBrc"),f=n("EUGn");let p=(()=>{class t{constructor(t,e,n){this.apiConfig=t,this.http=e,this.ems=n}getAllEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(a.a)(this.handleError(this.$systemType+" Entries",[])))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(b.a)(t=>({manyDeleted:!0})),Object(a.a)(this.handleError(this.$systemType+" Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(o.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(u.b),h.Rb(d.b),h.Rb(f.a))},t.\u0275prov=h.Eb({token:t,factory:t.\u0275fac}),t})();var g=n("Fk62"),y=n("/zEo"),m=n("Hk0H"),N=n("RPGP"),M=n("G+IB"),k=n("9nlD"),I=n("9yhg"),$=n("+ef2"),E=n("Rxsk"),v=n("RBZI"),w=n("TY4h");function x(t,e){if(1&t&&(h.Nb(0,"h2"),h.uc(1),h.Mb()),2&t){const t=h.Wb();h.xb(1),h.wc(" ",t.title," ")}}function O(t,e){if(1&t&&h.Jb(0,"app-view-description",7),2&t){const t=h.Wb();h.cc("view-description",t.view)("system-type",t.systemType)}}function W(t,e){if(1&t){const t=h.Ob();h.Nb(0,"app-notification-screen",8),h.Ub("finished",(function(){return h.nc(t),h.Wb().removeNotification()})),h.Mb()}if(2&t){const t=h.Wb();h.cc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function T(t,e){1&t&&(h.Nb(0,"td",16),h.uc(1," Nil "),h.Mb())}function J(t,e){if(1&t&&(h.Nb(0,"td",16),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t?null:t._id," ")}}function A(t,e){if(1&t&&(h.Nb(0,"td",16),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t?null:t.entrySlug," ")}}function j(t,e){if(1&t&&(h.Nb(0,"td",16),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t?null:t.status," ")}}function F(t,e){if(1&t&&(h.Nb(0,"td",16),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t?null:t.num," ")}}function L(t,e){if(1&t&&(h.Nb(0,"td",16),h.uc(1),h.Xb(2,"date"),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",h.Zb(2,1,null==t?null:t.createdAt,"longDate")," ")}}function U(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"input",25,26),h.Ub("click",(function(){h.nc(t);const e=h.mc(2),n=h.Wb(3),i=n.$implicit,s=n.index;return h.Wb(2).addEntryToDeleteList(null==i?null:i.num,e.checked,s)})),h.Mb(),h.Jb(3,"span",27),h.Kb()}if(2&t){const t=e.$implicit,n=h.Wb(3).$implicit;h.xb(1),h.cc("checked",t==(null==n?null:n.num))}}function C(t,e){if(1&t&&(h.Lb(0),h.sc(1,U,4,1,"ng-container",24),h.Kb()),2&t){const t=h.Wb(4);h.xb(1),h.cc("ngForOf",t.esdl)}}function D(t,e){if(1&t){const t=h.Ob();h.Nb(0,"input",28,26),h.Ub("click",(function(){h.nc(t);const e=h.mc(1),n=h.Wb(2),i=n.$implicit,s=n.index;return h.Wb(2).addEntryToDeleteList(null==i?null:i.num,e.checked,s)})),h.Mb(),h.Jb(2,"span",27)}}function R(t,e){if(1&t&&(h.Nb(0,"label",21),h.sc(1,C,2,1,"ng-container",22),h.sc(2,D,3,0,"ng-template",null,23,h.tc),h.Mb()),2&t){const t=h.mc(3),e=h.Wb(3);h.xb(1),h.cc("ngIf",e.esdl.length)("ngIfElse",t)}}function S(t,e){if(1&t&&(h.Nb(0,"tr"),h.Nb(1,"td",16),h.uc(2),h.Mb(),h.sc(3,T,2,0,"ng-template",null,17,h.tc),h.sc(5,J,2,1,"td",18),h.sc(6,A,2,1,"td",18),h.sc(7,j,2,1,"td",18),h.sc(8,F,2,1,"td",18),h.sc(9,L,3,4,"td",18),h.Nb(10,"td",11),h.Nb(11,"button",19),h.uc(12," Deleteable "),h.Mb(),h.sc(13,R,4,2,"label",20),h.Mb(),h.Mb()),2&t){const t=e.$implicit,n=e.index,i=h.mc(4);h.xb(2),h.wc(" ",n+1,". "),h.xb(3),h.cc("ngIf",null==t?null:t._id)("ngIfElse",i),h.xb(1),h.cc("ngIf",null==t?null:t.entrySlug)("ngIfElse",i),h.xb(1),h.cc("ngIf",null==t?null:t.status)("ngIfElse",i),h.xb(1),h.cc("ngIf",null==t?null:t.num)("ngIfElse",i),h.xb(1),h.cc("ngIf",null==t?null:t.createdAt)("ngIfElse",i),h.xb(4),h.cc("ngIf",!0)}}function B(t,e){if(1&t&&h.Jb(0,"app-pagination",29),2&t){const t=h.Wb(2);h.cc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function G(t,e){if(1&t&&(h.Nb(0,"div"),h.Nb(1,"table",9),h.Nb(2,"caption",10),h.uc(3," Entries "),h.Mb(),h.Nb(4,"colgroup"),h.Jb(5,"col",11),h.Jb(6,"col",11),h.Jb(7,"col",11),h.Jb(8,"col",11),h.Jb(9,"col",11),h.Jb(10,"col",11),h.Jb(11,"col",11),h.Jb(12,"col",11),h.Jb(13,"col",12),h.Mb(),h.Nb(14,"thead"),h.Nb(15,"tr"),h.Nb(16,"th",13),h.uc(17," Index "),h.Mb(),h.Nb(18,"th",13),h.uc(19," Unique Identity Number "),h.Mb(),h.Nb(20,"th",13),h.uc(21," Entry Reference "),h.Mb(),h.Nb(22,"th",13),h.uc(23," Status "),h.Mb(),h.Nb(24,"th",13),h.uc(25," Number "),h.Mb(),h.Nb(26,"th",13),h.uc(27," Created At "),h.Mb(),h.Nb(28,"th",13),h.uc(29," Changes "),h.Mb(),h.Mb(),h.Mb(),h.Nb(30,"tbody"),h.sc(31,S,14,12,"tr",14),h.Mb(),h.Nb(32,"tfoot"),h.Nb(33,"tr"),h.Jb(34,"td"),h.Mb(),h.Nb(35,"tr"),h.Jb(36,"td"),h.Mb(),h.Nb(37,"tr"),h.sc(38,B,1,3,"app-pagination",15),h.Mb(),h.Mb(),h.Mb(),h.Mb()),2&t){const t=h.Wb();h.xb(31),h.cc("ngForOf",t.entries)("ngForTrackBy",t.trackById),h.xb(7),h.cc("ngIf",t.pageNumber)}}function H(t,e){if(1&t&&h.Jb(0,"app-resource-unavailable",30),2&t){const t=h.Wb();h.cc("error",t.error)}}let P=(()=>{class t{constructor(t,e,n,i,s,c){this.route=t,this.router=e,this.location=n,this.us=i,this.ems=s,this.ns=c,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0}trackById(t,e){return e._id}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.link2=t.link2,this.$link=t.entries.$link,this.us.$systemType=this.systemType,this.us.$sa=this.$link,this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let i=t,s=i.keys,c={};for(let r of s){let t=i.get(r);t&&(c[r]=t)}return this.getAllEntry(c)})}getAllEntry(t){this.us.getAllEntry(t,this.link2).subscribe(t=>{if(t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){e?t&&this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.us.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(h.Ib(g.a),h.Ib(g.b),h.Ib(i.h),h.Ib(p),h.Ib(f.a),h.Ib(k.a))},t.\u0275cmp=h.Cb({type:t,selectors:[["app-upload-entries"]],features:[h.wb([f.a,k.a])],decls:10,vars:7,consts:[["id","entry-main"],[4,"ngIf"],[3,"view-description","system-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description","system-type"],[3,"notified","message","finished"],[1,"entries"],[1,"bold","left"],[1,""],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center",4,"ngIf","ngIfElse"],[1,"center","changes-option","changes-option-full"],["class","changes-mark",4,"ngIf"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){1&t&&(h.Nb(0,"div",0),h.sc(1,x,2,1,"h2",1),h.sc(2,O,1,2,"app-view-description",2),h.sc(3,W,1,2,"app-notification-screen",3),h.Jb(4,"app-list-entry-options"),h.Nb(5,"div",4),h.Nb(6,"a",5),h.Ub("click",(function(){return e.deleteManyEntry()})),h.uc(7," Delete Many "),h.Mb(),h.Mb(),h.sc(8,G,39,3,"div",1),h.sc(9,H,1,1,"app-resource-unavailable",6),h.Mb()),2&t&&(h.xb(1),h.cc("ngIf",e.title),h.xb(1),h.cc("ngIf",e.view),h.xb(1),h.cc("ngIf",e.notificationAvailable),h.xb(3),h.Ab("hide",e.esdl.length<2),h.xb(2),h.cc("ngIf",e.$entriesLength>0),h.xb(1),h.cc("ngIf",e.error))},directives:[i.l,I.a,$.a,E.a,i.k,v.a,w.a],pipes:[i.d],styles:[""]}),t})(),V={systemType:"Upload",title:"Upload",view:"gen-internal",viewWord:"Upload",link:"upload",$link:"upload",systemGuideline:"gen-internal"};const Y={dashboard:Object.assign(Object.assign({},V),{canCreate:!1}),deleteAll:Object.assign(Object.assign({},V),{title:V.systemType+" Entries : Delete All",view:"uadp"}),entries:Object.assign(Object.assign({},V),{title:V.systemType+" Entries"})},Z=[{path:"",component:m.a,children:[{path:"",component:N.a,data:{dashboard:Y.dashboard}},{path:"entries",component:P,data:{entries:Y.entries,link2:!1}},{path:"entries/delete/all",component:M.a,canActivate:[y.a],data:{deleteAll:Y.deleteAll}}]}];let _=(()=>{class t{constructor(){}}return t.\u0275mod=h.Gb({type:t}),t.\u0275inj=h.Fb({factory:function(e){return new(e||t)},imports:[[g.e.forChild(Z)],g.e]}),t})(),q=(()=>{class t{}return t.\u0275mod=h.Gb({type:t}),t.\u0275inj=h.Fb({factory:function(e){return new(e||t)},providers:[p],imports:[[i.b,l.a,r.a,s.a,c.a,_]]}),t})()}}]);