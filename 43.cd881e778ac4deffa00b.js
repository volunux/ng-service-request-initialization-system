(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"+N3g":function(t,e,n){"use strict";n.r(e),n.d(e,"RequestLimitModule",(function(){return Yt}));var i=n("Yvf7"),r=n("8VHZ"),s=n("mHYI"),a=n("TS3g"),c=n("hxwH"),o=n("jV/k"),l=n("oECA"),u=n("vfyW"),b=n("O6Zd"),d=n("VcWf"),f=n("Ub9n"),h=n("FBrc"),y=n("EUGn");let g=(()=>{class t{constructor(t,e,n){this.apiConfig=t,this.http=e,this.ems=n}getAllEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(l.a)(this.handleError(this.$systemType+" Entries",[])))}getEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/detail`).pipe(Object(u.a)(t=>console.log(t)),Object(l.a)(this.handleError(this.$systemType+" Entry",null)))}updateEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/update/`).pipe(Object(b.a)(t=>({permitted:!0,$data:t})),Object(l.a)(this.handleError(this.$systemType+" Entry",null)))}$updateEntry(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/update`,e).pipe(Object(b.a)(t=>({updated:!0,$data:t})),Object(l.a)(this.handleError(this.$systemType+" Entry",null)))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(b.a)(t=>({manyDeleted:!0})),Object(l.a)(this.handleError(this.$systemType+" Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(o.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(f.Tb(d.b),f.Tb(h.b),f.Tb(y.a))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac}),t})();var m=n("inDW");let p=(()=>{class t{constructor(t){this.fb=t,this.statuses={Active:"Active",Hidden:"Hidden"}}removeControls(t=[],e){t.forEach(t=>e.get(t)?e.removeControl(t):null)}$entryForm(){return this.fb.group({numberRemaining:["",{validators:[r.q.required,r.q.max(3)]}],_id:["",{validators:[r.q.required,r.q.minLength(1),r.q.maxLength(150)]}],author:["",{validators:[r.q.required,r.q.minLength(1),r.q.maxLength(150)]}],status:["",{validators:[r.q.required,Object(m.f)(this.statuses),r.q.minLength(1),r.q.maxLength(20)]}]})}}return t.\u0275fac=function(e){return new(e||t)(f.Tb(r.b))},t.\u0275prov=f.Gb({token:t,factory:t.\u0275fac}),t})();var O=n("Fk62"),v=n("/zEo"),w=n("Hk0H"),P=n("RPGP"),z=n("G+IB"),I=n("9nlD"),$=n("J1Ni"),k=n("9yhg"),E=n("+ef2"),A=n("Rxsk"),T=n("RBZI"),N=n("TY4h");function q(t,e){if(1&t&&(f.Pb(0,"h2"),f.yc(1),f.Ob()),2&t){const t=f.ac();f.zb(1),f.Ac(" ",t.title," ")}}function L(t,e){if(1&t&&f.Lb(0,"app-view-description",7),2&t){const t=f.ac();f.gc("view-description",t.view)("system-type",t.systemType)}}function R(t,e){if(1&t){const t=f.Qb();f.Pb(0,"app-notification-screen",8),f.Wb("finished",(function(){return f.rc(t),f.ac().removeNotification()})),f.Ob()}if(2&t){const t=f.ac();f.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function M(t,e){1&t&&(f.Pb(0,"td",16),f.yc(1," Nil "),f.Ob())}function F(t,e){if(1&t&&(f.Pb(0,"td",16),f.yc(1),f.Ob()),2&t){const t=f.ac().$implicit;f.zb(1),f.Ac(" ",null==t?null:t.author," ")}}function j(t,e){if(1&t&&(f.Pb(0,"td",16),f.yc(1),f.Ob()),2&t){const t=f.ac().$implicit;f.zb(1),f.Ac(" ",null==t?null:t.numberRemaining," ")}}function x(t,e){if(1&t&&(f.Pb(0,"td",16),f.yc(1),f.Ob()),2&t){const t=f.ac().$implicit;f.zb(1),f.Ac(" ",null==t?null:t.status," ")}}function S(t,e){if(1&t&&(f.Pb(0,"td",16),f.yc(1),f.Ob()),2&t){const t=f.ac().$implicit;f.zb(1),f.Ac(" ",null==t?null:t.num," ")}}function C(t,e){if(1&t&&(f.Pb(0,"td",16),f.yc(1),f.bc(2,"date"),f.Ob()),2&t){const t=f.ac().$implicit;f.zb(1),f.Ac(" ",f.dc(2,1,null==t?null:t.createdAt,"longDate")," ")}}function W(t,e){if(1&t){const t=f.Qb();f.Nb(0),f.Pb(1,"input",25,26),f.Wb("click",(function(){f.rc(t);const e=f.qc(2),n=f.ac(3),i=n.$implicit,r=n.index;return f.ac(2).addEntryToDeleteList(null==i?null:i.num,e.checked,r)})),f.Ob(),f.Lb(3,"span",27),f.Mb()}if(2&t){const t=e.$implicit,n=f.ac(3).$implicit;f.zb(1),f.gc("checked",t==(null==n?null:n.num))}}function K(t,e){if(1&t&&(f.Nb(0),f.wc(1,W,4,1,"ng-container",24),f.Mb()),2&t){const t=f.ac(4);f.zb(1),f.gc("ngForOf",t.esdl)}}function D(t,e){if(1&t){const t=f.Qb();f.Pb(0,"input",28,26),f.Wb("click",(function(){f.rc(t);const e=f.qc(1),n=f.ac(2),i=n.$implicit,r=n.index;return f.ac(2).addEntryToDeleteList(null==i?null:i.num,e.checked,r)})),f.Ob(),f.Lb(2,"span",27)}}function H(t,e){if(1&t&&(f.Pb(0,"label",21),f.wc(1,K,2,1,"ng-container",22),f.wc(2,D,3,0,"ng-template",null,23,f.xc),f.Ob()),2&t){const t=f.qc(3),e=f.ac(3);f.zb(1),f.gc("ngIf",e.esdl.length)("ngIfElse",t)}}const _=function(t){return["../","entry","detail",t]},V=function(t){return["../","entry","update",t]};function B(t,e){if(1&t&&(f.Pb(0,"tr"),f.Pb(1,"td",16),f.yc(2),f.Ob(),f.wc(3,M,2,0,"ng-template",null,17,f.xc),f.wc(5,F,2,1,"td",18),f.wc(6,j,2,1,"td",18),f.wc(7,x,2,1,"td",18),f.wc(8,S,2,1,"td",18),f.wc(9,C,3,4,"td",18),f.Pb(10,"td",11),f.Pb(11,"a",19),f.yc(12," View "),f.Ob(),f.Pb(13,"a",19),f.yc(14," Update "),f.Ob(),f.wc(15,H,4,2,"label",20),f.Ob(),f.Ob()),2&t){const t=e.$implicit,n=e.index,i=f.qc(4);f.zb(2),f.Ac(" ",n+1,". "),f.zb(3),f.gc("ngIf",null==t?null:t.author)("ngIfElse",i),f.zb(1),f.gc("ngIf",null==t?null:t.numberRemaining)("ngIfElse",i),f.zb(1),f.gc("ngIf",null==t?null:t.status)("ngIfElse",i),f.zb(1),f.gc("ngIf",null==t?null:t.num)("ngIfElse",i),f.zb(1),f.gc("ngIf",null==t?null:t.createdAt)("ngIfElse",i),f.zb(2),f.gc("routerLink",f.lc(14,_,null==t?null:t._id)),f.zb(2),f.gc("routerLink",f.lc(16,V,null==t?null:t._id)),f.zb(2),f.gc("ngIf",!0)}}function G(t,e){if(1&t&&f.Lb(0,"app-pagination",29),2&t){const t=f.ac(2);f.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function U(t,e){if(1&t&&(f.Pb(0,"div"),f.Pb(1,"table",9),f.Pb(2,"caption",10),f.yc(3," Entries "),f.Ob(),f.Pb(4,"colgroup"),f.Lb(5,"col",11),f.Lb(6,"col",11),f.Lb(7,"col",11),f.Lb(8,"col",11),f.Lb(9,"col",11),f.Lb(10,"col",11),f.Lb(11,"col",12),f.Ob(),f.Pb(12,"thead"),f.Pb(13,"tr"),f.Pb(14,"th",13),f.yc(15," Index "),f.Ob(),f.Pb(16,"th",13),f.yc(17," Author "),f.Ob(),f.Pb(18,"th",13),f.yc(19," Number Remaining "),f.Ob(),f.Pb(20,"th",13),f.yc(21," Status "),f.Ob(),f.Pb(22,"th",13),f.yc(23," Unique Number "),f.Ob(),f.Pb(24,"th",13),f.yc(25," Created At "),f.Ob(),f.Pb(26,"th",13),f.yc(27," Changes "),f.Ob(),f.Ob(),f.Ob(),f.Pb(28,"tbody"),f.wc(29,B,16,18,"tr",14),f.Ob(),f.Pb(30,"tfoot"),f.Pb(31,"tr"),f.Lb(32,"td"),f.Ob(),f.Pb(33,"tr"),f.Lb(34,"td"),f.Ob(),f.Pb(35,"tr"),f.wc(36,G,1,3,"app-pagination",15),f.Ob(),f.Ob(),f.Ob(),f.Ob()),2&t){const t=f.ac();f.zb(28),f.gc("@listAnimation",t.entries.length),f.zb(1),f.gc("ngForOf",t.entries)("ngForTrackBy",t.trackByName),f.zb(7),f.gc("ngIf",t.pageNumber)}}function Q(t,e){if(1&t&&f.Lb(0,"app-resource-unavailable",30),2&t){const t=f.ac();f.gc("error",t.error)}}let Y=(()=>{class t{constructor(t,e,n,i,r,s){this.route=t,this.router=e,this.location=n,this.rls=i,this.ems=r,this.ns=s,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0}trackByName(t,e){return e._id}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.link2=t.link2,this.$link=t.entries.$link,this.rls.$systemType=this.systemType,this.rls.$sa=this.$link,this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let i=t,r=i.keys,s={};for(let a of r){let t=i.get(a);t&&(s[a]=t)}return this.getAllEntry(s)})}getAllEntry(t){this.rls.getAllEntry(t,this.link2).subscribe(t=>{if(t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){e?t&&this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.rls.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(f.Kb(O.a),f.Kb(O.d),f.Kb(i.h),f.Kb(g),f.Kb(y.a),f.Kb(I.a))},t.\u0275cmp=f.Eb({type:t,selectors:[["app-request-limit-entries"]],features:[f.yb([y.a,I.a])],decls:10,vars:7,consts:[["id","entry-main"],[4,"ngIf"],[3,"view-description","system-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description","system-type"],[3,"notified","message","finished"],[1,"entries"],[1,"bold","left"],[1,""],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center",4,"ngIf","ngIfElse"],[1,"center","changes-option",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){1&t&&(f.Pb(0,"div",0),f.wc(1,q,2,1,"h2",1),f.wc(2,L,1,2,"app-view-description",2),f.wc(3,R,1,2,"app-notification-screen",3),f.Lb(4,"app-list-entry-options"),f.Pb(5,"div",4),f.Pb(6,"a",5),f.Wb("click",(function(){return e.deleteManyEntry()})),f.yc(7," Delete Many "),f.Ob(),f.Ob(),f.wc(8,U,37,4,"div",1),f.wc(9,Q,1,1,"app-resource-unavailable",6),f.Ob()),2&t&&(f.zb(1),f.gc("ngIf",e.title),f.zb(1),f.gc("ngIf",e.view),f.zb(1),f.gc("ngIf",e.notificationAvailable),f.zb(3),f.Cb("hide",e.esdl.length<2),f.zb(2),f.gc("ngIf",e.$entriesLength>0),f.zb(1),f.gc("ngIf",e.error))},directives:[i.l,k.a,E.a,A.a,i.k,O.f,T.a,N.a],pipes:[i.d],styles:[""],data:{animation:[$.b]}}),t})();var Z=n("XA6Z");function J(t,e){if(1&t&&(f.Pb(0,"h2"),f.yc(1),f.Ob()),2&t){const t=f.ac();f.zb(1),f.Ac(" ",t.title," ")}}function X(t,e){if(1&t&&f.Lb(0,"app-resource-unavailable",3),2&t){const t=f.ac();f.gc("error",t.error)}}function tt(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," Id : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",null==t.entry?null:t.entry._id," ")}}function et(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," First Name : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.firstName," ")}}function nt(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," Last Name : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.lastName," ")}}function it(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," Number Remaining : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",null==t.entry?null:t.entry.numberRemaining," ")}}function rt(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," Status : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",null==t.entry?null:t.entry.status," ")}}function st(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," Updated At : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.bc(6,"date"),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",f.dc(6,1,null==t.entry?null:t.entry.updatedAt,"fullDate")," ")}}function at(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"tr"),f.Pb(2,"th",10),f.yc(3," Number : "),f.Ob(),f.Pb(4,"td"),f.yc(5),f.Ob(),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(5),f.Ac(" ",null==t.entry?null:t.entry.num," ")}}const ct=function(t){return["../../../","entry","update",t]};function ot(t,e){if(1&t&&(f.Pb(0,"div",4),f.Pb(1,"div",5),f.Pb(2,"table"),f.Pb(3,"colgroup"),f.Lb(4,"col",6),f.Lb(5,"col",7),f.Ob(),f.Pb(6,"tbody"),f.wc(7,tt,6,1,"ng-container",0),f.wc(8,et,6,1,"ng-container",0),f.wc(9,nt,6,1,"ng-container",0),f.wc(10,it,6,1,"ng-container",0),f.wc(11,rt,6,1,"ng-container",0),f.wc(12,st,7,4,"ng-container",0),f.wc(13,at,6,1,"ng-container",0),f.Ob(),f.Ob(),f.Pb(14,"div",8),f.Pb(15,"h3"),f.yc(16," Entry Options "),f.Ob(),f.Pb(17,"a",9),f.yc(18),f.Ob(),f.Ob(),f.Ob(),f.Ob()),2&t){const t=f.ac();f.zb(7),f.gc("ngIf",null==t.entry?null:t.entry._id),f.zb(1),f.gc("ngIf",(null==t.entry?null:t.entry.author)&&(null==t.entry||null==t.entry.author?null:t.entry.author.firstName)),f.zb(1),f.gc("ngIf",(null==t.entry?null:t.entry.author)&&(null==t.entry||null==t.entry.author?null:t.entry.author.lastName)),f.zb(1),f.gc("ngIf",null==t.entry?null:t.entry.numberRemaining),f.zb(1),f.gc("ngIf",null==t.entry?null:t.entry.status),f.zb(1),f.gc("ngIf",null==t.entry?null:t.entry.updatedAt),f.zb(1),f.gc("ngIf",null==t.entry?null:t.entry.num),f.zb(4),f.gc("routerLink",f.lc(9,ct,null==t.entry?null:t.entry._id)),f.zb(1),f.Ac(" ",t.systemType," Update ")}}let lt=(()=>{class t{constructor(t,e,n){this.route=t,this.ems=e,this.rls=n,this.error=!1}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.link2=t.link2,this.$link=t.detail.$link,this.rls.$systemType=this.systemType,this.rls.$sa=this.$link,this.route.paramMap.pipe(Object(Z.a)(t=>{let e=t.get("entry");return this.rls.getEntry(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entry=t})}}return t.\u0275fac=function(e){return new(e||t)(f.Kb(O.a),f.Kb(y.a),f.Kb(g))},t.\u0275cmp=f.Eb({type:t,selectors:[["app-request-limit-entry-detail"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"error",4,"ngIf"],["id","entry-view",4,"ngIf"],[3,"error"],["id","entry-view"],["id","entry-detail"],[1,"entry-parameters"],[1,"data"],[1,"entry-options"],[1,"entry-option","center",3,"routerLink"],[1,"bold","left"]],template:function(t,e){1&t&&(f.wc(0,J,2,1,"h2",0),f.wc(1,X,1,1,"app-resource-unavailable",1),f.wc(2,ot,19,11,"div",2)),2&t&&(f.gc("ngIf",e.title),f.zb(1),f.gc("ngIf",e.error),f.zb(1),f.gc("ngIf",e.entry))},directives:[i.l,N.a,O.f],pipes:[i.d],styles:[""]}),t})();function ut(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Number Remaining of ",t.systemType," should be provided and cannot be empty ")}}function bt(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Number Remaining of ",t.systemType," cannot be exceed or be greater than 3 ")}}function dt(t,e){if(1&t&&(f.Pb(0,"div",2),f.Pb(1,"ul"),f.wc(2,ut,2,1,"li",0),f.wc(3,bt,2,1,"li",0),f.Ob(),f.Ob()),2&t){const t=f.ac(2);f.zb(2),f.gc("ngIf",null==t.numberRemaining.errors?null:t.numberRemaining.errors.required),f.zb(1),f.gc("ngIf",(null==t.numberRemaining.errors?null:t.numberRemaining.errors.required)||(null==t.numberRemaining.errors?null:t.numberRemaining.errors.max))}}function ft(t,e){if(1&t&&(f.Nb(0),f.wc(1,dt,4,2,"div",1),f.Mb()),2&t){const t=f.ac();f.zb(1),f.gc("ngIf",t.numberRemaining.invalid&&(t.numberRemaining.touched||t.numberRemaining.dirty))}}function ht(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Status of ",t.systemType," should be provided and cannot be empty ")}}function yt(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Status of ",t.systemType," cannot be less than 1 characters in length ")}}function gt(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Status of ",t.systemType," cannot be greater than 20 characters in length ")}}function mt(t,e){1&t&&(f.Nb(0),f.yc(1," or "),f.Mb())}function pt(t,e){if(1&t&&(f.Nb(0),f.yc(1),f.wc(2,mt,2,0,"ng-container",0),f.Mb()),2&t){const t=e.$implicit,n=e.last;f.zb(1),f.Ac(" ",t," "),f.zb(1),f.gc("ngIf",!n)}}function Ot(t,e){if(1&t&&(f.Nb(0),f.wc(1,pt,3,2,"ng-container",3),f.Mb()),2&t){const t=f.ac(4);f.zb(1),f.gc("ngForOf",t.status.errors.statusError.statuses)}}function vt(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.wc(2,Ot,2,1,"ng-container",0),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Status of ",t.systemType," should be either of the following "),f.zb(1),f.gc("ngIf",null==t.status.errors||null==t.status.errors.statusError?null:t.status.errors.statusError.statuses)}}function wt(t,e){if(1&t&&(f.Pb(0,"div",2),f.Pb(1,"ul"),f.wc(2,ht,2,1,"li",0),f.wc(3,yt,2,1,"li",0),f.wc(4,gt,2,1,"li",0),f.wc(5,vt,3,2,"li",0),f.Ob(),f.Ob()),2&t){const t=f.ac(2);f.zb(2),f.gc("ngIf",null==t.status.errors?null:t.status.errors.required),f.zb(1),f.gc("ngIf",(null==t.status.errors?null:t.status.errors.required)||(null==t.status.errors?null:t.status.errors.minlength)),f.zb(1),f.gc("ngIf",(null==t.status.errors?null:t.status.errors.required)||(null==t.status.errors?null:t.status.errors.maxlength)),f.zb(1),f.gc("ngIf",null==t.status.errors?null:t.status.errors.statusError)}}function Pt(t,e){if(1&t&&(f.Nb(0),f.wc(1,wt,6,4,"div",1),f.Mb()),2&t){const t=f.ac();f.zb(1),f.gc("ngIf",t.status.invalid&&(t.status.touched||t.status.dirty))}}function zt(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Author of ",t.systemType," should be provided and cannot be empty ")}}function It(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Author of ",t.systemType," cannot be less than 1 characters in length ")}}function $t(t,e){if(1&t&&(f.Pb(0,"li"),f.yc(1),f.Ob()),2&t){const t=f.ac(3);f.zb(1),f.Ac(" Author of ",t.systemType," cannot be greater than 150 characters in length ")}}function kt(t,e){if(1&t&&(f.Pb(0,"div",2),f.Pb(1,"ul"),f.wc(2,zt,2,1,"li",0),f.wc(3,It,2,1,"li",0),f.wc(4,$t,2,1,"li",0),f.Ob(),f.Ob()),2&t){const t=f.ac(2);f.zb(2),f.gc("ngIf",null==t.author.errors?null:t.author.errors.required),f.zb(1),f.gc("ngIf",(null==t.author.errors?null:t.author.errors.required)||(null==t.author.errors?null:t.author.errors.minlength)),f.zb(1),f.gc("ngIf",(null==t.author.errors?null:t.author.errors.required)||(null==t.author.errors?null:t.author.errors.maxlength))}}function Et(t,e){if(1&t&&(f.Nb(0),f.wc(1,kt,5,3,"div",1),f.Mb()),2&t){const t=f.ac();f.zb(1),f.gc("ngIf",t.author.invalid&&(t.author.touched||t.author.dirty))}}let At=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=f.Eb({type:t,selectors:[["app-request-limit-form-validators"]],inputs:{systemType:["system-type","systemType"],author:"author",numberRemaining:"numberRemaining",status:"status"},decls:3,vars:3,consts:[[4,"ngIf"],["class","validation-error",4,"ngIf"],[1,"validation-error"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(f.wc(0,ft,2,1,"ng-container",0),f.wc(1,Pt,2,1,"ng-container",0),f.wc(2,Et,2,1,"ng-container",0)),2&t&&(f.gc("ngIf",e.numberRemaining),f.zb(1),f.gc("ngIf",e.status),f.zb(1),f.gc("ngIf",e.author))},directives:[i.l,i.k],styles:[""]}),t})();function Tt(t,e){if(1&t&&(f.Pb(0,"h2"),f.yc(1),f.Ob()),2&t){const t=f.ac();f.zb(1),f.Ac(" ",t.title," ")}}function Nt(t,e){if(1&t&&f.Lb(0,"app-view-description",6),2&t){const t=f.ac();f.gc("view-description",t.view)("system-type",t.systemType)}}function qt(t,e){if(1&t&&f.Lb(0,"app-resource-unavailable",7),2&t){const t=f.ac();f.gc("error",t.error)}}function Lt(t,e){if(1&t){const t=f.Qb();f.Pb(0,"app-notification-screen",8),f.Wb("finished",(function(){return f.rc(t),f.ac().removeNotification()})),f.Ob()}if(2&t){const t=f.ac();f.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Rt(t,e){if(1&t&&(f.Pb(0,"p"),f.Pb(1,"b",9),f.yc(2," Form Message : "),f.Ob(),f.yc(3),f.Ob()),2&t){const t=f.ac();f.zb(3),f.Ac(" ",t.formMessage," ")}}function Mt(t,e){if(1&t&&f.Lb(0,"app-request-limit-form-validators",19),2&t){const t=f.ac(3);f.gc("system-type",t.systemType)("author",t.author)}}function Ft(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"div",15),f.Pb(2,"label",16),f.yc(3," Author Identity * : "),f.Ob(),f.Lb(4,"input",17),f.wc(5,Mt,1,2,"app-request-limit-form-validators",18),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(4),f.gc("placeholder",null==t.placeholder?null:t.placeholder.author)("readOnly",!0),f.zb(1),f.gc("ngIf",t.author)}}function jt(t,e){if(1&t&&f.Lb(0,"app-request-limit-form-validators",23),2&t){const t=f.ac(3);f.gc("system-type",t.systemType)("numberRemaining",t.numberRemaining)}}function xt(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"div",15),f.Pb(2,"label",20),f.yc(3," Number Remaining * : "),f.Ob(),f.Lb(4,"input",21),f.wc(5,jt,1,2,"app-request-limit-form-validators",22),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(4),f.gc("placeholder",null==t.placeholder?null:t.placeholder.numberRemaining)("readOnly",t.noEdit),f.zb(1),f.gc("ngIf",t.numberRemaining)}}function St(t,e){if(1&t&&f.Lb(0,"app-request-limit-form-validators",28),2&t){const t=f.ac(3);f.gc("system-type",t.systemType)("status",t.status)}}function Ct(t,e){if(1&t&&(f.Nb(0),f.Pb(1,"div",15),f.Pb(2,"label",24),f.yc(3," Status * : "),f.Ob(),f.Pb(4,"select",25),f.Lb(5,"option",26),f.Pb(6,"option",26),f.yc(7," Active "),f.Ob(),f.Pb(8,"option",26),f.yc(9," Hidden "),f.Ob(),f.Ob(),f.wc(10,St,1,2,"app-request-limit-form-validators",27),f.Ob(),f.Mb()),2&t){const t=f.ac(2);f.zb(4),f.gc("readOnly",t.noEdit),f.zb(2),f.gc("value","Active"),f.zb(2),f.gc("value","Hidden"),f.zb(2),f.gc("ngIf",t.status)}}function Wt(t,e){1&t&&(f.Pb(0,"p"),f.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),f.Ob())}const Kt=function(t){return["../../../","entry","detail",t]};function Dt(t,e){if(1&t&&(f.Pb(0,"div",29),f.Pb(1,"h3"),f.yc(2," Entry Options "),f.Ob(),f.Pb(3,"a",30),f.yc(4),f.Ob(),f.Ob()),2&t){const t=f.ac(2);f.zb(3),f.gc("routerLink",f.lc(2,Kt,t.entry.num)),f.zb(1),f.Ac(" ",t.systemType," Detail ")}}const Ht=function(t,e){return{disabled:t,"btn-submit":e}};function _t(t,e){if(1&t){const t=f.Qb();f.Pb(0,"div",10),f.Pb(1,"div",11),f.Pb(2,"form",12),f.Wb("ngSubmit",(function(){f.rc(t);const e=f.ac();return e.updateEntry(e.entryForm.value)})),f.wc(3,Ft,6,3,"ng-container",1),f.wc(4,xt,6,3,"ng-container",1),f.wc(5,Ct,11,4,"ng-container",1),f.Pb(6,"button",13),f.yc(7," Submit "),f.Ob(),f.wc(8,Wt,2,0,"p",1),f.Ob(),f.wc(9,Dt,5,4,"div",14),f.Ob(),f.Ob()}if(2&t){const t=f.ac();f.zb(2),f.ic("name","",t.view,"-form"),f.gc("formGroup",t.entryForm),f.zb(1),f.gc("ngIf",t.author),f.zb(1),f.gc("ngIf",t.numberRemaining),f.zb(1),f.gc("ngIf",t.status),f.zb(1),f.Bb(f.mc(12,Ht,!t.isFormValid,t.isFormValid)),f.vc("display",t.fip),f.gc("disabled",!t.entryForm.valid),f.zb(2),f.gc("ngIf",t.formSubmitted),f.zb(1),f.gc("ngIf",t.systemType)}}let Vt=(()=>{class t{constructor(t,e,n,i,r,s){this.route=t,this.router=e,this.rls=n,this.rlfs=i,this.ems=r,this.ns=s,this.formModified=!1,this.formMessage="Form will not be submitted and entry will not be updated if data are unchanged since when they were retrieved from the database.",this.entryIdx="",this.formSubmitted=!1,this.error=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.update.systemType,this.title=t.update.title,this.view=t.update.view,this.viewWord=t.update.viewWord,this.link=t.update.link,this.$link=t.update.$link,this.controlFilters=t.update.controlFilters,this.noEdit=t.update.noEdit,this.placeholder=t.update.placeholder,this.rls.$systemType=this.systemType,this.rls.$sa=this.$link,this.route.paramMap.pipe(Object(Z.a)(t=>{let e=t.get("entry");return this.rls.updateEntry(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entry=t.$data,t.$data[this.systemType]&&(this.entry=t.$data[this.systemType]),this.entryIdx=this.entry._id,this.entryForm=this.rlfs.$entryForm(),this.rlfs.removeControls(this.controlFilters,this.entryForm),this.entry.author=this.entry.author._id,this.entryForm.patchValue(this.entry)})}updateEntry(t){this.error=null,this.fip="none";for(let n in this.entry)if(this.entry[n]!=t[n]&&null!=t[n]){this.formModified=!0;break}let e=Object.keys(this.entry);if(Object.keys(t).some(t=>{e.indexOf(t)>-1||(this.formModified=!0)}),!this.formModified)return this.fip="block",!1;this.formSubmitted=!0,this.rls.$updateEntry(this.entryIdx,t).subscribe(t=>t?t&&t.updated?(this.formSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} is updated.`),this.$entryChanges(t.$data)):void 0:(this.formSubmitted=!1,this.fip="block",this.formModified=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(["system","internal",this.link,"entries"]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}get _id(){return this.entryForm.get("_id")}get author(){return this.entryForm.get("author")}get numberRemaining(){return this.entryForm.get("numberRemaining")}get status(){return this.entryForm.get("status")}get isFormValid(){return this.entryForm.valid}}return t.\u0275fac=function(e){return new(e||t)(f.Kb(O.a),f.Kb(O.d),f.Kb(g),f.Kb(p),f.Kb(y.a),f.Kb(I.a))},t.\u0275cmp=f.Eb({type:t,selectors:[["app-request-limit-entry-update"]],features:[f.yb([y.a,I.a])],decls:7,vars:6,consts:[["id","entry-create"],[4,"ngIf"],[3,"view-description","system-type",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","entry-update",4,"ngIf"],[3,"view-description","system-type"],[3,"error"],[3,"notified","message","finished"],[1,"bold"],["id","entry-update"],["id","entry-detail"],["action","","method","post","enctype","application/x-www-form-urlencoded","autocomplete","off",3,"name","formGroup","ngSubmit"],["type","submit","id","form-btn-submit",3,"disabled"],["class","entry-options",4,"ngIf"],[1,"form-group"],["for","author",1,"form-label","bold"],["type","text","id","author","required","required","name","author","formControlName","author",1,"form-control",3,"placeholder","readOnly"],[3,"system-type","author",4,"ngIf"],[3,"system-type","author"],["for","numberRemaining",1,"form-label","bold"],["type","text","id","numberRemaining","required","required","name","numberRemaining","formControlName","numberRemaining",1,"form-control",3,"placeholder","readOnly"],[3,"system-type","numberRemaining",4,"ngIf"],[3,"system-type","numberRemaining"],["for","status",1,"form-label","bold"],["name","status","id","status","required","required","formControlName","status",1,"form-control",3,"readOnly"],[3,"value"],[3,"system-type","status",4,"ngIf"],[3,"system-type","status"],[1,"entry-options"],[1,"entry-option","center",3,"routerLink"]],template:function(t,e){1&t&&(f.Pb(0,"div",0),f.wc(1,Tt,2,1,"h2",1),f.wc(2,Nt,1,2,"app-view-description",2),f.wc(3,qt,1,1,"app-resource-unavailable",3),f.wc(4,Lt,1,2,"app-notification-screen",4),f.wc(5,Rt,4,1,"p",1),f.wc(6,_t,10,15,"div",5),f.Ob()),2&t&&(f.zb(1),f.gc("ngIf",e.title),f.zb(1),f.gc("ngIf",e.view),f.zb(1),f.gc("ngIf",e.error),f.zb(1),f.gc("ngIf",e.notificationAvailable),f.zb(1),f.gc("ngIf",!e.formModified),f.zb(1),f.gc("ngIf",e.entryForm))},directives:[i.l,E.a,N.a,A.a,r.s,r.l,r.g,r.a,r.o,r.k,r.e,At,r.p,r.m,r.r,O.f],styles:[""]}),t})(),Bt={systemType:"Request Limit",title:"Request Limit",view:"gen-internal",viewWord:"Request Limit",link:"request-limit",$link:"request-limit",systemGuideline:"gen-internal"};const Gt={dashboard:Object.assign(Object.assign({},Bt),{canCreate:!1}),deleteAll:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entries : Delete All",view:"uadp"}),entries:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entries"}),detail:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entry Detail"}),update:Object.assign(Object.assign({},Bt),{title:Bt.systemType+" Entry Update",controlFilters:["description","num","faculty","requestUsername","requestPassword"],noEdit:!1,placeholder:{author:"David Mike",numberRemaining:3}})},Ut=[{path:"",component:w.a,children:[{path:"",component:P.a,data:{dashboard:Gt.dashboard}},{path:"entries",component:Y,data:{entries:Gt.entries,link2:!1}},{path:"entries/delete/all",component:z.a,canActivate:[v.a],data:{deleteAll:Gt.deleteAll}},{path:"entry/update/:entry",component:Vt,data:{update:Gt.update}},{path:"entry/detail/:entry",component:lt,data:{detail:Gt.detail}}]}];let Qt=(()=>{class t{constructor(){}}return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)},imports:[[O.g.forChild(Ut)],O.g]}),t})(),Yt=(()=>{class t{}return t.\u0275mod=f.Ib({type:t}),t.\u0275inj=f.Hb({factory:function(e){return new(e||t)},providers:[g,p],imports:[[i.b,r.n,c.a,a.a,s.a,Qt]]}),t})()}}]);