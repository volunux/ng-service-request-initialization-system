(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"48fE":function(t,e,n){"use strict";n.r(e),n.d(e,"RefundModule",(function(){return an}));var s=n("Yvf7"),r=n("hxwH"),i=n("8VHZ"),c=n("Vofp"),a=n("mHYI"),o=n("sH5N"),l=n("Fk62"),u=n("GKOy"),b=n("iojP"),y=n("/zEo"),f=n("XA6Z");const p=["staff","moderator","administrator","superAdministrator"];var g=n("EUGn"),d=n("9nlD"),h=n("Ub9n"),m=n("jV/k"),v=n("vfyW"),x=n("oECA"),N=n("O6Zd"),I=n("XRyL"),M=n("VcWf"),$=n("FBrc");let O=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n}getAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(v.a)(t=>console.log(t)),Object(x.a)(this.handleError(this.$systemType+" Entries",[])))}getEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}`).pipe(Object(v.a)(t=>console.log(t)),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}getEntryLetter(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/letter`).pipe(Object(v.a)(t=>console.log(t)),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/add`).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>({permitted:!0})),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}$addEntry(t){return this.http.post(`${this.apiConfig.host}/${this.$sa}/create`,t).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>({created:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}addComment(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>({permitted:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Comment Entry",null)))}$addComment(t,e){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`,e).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>({updated:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addReply(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`).pipe(Object(v.a)(t=>{console.log(t)}),Object(N.a)(t=>({permitted:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Reply Entry",null)))}$addReply(t,e,n){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`,n).pipe(Object(v.a)(t=>{console.log(t)}),Object(N.a)(t=>({updated:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Reply Entry",null)))}getTimeline(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/timeline`).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>t),Object(x.a)(this.handleError(this.$systemType+" Entry Timeline",null)))}$updateEntry(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}`,e).pipe(Object(N.a)(t=>({updated:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}$confirmEntryOnReview(t){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/review`,{entry:t}).pipe(Object(I.a)(5e3),Object(N.a)(t=>({onReview:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}transferEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/transfer`).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>({permitted:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}$transferEntry(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/transfer`,e).pipe(Object(v.a)(t=>console.log(t)),Object(N.a)(t=>({updated:!0,$data:t})),Object(x.a)(this.handleError(this.$systemType+" Entry",null)))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(N.a)(t=>({manyDeleted:!0})),Object(x.a)(this.handleError(this.$systemType+" Entries Delete",[])))}$deleteAllGeneralRequest(){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(N.a)(t=>({allDeleted:!0})),Object(x.a)(this.handleError(this.$systemType+" Entry or Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(m.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(h.Rb($.b),h.Rb(M.b),h.Rb(g.a))},t.\u0275prov=h.Eb({token:t,factory:t.\u0275fac}),t})();var w=n("inDW");const E={Fulfilled:"Fulfilled",Rejected:"Rejected",Update:"Update"};let W=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.mainBodyV=[i.q.required,i.q.minLength(1),i.q.maxLength(8e3)]}removeControls(t,e){t.forEach(t=>{e.removeControl(t)})}entryUpdateForm(){return this.fb.group({text:["",{validators:[i.q.required,i.q.minLength(9),i.q.maxLength(500)]}],status:["",{validators:[i.q.required,Object(w.e)(E),i.q.minLength(2),i.q.maxLength(30)]}],stage:["",{validators:[i.q.minLength(1),i.q.maxLength(30)]}]})}searchForm(t){return new i.c("",[Object(w.d)(t)])}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(i.b))},t.\u0275prov=h.Eb({token:t,factory:t.\u0275fac}),t})();var F=n("9Ku7"),S=n("+ef2"),T=n("TY4h"),j=n("Rxsk"),k=n("MRVz");function L(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"p"),h.Nb(2,"b",1),h.uc(3," Student Name : "),h.Mb(),h.uc(4),h.Mb(),h.Kb()),2&t){const t=h.Wb(3);h.xb(4),h.xc(" ",null==t.entry||null==t.entry.author?null:t.entry.author.firstName," ",null==t.entry||null==t.entry.author?null:t.entry.author.lastName," ")}}function q(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"p"),h.Nb(2,"b",1),h.uc(3," Student Faculty : "),h.Mb(),h.uc(4),h.Mb(),h.Kb()),2&t){const t=h.Wb(3);h.xb(4),h.wc(" ",null==t.entry||null==t.entry.author?null:t.entry.author.faculty," ")}}function R(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"p"),h.Nb(2,"b",1),h.uc(3," Student Department : "),h.Mb(),h.uc(4),h.Mb(),h.Kb()),2&t){const t=h.Wb(3);h.xb(4),h.wc(" ",null==t.entry||null==t.entry.author?null:t.entry.author.department," ")}}function C(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"p"),h.Nb(2,"b",1),h.uc(3," Student Level : "),h.Mb(),h.uc(4),h.Mb(),h.Kb()),2&t){const t=h.Wb(3);h.xb(4),h.wc(" ",null==t.entry||null==t.entry.author?null:t.entry.author.level," ")}}function J(t,e){if(1&t&&(h.Lb(0),h.sc(1,L,5,2,"ng-container",0),h.sc(2,q,5,1,"ng-container",0),h.sc(3,R,5,1,"ng-container",0),h.sc(4,C,5,1,"ng-container",0),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",(null==t.entry||null==t.entry.author?null:t.entry.author.firstName)||(null==t.entry||null==t.entry.author?null:t.entry.author.lastName)),h.xb(1),h.cc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.faculty),h.xb(1),h.cc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.department),h.xb(1),h.cc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.level)}}function K(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"p"),h.Nb(2,"b",1),h.uc(3," Request Handler : "),h.Mb(),h.uc(4),h.Mb(),h.Kb()),2&t){const t=h.Wb(2);h.xb(4),h.xc(" ",null==t.entry||null==t.entry.entryHandler?null:t.entry.entryHandler.firstName," ",null==t.entry||null==t.entry.entryHandler?null:t.entry.entryHandler.lastName," ")}}function A(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"h2"),h.uc(2," Student Detail "),h.Mb(),h.sc(3,J,5,4,"ng-container",0),h.sc(4,K,5,2,"ng-container",0),h.Kb()),2&t){const t=h.Wb();h.xb(3),h.cc("ngIf",null==t.entry?null:t.entry.author),h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.entryHandler)}}let U=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Cb({type:t,selectors:[["app-student-detail"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"bold"]],template:function(t,e){1&t&&h.sc(0,A,5,2,"ng-container",0),2&t&&h.cc("ngIf",e.entry)},directives:[s.l],styles:[""]}),t})();function V(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"li"),h.uc(2),h.Mb(),h.Kb()),2&t){const t=e.$implicit;h.xb(2),h.xc(" Name ",t.firstName," ",t.lastName," ")}}function D(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"h2"),h.uc(2," List of Signatures "),h.Mb(),h.sc(3,V,3,2,"ng-container",1),h.Kb()),2&t){const t=h.Wb();h.xb(3),h.cc("ngForOf",null==t.entry?null:t.entry.signature)}}let _=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Cb({type:t,selectors:[["app-signature"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&h.sc(0,D,4,1,"ng-container",0),2&t&&h.cc("ngIf",e.entry&&(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length))},directives:[s.l,s.k],styles:[""]}),t})();var G=n("VSD5"),B=n("L0ga"),Y=n("rRbD");function H(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",8),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("stage",t.stage)}}function P(t,e){if(1&t&&(h.Nb(0,"div",5),h.Jb(1,"input",6),h.sc(2,H,1,2,"app-general-request-validators",7),h.Mb()),2&t){const t=h.Wb(2);h.xb(2),h.cc("ngIf",t.stage)}}function z(t,e){1&t&&(h.Lb(0),h.Nb(1,"option",13),h.uc(2," Reject "),h.Mb(),h.Nb(3,"option",14),h.uc(4," Approve "),h.Mb(),h.Kb())}function Q(t,e){if(1&t&&(h.Lb(0),h.sc(1,z,5,0,"ng-container",0),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.status)}}function X(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",15),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("status",t.status)}}function Z(t,e){if(1&t&&(h.Nb(0,"div",5),h.Nb(1,"label",9),h.uc(2," Entry Status "),h.Mb(),h.Nb(3,"select",10),h.Jb(4,"option",11),h.sc(5,Q,2,1,"ng-container",0),h.Mb(),h.sc(6,X,1,2,"app-general-request-validators",12),h.Mb()),2&t){const t=h.Wb(2);h.xb(5),h.cc("ngIf",t.entry),h.xb(1),h.cc("ngIf",t.status)}}function tt(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",19),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("text",t.text)}}function et(t,e){if(1&t&&(h.Nb(0,"div",5),h.Nb(1,"label",16),h.uc(2," Message "),h.Mb(),h.Nb(3,"textarea",17),h.uc(4," "),h.Mb(),h.sc(5,tt,1,2,"app-general-request-validators",18),h.Mb()),2&t){const t=h.Wb(2);h.xb(5),h.cc("ngIf",t.text)}}function nt(t,e){1&t&&(h.Lb(0),h.Nb(1,"div",5),h.Nb(2,"p"),h.Nb(3,"b",20),h.uc(4," By clicking on the submit , the request will be forwarded to the Office of the Bursary for Resolution "),h.Mb(),h.Mb(),h.Mb(),h.Kb())}function st(t,e){1&t&&(h.Lb(0),h.Nb(1,"div",5),h.Nb(2,"p"),h.Nb(3,"b",20),h.uc(4,' By clicking on the "Submit" button , the request will be forwarded to the Student to write an application letter on the subject matter "Refund of Fees" for resolution. '),h.Mb(),h.Mb(),h.Mb(),h.Kb())}function rt(t,e){1&t&&(h.Lb(0),h.Nb(1,"div",5),h.Nb(2,"p"),h.Nb(3,"b",20),h.uc(4,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),h.Mb(),h.Mb(),h.Mb(),h.Kb())}function it(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"div",1),h.sc(2,P,3,1,"div",2),h.sc(3,Z,7,2,"div",2),h.sc(4,et,6,1,"div",2),h.Lb(5,3),h.sc(6,nt,5,0,"ng-container",4),h.sc(7,st,5,0,"ng-container",4),h.sc(8,rt,5,0,"ng-container",4),h.Kb(),h.Mb(),h.Kb()),2&t){const t=h.Wb();h.xb(1),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.stage),h.xb(1),h.cc("ngIf",t.status),h.xb(1),h.cc("ngIf",t.text),h.xb(1),h.cc("ngSwitch",t.currentStage),h.xb(1),h.cc("ngSwitchCase","2"),h.xb(1),h.cc("ngSwitchCase","3"),h.xb(1),h.cc("ngSwitchCase","4")}}let ct=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Cb({type:t,selectors:[["app-stage-one-two-five"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],entry:"entry",status:"status",text:"text",stage:"stage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["for","status",1,"form-label","bold"],["name","status","id","status","formControlName","status",1,"form-control"],["value",""],[3,"system-type","status",4,"ngIf"],["value","Rejected"],["value","Fulfilled"],[3,"system-type","status"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],[1,"bold"]],template:function(t,e){1&t&&h.sc(0,it,9,8,"ng-container",0),2&t&&h.cc("ngIf",e.entry)},directives:[s.l,i.l,i.f,s.m,s.n,i.a,i.k,i.e,Y.a,i.p,i.m,i.r],styles:[""]}),t})();function at(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",8),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("stage",t.stage)}}function ot(t,e){if(1&t&&(h.Nb(0,"div",4),h.Jb(1,"input",6),h.sc(2,at,1,2,"app-general-request-validators",7),h.Mb()),2&t){const t=h.Wb(2);h.xb(2),h.cc("ngIf",t.stage)}}function lt(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",11),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("text",t.text)}}function ut(t,e){if(1&t&&(h.Nb(0,"div",4),h.Jb(1,"input",9),h.sc(2,lt,1,2,"app-general-request-validators",10),h.Mb()),2&t){const t=h.Wb(2);h.xb(2),h.cc("ngIf",t.text)}}function bt(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",16),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("main-body",t.main_body)}}function yt(t,e){if(1&t&&(h.Nb(0,"div",12),h.Nb(1,"label",13),h.uc(2," Letter "),h.Mb(),h.Jb(3,"quill-editor",14),h.sc(4,bt,1,2,"app-general-request-validators",15),h.Mb()),2&t){const t=h.Wb(2);h.xb(4),h.cc("ngIf",t.main_body)}}function ft(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"div",1),h.sc(2,ot,3,1,"div",2),h.sc(3,ut,3,1,"div",2),h.Lb(4),h.sc(5,yt,5,1,"div",3),h.Kb(),h.Nb(6,"div",4),h.Nb(7,"p"),h.Nb(8,"b",5),h.uc(9,' By clicking on the "Submit" button , the request will be forwarded to the HOD and Dean for endorsement on whether the fees paid will be reverted to the student account. '),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Kb()),2&t){const t=h.Wb();h.xb(1),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.stage),h.xb(1),h.cc("ngIf",t.text),h.xb(2),h.cc("ngIf",t.main_body)}}let pt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Cb({type:t,selectors:[["app-stage-three"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],main_body:["main-body","main_body"],currentStage:["current-stage","currentStage"],status:"status",text:"text",stage:"stage",entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],["id","letter-writing","class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["type","hidden","name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],["id","letter-writing",1,"form-group"],["for","text",1,"form-label","bold"],["formControlName","main_body"],[3,"system-type","main-body",4,"ngIf"],[3,"system-type","main-body"]],template:function(t,e){1&t&&h.sc(0,ft,10,4,"ng-container",0),2&t&&h.cc("ngIf",e.entry)},directives:[s.l,i.l,i.f,i.a,i.k,i.e,Y.a,o.a],styles:[""]}),t})();function gt(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",7),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("stage",t.stage)}}function dt(t,e){if(1&t&&(h.Nb(0,"div",3),h.Jb(1,"input",5),h.sc(2,gt,1,2,"app-general-request-validators",6),h.Mb()),2&t){const t=h.Wb(2);h.xb(2),h.cc("ngIf",t.stage)}}function ht(t,e){if(1&t&&h.Jb(0,"app-general-request-validators",11),2&t){const t=h.Wb(3);h.cc("system-type",t.systemType)("text",t.text)}}function mt(t,e){if(1&t&&(h.Nb(0,"div",3),h.Nb(1,"label",8),h.uc(2," Message "),h.Mb(),h.Nb(3,"textarea",9),h.uc(4," "),h.Mb(),h.sc(5,ht,1,2,"app-general-request-validators",10),h.Mb()),2&t){const t=h.Wb(2);h.xb(5),h.cc("ngIf",t.text)}}function vt(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"div",1),h.sc(2,dt,3,1,"div",2),h.sc(3,mt,6,1,"div",2),h.Nb(4,"div",3),h.Nb(5,"p"),h.Nb(6,"b",4),h.uc(7,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),h.Mb(),h.Mb(),h.Mb(),h.Mb(),h.Kb()),2&t){const t=h.Wb();h.xb(1),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.stage),h.xb(1),h.cc("ngIf",t.text)}}let xt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Cb({type:t,selectors:[["app-stage-four"]],inputs:{entry:"entry",systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],status:"status",text:"text",stage:"stage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"]],template:function(t,e){1&t&&h.sc(0,vt,8,3,"ng-container",0),2&t&&h.cc("ngIf",e.entry)},directives:[s.l,i.l,i.f,i.a,i.k,i.e,Y.a],styles:[""]}),t})();function Nt(t,e){if(1&t&&(h.Nb(0,"h2"),h.uc(1),h.Mb()),2&t){const t=h.Wb();h.xb(1),h.wc(" ",t.systemType," Entry ")}}function It(t,e){if(1&t&&h.Jb(0,"app-view-description",6),2&t){const t=h.Wb();h.cc("view-description",t.view)}}function Mt(t,e){if(1&t&&h.Jb(0,"app-resource-unavailable",7),2&t){const t=h.Wb();h.cc("error",t.error)}}function $t(t,e){if(1&t){const t=h.Ob();h.Nb(0,"app-notification-screen",8),h.Ub("finished",(function(){return h.nc(t),h.Wb().removeNotification()})),h.Mb()}if(2&t){const t=h.Wb();h.cc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function Ot(t,e){if(1&t&&h.Jb(0,"app-request-entry-detail",12),2&t){const t=h.Wb(2);h.cc("entry",t.entry)}}function wt(t,e){if(1&t&&h.Jb(0,"app-student-detail",12),2&t){const t=h.Wb(2);h.cc("entry",t.entry)}}function Et(t,e){if(1&t&&(h.Lb(0),h.Jb(1,"app-signature",12),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("entry",t.entry)}}function Wt(t,e){if(1&t&&(h.Lb(0),h.sc(1,Et,2,1,"ng-container",1),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",(null==t.entry?null:t.entry.signature)&&(null==t.entry?null:t.entry.signature.length))}}function Ft(t,e){if(1&t){const t=h.Ob();h.Nb(0,"app-entry-options",13),h.Ub("onReviewEntry",(function(e){return h.nc(t),h.Wb(2).$confirmEntryOnReview(e)})),h.Mb()}if(2&t){const t=h.Wb(2);h.cc("view-description",t.view)("link",t.link)("entry",t.entry)("entry-on-review",t.setEntryOnReview)("can-update-entry",t.canUpdateEntry)("system-type",t.systemType)("view-word",t.viewWord)}}function St(t,e){if(1&t&&h.Jb(0,"app-file-attachments-two",12),2&t){const t=h.Wb(2);h.cc("entry",t.entry)}}function Tt(t,e){if(1&t&&h.Jb(0,"app-stage-one-two-five",18),2&t){const t=h.Wb(5);h.cc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function jt(t,e){1&t&&(h.Nb(0,"p"),h.uc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),h.Mb())}const kt=function(t,e){return{disabled:t,"btn-submit":e}};function Lt(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"div",14),h.Nb(2,"h3"),h.uc(3," Request Options "),h.Mb(),h.Nb(4,"form",15),h.Ub("ngSubmit",(function(){h.nc(t);const e=h.Wb(4);return e.updateEntry(e.entryForm.value)})),h.sc(5,Tt,1,7,"app-stage-one-two-five",16),h.Nb(6,"button",17),h.uc(7," Submit "),h.Mb(),h.sc(8,jt,2,0,"p",1),h.Mb(),h.Mb(),h.Kb()}if(2&t){const t=h.Wb(4);h.xb(4),h.ec("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",h.pc),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.zb(h.ic(9,kt,!t.isFormValid,t.isFormValid)),h.rc("display",t.fip),h.cc("disabled",!t.entryForm.valid),h.xb(2),h.cc("ngIf",t.formSubmitted)}}function qt(t,e){if(1&t&&(h.Lb(0),h.sc(1,Lt,9,12,"ng-container",1),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("ngIf",t.canUpdateEntry)}}function Rt(t,e){if(1&t&&(h.Lb(0),h.sc(1,qt,2,1,"ng-container",1),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",("1"==(null==t.entry?null:t.entry.stage._id)||1==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Ct(t,e){if(1&t&&h.Jb(0,"app-stage-one-two-five",18),2&t){const t=h.Wb(5);h.cc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Jt(t,e){1&t&&(h.Nb(0,"p"),h.uc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),h.Mb())}function Kt(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"div",14),h.Nb(2,"h3"),h.uc(3," Request Options "),h.Mb(),h.Nb(4,"form",15),h.Ub("ngSubmit",(function(){h.nc(t);const e=h.Wb(4);return e.updateEntry(e.entryForm.value)})),h.sc(5,Ct,1,7,"app-stage-one-two-five",16),h.Nb(6,"button",17),h.uc(7," Submit "),h.Mb(),h.sc(8,Jt,2,0,"p",1),h.Mb(),h.Mb(),h.Kb()}if(2&t){const t=h.Wb(4);h.xb(4),h.ec("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",h.pc),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.zb(h.ic(9,kt,!t.isFormValid,t.isFormValid)),h.rc("display",t.fip),h.cc("disabled",!t.entryForm.valid),h.xb(2),h.cc("ngIf",t.formSubmitted)}}function At(t,e){if(1&t&&(h.Lb(0),h.sc(1,Kt,9,12,"ng-container",1),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("ngIf",t.canUpdateEntry2)}}function Ut(t,e){if(1&t&&(h.Lb(0),h.sc(1,At,2,1,"ng-container",1),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",("2"==(null==t.entry?null:t.entry.stage._id)||2==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Vt(t,e){if(1&t&&h.Jb(0,"app-stage-three",20),2&t){const t=h.Wb(5);h.cc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("main-body",t.mainBody)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Dt(t,e){1&t&&(h.Nb(0,"p"),h.uc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),h.Mb())}function _t(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"div",14),h.Nb(2,"h3"),h.uc(3," Request Options "),h.Mb(),h.Nb(4,"form",15),h.Ub("ngSubmit",(function(){h.nc(t);const e=h.Wb(4);return e.updateEntry(e.entryForm.value)})),h.sc(5,Vt,1,8,"app-stage-three",19),h.Nb(6,"button",17),h.uc(7," Submit "),h.Mb(),h.sc(8,Dt,2,0,"p",1),h.Mb(),h.Mb(),h.Kb()}if(2&t){const t=h.Wb(4);h.xb(4),h.ec("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",h.pc),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.zb(h.ic(9,kt,!t.isFormValid,t.isFormValid)),h.rc("display",t.fip),h.cc("disabled",!t.entryForm.valid),h.xb(2),h.cc("ngIf",t.formSubmitted)}}function Gt(t,e){if(1&t&&(h.Lb(0),h.sc(1,_t,9,12,"ng-container",1),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("ngIf",t.canUpdateEntry3)}}function Bt(t,e){if(1&t&&(h.Lb(0),h.sc(1,Gt,2,1,"ng-container",1),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf","3"==(null==t.entry?null:t.entry.stage._id)||3==(null==t.entry?null:t.entry.stage._id))}}function Yt(t,e){if(1&t&&h.Jb(0,"app-stage-four",18),2&t){const t=h.Wb(8);h.cc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Ht(t,e){1&t&&(h.Nb(0,"p"),h.uc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),h.Mb())}function Pt(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"div",14),h.Nb(2,"h3"),h.uc(3," Request Options "),h.Mb(),h.Nb(4,"form",15),h.Ub("ngSubmit",(function(){h.nc(t);const e=h.Wb(7);return e.updateEntry(e.entryForm.value)})),h.sc(5,Yt,1,7,"app-stage-four",16),h.Nb(6,"button",17),h.uc(7," Sign "),h.Mb(),h.sc(8,Ht,2,0,"p",1),h.Mb(),h.Mb(),h.Kb()}if(2&t){const t=h.Wb(7);h.xb(4),h.ec("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",h.pc),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.zb(h.ic(9,kt,!t.isFormValid,t.isFormValid)),h.rc("display",t.fip),h.cc("disabled",!t.entryForm.valid),h.xb(2),h.cc("ngIf",t.formSubmitted)}}function zt(t,e){if(1&t&&(h.Lb(0),h.sc(1,Pt,9,12,"ng-container",1),h.Kb()),2&t){const t=e.$implicit,n=h.Wb(6);h.xb(1),h.cc("ngIf",t._id!=n.userId)}}function Qt(t,e){if(1&t&&(h.Lb(0),h.sc(1,zt,2,1,"ng-container",23),h.Kb()),2&t){const t=h.Wb(5);h.xb(1),h.cc("ngForOf",null==t.entry?null:t.entry.signature)}}function Xt(t,e){if(1&t&&(h.Lb(0),h.sc(1,Qt,2,1,"ng-container",1),h.Kb()),2&t){const t=h.Wb(4);h.xb(1),h.cc("ngIf",(null==t.entry?null:t.entry.signature.length)<2)}}function Zt(t,e){if(1&t&&h.Jb(0,"app-stage-four",18),2&t){const t=h.Wb(5);h.cc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function te(t,e){1&t&&(h.Nb(0,"p"),h.uc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),h.Mb())}function ee(t,e){if(1&t){const t=h.Ob();h.Nb(0,"div",14),h.Nb(1,"h3"),h.uc(2," Request Options "),h.Mb(),h.Nb(3,"form",15),h.Ub("ngSubmit",(function(){h.nc(t);const e=h.Wb(4);return e.updateEntry(e.entryForm.value)})),h.sc(4,Zt,1,7,"app-stage-four",16),h.Nb(5,"button",17),h.uc(6," Sign "),h.Mb(),h.sc(7,te,2,0,"p",1),h.Mb(),h.Mb()}if(2&t){const t=h.Wb(4);h.xb(3),h.ec("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",h.pc),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.zb(h.ic(9,kt,!t.isFormValid,t.isFormValid)),h.rc("display",t.fip),h.cc("disabled",!t.entryForm.valid),h.xb(2),h.cc("ngIf",t.formSubmitted)}}function ne(t,e){if(1&t&&(h.Lb(0),h.sc(1,Xt,2,1,"ng-container",21),h.sc(2,ee,8,12,"ng-template",null,22,h.tc),h.Kb()),2&t){const t=h.mc(3),e=h.Wb(3);h.xb(1),h.cc("ngIf",(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length))("ngIfElse",t)}}function se(t,e){if(1&t&&(h.Lb(0),h.sc(1,ne,4,2,"ng-container",1),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",t.canUpdateEntry4)}}function re(t,e){if(1&t&&h.Jb(0,"app-stage-one-two-five",18),2&t){const t=h.Wb(5);h.cc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function ie(t,e){1&t&&(h.Nb(0,"p"),h.uc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),h.Mb())}function ce(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"div",14),h.Nb(2,"h3"),h.uc(3," Request Options "),h.Mb(),h.Nb(4,"form",15),h.Ub("ngSubmit",(function(){h.nc(t);const e=h.Wb(4);return e.updateEntry(e.entryForm.value)})),h.sc(5,re,1,7,"app-stage-one-two-five",16),h.Nb(6,"button",17),h.uc(7," Submit "),h.Mb(),h.sc(8,ie,2,0,"p",1),h.Mb(),h.Mb(),h.Kb()}if(2&t){const t=h.Wb(4);h.xb(4),h.ec("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",h.pc),h.cc("formGroup",t.entryForm),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.zb(h.ic(9,kt,!t.isFormValid,t.isFormValid)),h.rc("display",t.fip),h.cc("disabled",!t.entryForm.valid),h.xb(2),h.cc("ngIf",t.formSubmitted)}}function ae(t,e){if(1&t&&(h.Lb(0),h.sc(1,ce,9,12,"ng-container",1),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("ngIf",t.canUpdateEntry5)}}function oe(t,e){if(1&t&&(h.Lb(0),h.sc(1,ae,2,1,"ng-container",1),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",("5"==(null==t.entry?null:t.entry.stage._id)||5==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function le(t,e){if(1&t&&(h.Nb(0,"div",9),h.sc(1,Ot,1,1,"app-request-entry-detail",10),h.sc(2,wt,1,1,"app-student-detail",10),h.sc(3,Wt,2,1,"ng-container",1),h.sc(4,Ft,1,7,"app-entry-options",11),h.sc(5,St,1,1,"app-file-attachments-two",10),h.sc(6,Rt,2,1,"ng-container",1),h.sc(7,Ut,2,1,"ng-container",1),h.sc(8,Bt,2,1,"ng-container",1),h.sc(9,se,2,1,"ng-container",1),h.sc(10,oe,2,1,"ng-container",1),h.Mb()),2&t){const t=h.Wb();h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.cc("ngIf",t.entry),h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.stage),h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.stage),h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.stage),h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.stage),h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.stage)}}let ue=(()=>{class t{constructor(t,e,n,s,r,i,c){this.router=t,this.route=e,this.grs=n,this.ns=s,this.grfs=r,this.ems=i,this.as=c,this.error=!1,this.entrySlug="",this.formSubmitted=!1,this.setEntryOnReview=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.$link=t.detail.$link,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.route.paramMap.pipe(Object(f.a)(t=>{let e=t.get("entry");return console.log(e),this.grs.getEntry(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entry=t,this.entrySlug=this.entry.slug,this.entryForm=this.grfs.entryUpdateForm(),this.entry.stage&&"1"==this.entry.stage._id&&(this.currentStage="2",this.entryForm.patchValue({stage:"2"})),this.entry.stage&&"2"==this.entry.stage._id&&(this.currentStage="3",this.entryForm.patchValue({stage:"3"})),this.entry.stage&&"3"==this.entry.stage._id&&(this.currentStage="4",this.entryForm.patchValue({stage:"4",text:"Content of the Letter"}),this.grfs.removeControls(["status"],this.entryForm),this.entryForm.addControl("main_body",new i.c("",{validators:this.grfs.mainBodyV})),this.entryForm.updateValueAndValidity()),this.entry.stage&&"4"==this.entry.stage._id&&(this.currentStage="5",this.entryForm.patchValue({stage:"5"}),this.grfs.removeControls(["status"],this.entryForm),this.entryForm.updateValueAndValidity()),this.entry.stage&&"5"==this.entry.stage._id&&(this.currentStage="6",this.entryForm.patchValue({stage:"6"}))})}ngOnDestroy(){}updateEntry(t){this.error=null,this.fip="none",this.formSubmitted=!0,this.grs.$updateEntry(this.entrySlug,t).subscribe(t=>t?t&&t.updated?(this.formSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.$entryChanges(t.$data)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(["request",this.link,"entries"]),5e3)}$confirmEntryOnReview(){if(this.setEntryOnReview)return!1;this.setEntryOnReview=!0,this.grs.$confirmEntryOnReview(this.entry.slug).subscribe(t=>{if(!t)return this.setEntryOnReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);t&&t.onReview&&(this.setEntryOnReview=!1,this.entry.status=t.$data.status,this.entry.stage={_id:"1"},this.currentStage="2",this.entryForm.patchValue({stage:"2"}),this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and on review.`))})}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.as.userRole}get canUpdateEntry(){return p.indexOf(this.userRole)>-1}get canUpdateEntry2(){return["bursar","moderator","administrator","superAdministrator"].indexOf(this.userRole)>-1}get canUpdateEntry3(){return["student","departmentPresident","facultyPresident"].indexOf(this.userRole)>-1}get canUpdateEntry4(){return["hod","dean"].indexOf(this.userRole)>-1}get canUpdateEntry5(){return["bursar"].indexOf(this.userRole)>-1}get userId(){return this.as.userId}get isFormValid(){return this.entryForm.valid}get text(){return this.entryForm.get("text")}get status(){return this.entryForm.get("status")}get stage(){return this.entryForm.get("stage")}get mainBody(){return this.entryForm.get("main_body")}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(h.Ib(l.b),h.Ib(l.a),h.Ib(O),h.Ib(d.a),h.Ib(W),h.Ib(g.a),h.Ib(F.a))},t.\u0275cmp=h.Cb({type:t,selectors:[["app-refund-detail"]],features:[h.wb([d.a,g.a])],decls:6,vars:5,consts:[["id","entry-view"],[4,"ngIf"],[3,"view-description",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"view-description"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry",4,"ngIf"],[3,"view-description","link","entry","entry-on-review","can-update-entry","system-type","view-word","onReviewEntry",4,"ngIf"],[3,"entry"],[3,"view-description","link","entry","entry-on-review","can-update-entry","system-type","view-word","onReviewEntry"],["id","entry-detail-form"],["method","post",3,"action","formGroup","ngSubmit"],[3,"entry","entry-form","status","text","stage","current-stage","system-type",4,"ngIf"],["type","submit","id","form-btn-submit",3,"disabled"],[3,"entry","entry-form","status","text","stage","current-stage","system-type"],[3,"entry","entry-form","status","text","main-body","stage","current-stage","system-type",4,"ngIf"],[3,"entry","entry-form","status","text","main-body","stage","current-stage","system-type"],[4,"ngIf","ngIfElse"],["noSignature",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(h.Nb(0,"div",0),h.sc(1,Nt,2,1,"h2",1),h.sc(2,It,1,1,"app-view-description",2),h.sc(3,Mt,1,1,"app-resource-unavailable",3),h.sc(4,$t,1,2,"app-notification-screen",4),h.sc(5,le,11,10,"div",5),h.Mb()),2&t&&(h.xb(1),h.cc("ngIf",e.systemType),h.xb(1),h.cc("ngIf",e.view),h.xb(1),h.cc("ngIf",e.error),h.xb(1),h.cc("ngIf",e.notificationAvailable),h.xb(1),h.cc("ngIf",e.entry))},directives:[s.l,S.a,T.a,j.a,k.a,U,_,G.a,B.a,i.s,i.l,i.f,ct,pt,s.k,xt],styles:[""]}),t})();var be=n("EYJY"),ye=n("+3x0"),fe=n("S5zL"),pe=n("iPJu"),ge=n("9yhg"),de=n("RBZI");function he(t,e){if(1&t&&h.Jb(0,"app-view-description",17),2&t){const t=h.Wb();h.cc("view-description",t.view)}}function me(t,e){if(1&t){const t=h.Ob();h.Nb(0,"app-notification-screen",18),h.Ub("finished",(function(){return h.nc(t),h.Wb().removeNotification()})),h.Mb()}if(2&t){const t=h.Wb();h.cc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function ve(t,e){if(1&t&&(h.Lb(0),h.Nb(1,"option",19),h.uc(2),h.Mb(),h.Kb()),2&t){const t=e.$implicit;h.xb(1),h.dc("value",t.key),h.xb(1),h.wc(" ",t.value," ")}}function xe(t,e){if(1&t&&(h.Nb(0,"app-general-request-validators",20),h.Ub("keyup",(function(){return 0})),h.Mb()),2&t){const t=h.Wb();h.cc("search",t.search)("system-type",t.systemType)}}function Ne(t,e){if(1&t){const t=h.Ob();h.Nb(0,"button",21),h.Ub("click",(function(){h.nc(t);const e=h.Wb(),n=h.mc(17),s=h.mc(10);return e.clearSearch(),n.value="",s.value=""})),h.uc(1," Clear Search "),h.Mb()}}function Ie(t,e){1&t&&(h.Nb(0,"p"),h.uc(1," Searching for entry or entries from the records. "),h.Nb(2,"span",22),h.uc(3," ||| "),h.Mb(),h.Mb())}function Me(t,e){1&t&&(h.Nb(0,"p"),h.uc(1," Refreshing list of entries from the records. "),h.Nb(2,"span",22),h.uc(3," ||| "),h.Mb(),h.Mb())}function $e(t,e){1&t&&(h.Nb(0,"td",36),h.uc(1," Nil "),h.Mb())}function Oe(t,e){if(1&t&&(h.Nb(0,"td",48),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t?null:t.applicationNumber," ")}}function we(t,e){if(1&t&&(h.Nb(0,"td",49),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.xc(" ",null==t||null==t.author?null:t.author.firstName," ",null==t||null==t.author?null:t.author.lastName," ")}}function Ee(t,e){if(1&t&&(h.Nb(0,"td",50),h.uc(1),h.Xb(2,"date"),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",h.Zb(2,1,null==t?null:t.updatedAt,"longDate")," ")}}function We(t,e){if(1&t&&(h.Nb(0,"td",51),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t||null==t.author?null:t.author.level," ")}}function Fe(t,e){if(1&t&&(h.Nb(0,"td",52),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t||null==t.stage?null:t.stage.name," ")}}function Se(t,e){1&t&&(h.Nb(0,"td",36),h.uc(1," Not yet processed. "),h.Mb())}function Te(t,e){if(1&t&&(h.Nb(0,"td",53),h.uc(1),h.Mb()),2&t){const t=h.Wb().$implicit;h.xb(1),h.wc(" ",null==t?null:t.status," ")}}function je(t,e){if(1&t){const t=h.Ob();h.Lb(0),h.Nb(1,"input",57,58),h.Ub("click",(function(){h.nc(t);const e=h.mc(2),n=h.Wb(3),s=n.$implicit,r=n.index;return h.Wb(2).addEntryToDeleteList(null==s?null:s.num,e.checked,r)})),h.Mb(),h.Jb(3,"span",59),h.Kb()}if(2&t){const t=e.$implicit,n=h.Wb(3).$implicit;h.xb(1),h.cc("checked",t==(null==n?null:n.num))}}function ke(t,e){if(1&t&&(h.Lb(0),h.sc(1,je,4,1,"ng-container",8),h.Kb()),2&t){const t=h.Wb(4);h.xb(1),h.cc("ngForOf",t.esdl)}}function Le(t,e){if(1&t){const t=h.Ob();h.Nb(0,"input",60,58),h.Ub("click",(function(){h.nc(t);const e=h.mc(1),n=h.Wb(2),s=n.$implicit,r=n.index;return h.Wb(2).addEntryToDeleteList(null==s?null:s.num,e.checked,r)})),h.Mb(),h.Jb(2,"span",59)}}function qe(t,e){if(1&t&&(h.Nb(0,"label",54),h.sc(1,ke,2,1,"ng-container",55),h.sc(2,Le,3,0,"ng-template",null,56,h.tc),h.Mb()),2&t){const t=h.mc(3),e=h.Wb(3);h.xb(1),h.cc("ngIf",e.esdl.length)("ngIfElse",t)}}const Re=function(t){return["../","entry","detail",t]};function Ce(t,e){if(1&t&&(h.Nb(0,"tr"),h.Nb(1,"td",36),h.uc(2),h.Mb(),h.sc(3,$e,2,0,"ng-template",null,37,h.tc),h.sc(5,Oe,2,1,"td",38),h.sc(6,we,2,2,"td",39),h.sc(7,Ee,3,4,"td",40),h.sc(8,We,2,1,"td",41),h.sc(9,Fe,2,1,"td",42),h.sc(10,Se,2,0,"ng-template",null,43,h.tc),h.sc(12,Te,2,1,"td",44),h.Nb(13,"td",45),h.Nb(14,"a",46),h.uc(15,"View"),h.Mb(),h.sc(16,qe,4,2,"label",47),h.Mb(),h.Mb()),2&t){const t=e.$implicit,n=e.index,s=h.mc(4),r=h.mc(11),i=h.Wb(2);h.xb(2),h.wc(" ",n+1,". "),h.xb(3),h.cc("ngIf",null==t?null:t.applicationNumber)("ngIfElse",s),h.xb(1),h.cc("ngIf",null==t||null==t.author?null:t.author.firstName)("ngIfElse",s),h.xb(1),h.cc("ngIf",null==t?null:t.updatedAt)("ngIfElse",s),h.xb(1),h.cc("ngIf",null==t||null==t.author?null:t.author.level)("ngIfElse",s),h.xb(1),h.cc("ngIf",(null==t?null:t.stage)&&(null==t||null==t.stage?null:t.stage.name))("ngIfElse",r),h.xb(3),h.cc("ngIf",null==t?null:t.status)("ngIfElse",s),h.xb(2),h.cc("routerLink",h.hc(15,Re,null==t?null:t.slug)),h.xb(2),h.cc("ngIf",i.canUpdateEntry)}}function Je(t,e){if(1&t&&h.Jb(0,"app-pagination",61),2&t){const t=h.Wb(2);h.cc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function Ke(t,e){if(1&t&&(h.Nb(0,"div"),h.Nb(1,"table",23),h.Nb(2,"caption",24),h.uc(3," Entries "),h.Mb(),h.Nb(4,"colgroup"),h.Jb(5,"col",25),h.Jb(6,"col",26),h.Jb(7,"col",27),h.Jb(8,"col",28),h.Jb(9,"col",29),h.Jb(10,"col",30),h.Jb(11,"col",31),h.Jb(12,"col",32),h.Mb(),h.Nb(13,"thead"),h.Nb(14,"tr"),h.Nb(15,"th",33),h.uc(16," Index "),h.Mb(),h.Nb(17,"th",33),h.uc(18," Application Unique ID "),h.Mb(),h.Nb(19,"th",33),h.uc(20," Full Name "),h.Mb(),h.Nb(21,"th",33),h.uc(22," Date Modified "),h.Mb(),h.Nb(23,"th",33),h.uc(24," Level "),h.Mb(),h.Nb(25,"th",33),h.uc(26," Stage "),h.Mb(),h.Nb(27,"th",33),h.uc(28," Status "),h.Mb(),h.Nb(29,"th",33),h.uc(30," Changes "),h.Mb(),h.Mb(),h.Mb(),h.Nb(31,"tbody"),h.sc(32,Ce,17,17,"tr",34),h.Mb(),h.Nb(33,"tfoot"),h.Nb(34,"tr"),h.Jb(35,"td"),h.Mb(),h.Nb(36,"tr"),h.Jb(37,"td"),h.Mb(),h.Nb(38,"tr"),h.sc(39,Je,1,3,"app-pagination",35),h.Mb(),h.Mb(),h.Mb(),h.Mb()),2&t){const t=h.Wb();h.xb(32),h.cc("ngForOf",t.entries)("ngForTrackBy",t.trackByName),h.xb(7),h.cc("ngIf",t.pageNumber)}}function Ae(t,e){if(1&t&&h.Jb(0,"app-resource-unavailable",62),2&t){const t=h.Wb();h.cc("error",t.error)}}const Ue=function(t,e){return{"btn-search":t,disabled:e}};let Ve=(()=>{class t{constructor(t,e,n,s,r,i,c,a,o){this.route=t,this.router=e,this.location=n,this.grfs=s,this.grs=r,this.grss=i,this.ems=c,this.ns=a,this.as=o,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.searchQuery={},this.pageNumber=1,this.$entriesLength=0,this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!1,this.searchTerm=new be.a}validSearch(t){return Object.keys(this.searchFilters).indexOf(t)<0}searchEntry(t,e){if(this.error=null,!t.trim()||Object.keys(this.searchFilters).indexOf(t)<0)return!1;this.entrySearching=!0,this.searchQuery={[t]:e},this.searchTerm.next(this.searchQuery)}trackByName(t,e){return e.applicationNumber}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.$link=t.entries.$link,this.searchFilters=t.entries.searchFilters,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.searchCtrl=this.grfs.searchForm(this.searchFilters),this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let s=t,r=s.keys,i={};for(let c of r){let t=s.get(c);t&&(i[c]=t)}return Object.keys(this.searchQuery).length&&(i=Object.assign(Object.assign({},i),this.searchQuery)),this.getAllEntry(i)}),this.searchTerm.pipe(Object(ye.a)(4e3),Object(fe.a)(),Object(f.a)(t=>this.grss.searchTerms(t,this.link,this.systemType+" Entries",[]))).subscribe(t=>{if(this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!0,this.location.replaceState(`/request/${this.link}/entries`),this.pageNumber=1,t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop()})}ngOnDestroy(){}backToTop(){window.scrollTo(0,0)}getAllEntry(t){this.grs.getAllEntry(t).subscribe(t=>{if(this.refreshing=!1,t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}clearSearch(){this.searchQuery={},this.entriesSearched=!1,this.error=null,this.refreshing=!0,this.pageNumber=1,this.location.replaceState(`/request/${this.link}/entries`),this.getAllEntry({})}addEntryToDeleteList(t,e,n){e?this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.grs.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get userRole(){return this.as.userRole}get canUpdateEntry(){return p.indexOf(this.userRole)>-1}get search(){return this.searchCtrl}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(h.Ib(l.a),h.Ib(l.b),h.Ib(s.h),h.Ib(W),h.Ib(O),h.Ib(pe.a),h.Ib(g.a),h.Ib(d.a),h.Ib(F.a))},t.\u0275cmp=h.Cb({type:t,selectors:[["app-refund-entries"]],features:[h.wb([d.a,g.a,pe.a])],decls:27,vars:21,consts:[["id","entry-main"],[3,"view-description",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"left"],["id","query","name","queryType",1,"form-control",3,"formControl"],["qt",""],["value",""],[4,"ngFor","ngForOf"],[3,"search","system-type","keyup",4,"ngIf"],["type","text","name","queryValue","value","","autocomplete","new-queryValue",3,"keyup"],["qv",""],["type","submit",1,"entry-option-small",3,"click"],["class","btn-submit",3,"click",4,"ngIf"],[4,"ngIf"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description"],[3,"notified","message","finished"],[3,"value"],[3,"search","system-type","keyup"],[1,"btn-submit",3,"click"],[1,"rolling"],[1,"entries"],[1,"bold","left"],[1,"index"],[1,"app-number"],[1,"full-name"],[1,"date"],[1,"level"],[1,"stage"],[1,"status"],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center bold app-number",4,"ngIf","ngIfElse"],["class","center full-name",4,"ngIf","ngIfElse"],["class","center date",4,"ngIf","ngIfElse"],["class","center level",4,"ngIf","ngIfElse"],["class","center stage",4,"ngIf","ngIfElse"],["noStage",""],["class","center status",4,"ngIf","ngIfElse"],[1,""],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","app-number"],[1,"center","full-name"],[1,"center","date"],[1,"center","level"],[1,"center","stage"],[1,"center","status"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){if(1&t){const t=h.Ob();h.Nb(0,"div",0),h.Nb(1,"h2"),h.uc(2),h.Mb(),h.sc(3,he,1,1,"app-view-description",1),h.sc(4,me,1,2,"app-notification-screen",2),h.Jb(5,"app-list-entry-options"),h.Nb(6,"div",3),h.Nb(7,"h4",4),h.uc(8),h.Mb(),h.Nb(9,"select",5,6),h.Nb(11,"option",7),h.uc(12," Search Criteria "),h.Mb(),h.sc(13,ve,3,2,"ng-container",8),h.Xb(14,"keyvalue"),h.Mb(),h.sc(15,xe,1,2,"app-general-request-validators",9),h.Nb(16,"input",10,11),h.Ub("keyup",(function(){return 0})),h.Mb(),h.Nb(18,"button",12),h.Ub("click",(function(){h.nc(t);const n=h.mc(10),s=h.mc(17);return e.searchEntry(n.value,s.value)})),h.uc(19," Submit "),h.Mb(),h.sc(20,Ne,2,0,"button",13),h.sc(21,Ie,4,0,"p",14),h.sc(22,Me,4,0,"p",14),h.Nb(23,"a",15),h.Ub("click",(function(){return e.deleteManyEntry()})),h.uc(24," Delete Many "),h.Mb(),h.Mb(),h.sc(25,Ke,40,3,"div",14),h.sc(26,Ae,1,1,"app-resource-unavailable",16),h.Mb()}if(2&t){const t=h.mc(10),n=h.mc(17);h.xb(2),h.wc(" ",e.title," "),h.xb(1),h.cc("ngIf",e.view),h.xb(1),h.cc("ngIf",e.notificationAvailable),h.xb(4),h.wc(" Search ",e.systemType," Reference "),h.xb(1),h.cc("formControl",e.search),h.xb(4),h.cc("ngForOf",h.Yb(14,16,e.searchFilters)),h.xb(2),h.cc("ngIf",e.search),h.xb(3),h.zb(h.ic(18,Ue,n.value&&!e.validSearch(t.value),!n.value||e.validSearch(t.value))),h.xb(2),h.cc("ngIf",e.entriesSearched),h.xb(1),h.cc("ngIf",e.entrySearching),h.xb(1),h.cc("ngIf",e.refreshing),h.xb(1),h.Ab("hide",e.esdl.length<2),h.xb(2),h.cc("ngIf",e.$entriesLength>0),h.xb(1),h.cc("ngIf",e.error)}},directives:[s.l,ge.a,i.p,i.k,i.d,i.m,i.r,s.k,S.a,j.a,Y.a,l.d,de.a,T.a],pipes:[s.f,s.d],styles:[""]}),t})();function De(t,e){if(1&t&&h.Jb(0,"app-resource-unavailable",5),2&t){const t=h.Wb();h.cc("error",t.error)}}function _e(t,e){if(1&t&&(h.Lb(0),h.Jb(1,"div",6),h.Xb(2,"replaceTabs"),h.Kb()),2&t){const t=h.Wb(3);h.xb(1),h.cc("outerHTML",h.Yb(2,1,null==t.entry?null:t.entry.letter.main_body),h.oc)}}function Ge(t,e){if(1&t&&(h.Lb(0),h.sc(1,_e,3,3,"ng-container",4),h.Kb()),2&t){const t=h.Wb(2);h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.letter.main_body)}}function Be(t,e){if(1&t&&(h.Lb(0),h.sc(1,Ge,2,1,"ng-container",4),h.Kb()),2&t){const t=h.Wb();h.xb(1),h.cc("ngIf",null==t.entry?null:t.entry.letter)}}let Ye=(()=>{class t{constructor(t,e,n,s){this.route=t,this.grs=e,this.ns=n,this.ems=s,this.systemType="Refund",this.title=this.systemType+" Letter",this.view="rf",this.viewWord="Refund",this.link="refund",this.$link=this.link,this.error=!1,this.entrySlug=""}ngOnInit(){this.route.paramMap.pipe(Object(f.a)(t=>{let e=t.get("entry");return this.grs.getEntryLetter(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entry=t,this.entrySlug=this.entry.slug})}}return t.\u0275fac=function(e){return new(e||t)(h.Ib(l.a),h.Ib(O),h.Ib(d.a),h.Ib(g.a))},t.\u0275cmp=h.Cb({type:t,selectors:[["app-refund-letter"]],features:[h.wb([d.a,g.a])],decls:5,vars:2,consts:[["id","entry-view"],[3,"error",4,"ngIf"],["id","rf-entry"],["id","letter-content"],[4,"ngIf"],[3,"error"],[3,"outerHTML"]],template:function(t,e){1&t&&(h.Nb(0,"div",0),h.sc(1,De,1,1,"app-resource-unavailable",1),h.Nb(2,"div",2),h.Nb(3,"div",3),h.sc(4,Be,2,1,"ng-container",4),h.Mb(),h.Mb(),h.Mb()),2&t&&(h.xb(1),h.cc("ngIf",e.error),h.xb(3),h.cc("ngIf",e.entry))},directives:[s.l,T.a],styles:["h3.ql-align-center[_ngcontent-%COMP%]{text-align:center}"]}),t})();var He=n("4aVp"),Pe=n("nDLB"),ze=n("dIfi"),Qe=n("dyb6"),Xe=n("DjD2"),Ze=n("fLAD"),tn=n("r3HG");let en={systemType:"Refund",title:"Refund",view:"rf",viewWord:"Refund",link:"refund",$link:"refund",systemGuideline:"request"};const nn={dashboard:Object.assign({},en),create:Object.assign(Object.assign({},en),{title:`Request a ${en.systemType} for fee payment`}),comment:Object.assign(Object.assign({},en),{title:`Add a Comment : ${en.systemType} Entry`}),detail:Object.assign(Object.assign({},en),{title:en.systemType+" Entry",generateCred:"csif"}),timeline:Object.assign(Object.assign({},en),{title:en.systemType+" Entry Timeline"}),transfer:Object.assign(Object.assign({},en),{title:`Transfer and Move ${en.systemType} Entry`}),entries:Object.assign(Object.assign({},en),{title:en.systemType+" Entries",searchFilters:{applicationNumber:"Application Number",status:"Status",department:"Department",faculty:"Faculty",stage:"Stage"}}),reply:Object.assign(Object.assign({},en),{title:`Add a Reply to a Comment : ${en.systemType} Entry`}),deleteAll:Object.assign(Object.assign({},en),{title:en.systemType+" Entries : Delete All"})},sn=[{path:"",component:He.a,canActivate:[u.a],canLoad:[u.a],canActivateChild:[u.a],children:[{path:"",component:Pe.a,data:{dashboard:nn.dashboard}},{path:"create",component:ze.a,data:{create:nn.create},canActivate:[b.a]},{path:"entry/:entry/comment/add",component:Qe.a,data:{comment:nn.comment}},{path:"entry/detail/:entry",component:ue,data:{detail:nn.detail}},{path:"entry/:entry/timeline",component:Xe.a},{path:"entry/:entry/letter",component:Ye},{path:"entries",component:Ve,data:{entries:nn.entries}},{path:"entry/:entry/comment/:comment/reply/add",component:Ze.a,data:{reply:nn.reply}},{path:"entries/delete/all",component:tn.a,canActivate:[y.a],data:{deleteAll:nn.deleteAll}}]}];let rn=(()=>{class t{}return t.\u0275mod=h.Gb({type:t}),t.\u0275inj=h.Fb({factory:function(e){return new(e||t)},imports:[[l.e.forChild(sn)],l.e]}),t})();var cn=n("kPid");let an=(()=>{class t{}return t.\u0275mod=h.Gb({type:t}),t.\u0275inj=h.Fb({factory:function(e){return new(e||t)},providers:[O,W],imports:[[s.b,i.n,o.b,r.a,c.a,a.a,cn.a,rn]]}),t})()}}]);