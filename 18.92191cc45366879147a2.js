(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"48fE":function(t,e,n){"use strict";n.r(e),n.d(e,"RefundModule",(function(){return $n}));var s=n("Yvf7"),r=n("hxwH"),i=n("8VHZ"),a=n("Vofp"),c=n("mHYI"),o=n("9Xeq"),l=n("Fk62"),u=n("jiyY"),b=n("iojP"),y=n("/zEo"),g=n("XA6Z");const h=["staff","moderator","administrator","superAdministrator"];var p=n("EUGn"),f=n("9nlD"),d=n("Ub9n"),m=n("jV/k"),O=n("vfyW"),w=n("oECA"),v=n("O6Zd"),I=n("XRyL"),E=n("VcWf"),P=n("FBrc");let $=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n}getAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(O.a)(t=>console.log(t)),Object(w.a)(this.handleError(this.$systemType+" Entries",[])))}getEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}`).pipe(Object(O.a)(t=>console.log(t)),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}getEntryLetter(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/letter`).pipe(Object(O.a)(t=>console.log(t)),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/add`).pipe(Object(O.a)(t=>console.log(t)),Object(v.a)(t=>({permitted:!0})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$addEntry(t){return this.http.post(`${this.apiConfig.host}/${this.$sa}/create`,t).pipe(Object(O.a)(t=>console.log(t)),Object(v.a)(t=>({created:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}addComment(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`).pipe(Object(O.a)(t=>console.log(t)),Object(v.a)(t=>({permitted:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Comment Entry",null)))}$addComment(t,e){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`,e).pipe(Object(O.a)(t=>console.log(t)),Object(v.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addReply(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`).pipe(Object(O.a)(t=>{console.log(t)}),Object(v.a)(t=>({permitted:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Reply Entry",null)))}$addReply(t,e,n){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`,n).pipe(Object(O.a)(t=>{console.log(t)}),Object(v.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Reply Entry",null)))}getTimeline(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/timeline`).pipe(Object(O.a)(t=>console.log(t)),Object(v.a)(t=>t),Object(w.a)(this.handleError(this.$systemType+" Entry Timeline",null)))}$updateEntry(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}`,e).pipe(Object(v.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$confirmEntryOnReview(t){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/review`,{entry:t}).pipe(Object(I.a)(5e3),Object(v.a)(t=>({onReview:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(v.a)(t=>({manyDeleted:!0})),Object(w.a)(this.handleError(this.$systemType+" Entries Delete",[])))}$deleteAllGeneralRequest(){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(v.a)(t=>({allDeleted:!0})),Object(w.a)(this.handleError(this.$systemType+" Entry or Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(m.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(P.b),d.Tb(E.b),d.Tb(p.a))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac}),t})();var z=n("inDW");const S={Fulfilled:"Fulfilled",Rejected:"Rejected",Update:"Update"};let j=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.mainBodyV=[i.q.required,i.q.minLength(1),i.q.maxLength(8e3)]}removeControls(t,e){t.forEach(t=>{e.removeControl(t)})}entryUpdateForm(){return this.fb.group({text:["",{validators:[i.q.required,i.q.minLength(9),i.q.maxLength(500)]}],status:["",{validators:[i.q.required,Object(z.f)(S),i.q.minLength(2),i.q.maxLength(30)]}],stage:["",{validators:[i.q.minLength(1),i.q.maxLength(30)]}]})}searchForm(t){return new i.c("",[Object(z.e)(t)])}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(i.b))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac}),t})();var T=n("9Ku7"),N=n("+ef2"),x=n("TY4h"),F=n("Rxsk"),k=n("MRVz");function L(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p"),d.Pb(2,"b",1),d.yc(3," Student Name : "),d.Ob(),d.yc(4),d.Ob(),d.Mb()),2&t){const t=d.ac(3);d.zb(4),d.Bc(" ",null==t.entry||null==t.entry.author?null:t.entry.author.firstName," ",null==t.entry||null==t.entry.author?null:t.entry.author.lastName," ")}}function q(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p"),d.Pb(2,"b",1),d.yc(3," Student Faculty : "),d.Ob(),d.yc(4),d.Ob(),d.Mb()),2&t){const t=d.ac(3);d.zb(4),d.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.faculty," ")}}function _(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p"),d.Pb(2,"b",1),d.yc(3," Student Department : "),d.Ob(),d.yc(4),d.Ob(),d.Mb()),2&t){const t=d.ac(3);d.zb(4),d.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.department," ")}}function M(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p"),d.Pb(2,"b",1),d.yc(3," Student Level : "),d.Ob(),d.yc(4),d.Ob(),d.Mb()),2&t){const t=d.ac(3);d.zb(4),d.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.level," ")}}function R(t,e){if(1&t&&(d.Nb(0),d.wc(1,L,5,2,"ng-container",0),d.wc(2,q,5,1,"ng-container",0),d.wc(3,_,5,1,"ng-container",0),d.wc(4,M,5,1,"ng-container",0),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",(null==t.entry||null==t.entry.author?null:t.entry.author.firstName)||(null==t.entry||null==t.entry.author?null:t.entry.author.lastName)),d.zb(1),d.gc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.faculty),d.zb(1),d.gc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.department),d.zb(1),d.gc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.level)}}function C(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"p"),d.Pb(2,"b",1),d.yc(3," Request Handler : "),d.Ob(),d.yc(4),d.Ob(),d.Mb()),2&t){const t=d.ac(2);d.zb(4),d.Bc(" ",null==t.entry||null==t.entry.entryHandler?null:t.entry.entryHandler.firstName," ",null==t.entry||null==t.entry.entryHandler?null:t.entry.entryHandler.lastName," ")}}function A(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"h2"),d.yc(2," Student Detail "),d.Ob(),d.wc(3,R,5,4,"ng-container",0),d.wc(4,C,5,2,"ng-container",0),d.Mb()),2&t){const t=d.ac();d.zb(3),d.gc("ngIf",null==t.entry?null:t.entry.author),d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.entryHandler)}}let V=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-student-detail"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"bold"]],template:function(t,e){1&t&&d.wc(0,A,5,2,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l],styles:[""]}),t})();function W(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"li"),d.yc(2),d.Ob(),d.Mb()),2&t){const t=e.$implicit;d.zb(2),d.Bc(" Name ",t.firstName," ",t.lastName," ")}}function B(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"h2"),d.yc(2," List of Signatures "),d.Ob(),d.wc(3,W,3,2,"ng-container",1),d.Mb()),2&t){const t=d.ac();d.zb(3),d.gc("ngForOf",null==t.entry?null:t.entry.signature)}}let D=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-signature"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&d.wc(0,B,4,1,"ng-container",0),2&t&&d.gc("ngIf",e.entry&&(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length))},directives:[s.l,s.k],styles:[""]}),t})();var G=n("VSD5"),K=n("L0ga"),U=n("rRbD");function Q(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",8),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("stage",t.stage)}}function Y(t,e){if(1&t&&(d.Pb(0,"div",5),d.Lb(1,"input",6),d.wc(2,Q,1,2,"app-general-request-validators",7),d.Ob()),2&t){const t=d.ac(2);d.zb(2),d.gc("ngIf",t.stage)}}function H(t,e){1&t&&(d.Nb(0),d.Pb(1,"option",13),d.yc(2," Reject "),d.Ob(),d.Pb(3,"option",14),d.yc(4," Approve "),d.Ob(),d.Mb())}function J(t,e){if(1&t&&(d.Nb(0),d.wc(1,H,5,0,"ng-container",0),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.status)}}function Z(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",15),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("status",t.status)}}function X(t,e){if(1&t&&(d.Pb(0,"div",5),d.Pb(1,"label",9),d.yc(2," Entry Status "),d.Ob(),d.Pb(3,"select",10),d.Lb(4,"option",11),d.wc(5,J,2,1,"ng-container",0),d.Ob(),d.wc(6,Z,1,2,"app-general-request-validators",12),d.Ob()),2&t){const t=d.ac(2);d.zb(5),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.status)}}function tt(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",19),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("text",t.text)}}function et(t,e){if(1&t&&(d.Pb(0,"div",5),d.Pb(1,"label",16),d.yc(2," Message "),d.Ob(),d.Pb(3,"textarea",17),d.yc(4," "),d.Ob(),d.wc(5,tt,1,2,"app-general-request-validators",18),d.Ob()),2&t){const t=d.ac(2);d.zb(5),d.gc("ngIf",t.text)}}function nt(t,e){1&t&&(d.Nb(0),d.Pb(1,"div",5),d.Pb(2,"p"),d.Pb(3,"b",20),d.yc(4," By clicking on the submit , the request will be forwarded to the Office of the Bursary for Resolution "),d.Ob(),d.Ob(),d.Ob(),d.Mb())}function st(t,e){1&t&&(d.Nb(0),d.Pb(1,"div",5),d.Pb(2,"p"),d.Pb(3,"b",20),d.yc(4,' By clicking on the "Submit" button , the request will be forwarded to the Student to write an application letter on the subject matter "Refund of Fees" for resolution. '),d.Ob(),d.Ob(),d.Ob(),d.Mb())}function rt(t,e){1&t&&(d.Nb(0),d.Pb(1,"div",5),d.Pb(2,"p"),d.Pb(3,"b",20),d.yc(4,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),d.Ob(),d.Ob(),d.Ob(),d.Mb())}function it(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",1),d.wc(2,Y,3,1,"div",2),d.wc(3,X,7,2,"div",2),d.wc(4,et,6,1,"div",2),d.Nb(5,3),d.wc(6,nt,5,0,"ng-container",4),d.wc(7,st,5,0,"ng-container",4),d.wc(8,rt,5,0,"ng-container",4),d.Mb(),d.Ob(),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.stage),d.zb(1),d.gc("ngIf",t.status),d.zb(1),d.gc("ngIf",t.text),d.zb(1),d.gc("ngSwitch",t.currentStage),d.zb(1),d.gc("ngSwitchCase","2"),d.zb(1),d.gc("ngSwitchCase","3"),d.zb(1),d.gc("ngSwitchCase","4")}}let at=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-stage-one-two-five"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],entry:"entry",status:"status",text:"text",stage:"stage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["for","status",1,"form-label","bold"],["name","status","id","status","formControlName","status",1,"form-control"],["value",""],[3,"system-type","status",4,"ngIf"],["value","Rejected"],["value","Fulfilled"],[3,"system-type","status"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],[1,"bold"]],template:function(t,e){1&t&&d.wc(0,it,9,8,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l,i.l,i.g,s.n,s.o,i.a,i.k,i.e,U.a,i.p,i.m,i.r],styles:[""]}),t})();function ct(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",8),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("stage",t.stage)}}function ot(t,e){if(1&t&&(d.Pb(0,"div",4),d.Lb(1,"input",6),d.wc(2,ct,1,2,"app-general-request-validators",7),d.Ob()),2&t){const t=d.ac(2);d.zb(2),d.gc("ngIf",t.stage)}}function lt(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",11),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("text",t.text)}}function ut(t,e){if(1&t&&(d.Pb(0,"div",4),d.Lb(1,"input",9),d.wc(2,lt,1,2,"app-general-request-validators",10),d.Ob()),2&t){const t=d.ac(2);d.zb(2),d.gc("ngIf",t.text)}}function bt(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",16),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("main-body",t.main_body)}}function yt(t,e){if(1&t&&(d.Pb(0,"div",12),d.Pb(1,"label",13),d.yc(2," Letter "),d.Ob(),d.Lb(3,"quill-editor",14),d.wc(4,bt,1,2,"app-general-request-validators",15),d.Ob()),2&t){const t=d.ac(2);d.zb(4),d.gc("ngIf",t.main_body)}}function gt(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",1),d.wc(2,ot,3,1,"div",2),d.wc(3,ut,3,1,"div",2),d.Nb(4),d.wc(5,yt,5,1,"div",3),d.Mb(),d.Pb(6,"div",4),d.Pb(7,"p"),d.Pb(8,"b",5),d.yc(9,' By clicking on the "Submit" button , the request will be forwarded to the HOD and Dean for endorsement on whether the fees paid will be reverted to the student account. '),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.stage),d.zb(1),d.gc("ngIf",t.text),d.zb(2),d.gc("ngIf",t.main_body)}}let ht=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-stage-three"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],main_body:["main-body","main_body"],currentStage:["current-stage","currentStage"],status:"status",text:"text",stage:"stage",entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],["id","letter-writing","class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["type","hidden","name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],["id","letter-writing",1,"form-group"],["for","text",1,"form-label","bold"],["formControlName","main_body"],[3,"system-type","main-body",4,"ngIf"],[3,"system-type","main-body"]],template:function(t,e){1&t&&d.wc(0,gt,10,4,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l,i.l,i.g,i.a,i.k,i.e,U.a],styles:[""]}),t})();function pt(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",7),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("stage",t.stage)}}function ft(t,e){if(1&t&&(d.Pb(0,"div",3),d.Lb(1,"input",5),d.wc(2,pt,1,2,"app-general-request-validators",6),d.Ob()),2&t){const t=d.ac(2);d.zb(2),d.gc("ngIf",t.stage)}}function dt(t,e){if(1&t&&d.Lb(0,"app-general-request-validators",11),2&t){const t=d.ac(3);d.gc("system-type",t.systemType)("text",t.text)}}function mt(t,e){if(1&t&&(d.Pb(0,"div",3),d.Pb(1,"label",8),d.yc(2," Message "),d.Ob(),d.Pb(3,"textarea",9),d.yc(4," "),d.Ob(),d.wc(5,dt,1,2,"app-general-request-validators",10),d.Ob()),2&t){const t=d.ac(2);d.zb(5),d.gc("ngIf",t.text)}}function Ot(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"div",1),d.wc(2,ft,3,1,"div",2),d.wc(3,mt,6,1,"div",2),d.Pb(4,"div",3),d.Pb(5,"p"),d.Pb(6,"b",4),d.yc(7,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.stage),d.zb(1),d.gc("ngIf",t.text)}}let wt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Eb({type:t,selectors:[["app-stage-four"]],inputs:{entry:"entry",systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],status:"status",text:"text",stage:"stage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"]],template:function(t,e){1&t&&d.wc(0,Ot,8,3,"ng-container",0),2&t&&d.gc("ngIf",e.entry)},directives:[s.l,i.l,i.g,i.a,i.k,i.e,U.a],styles:[""]}),t})();function vt(t,e){if(1&t&&(d.Pb(0,"h2"),d.yc(1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.Ac(" ",t.systemType," Entry ")}}function It(t,e){if(1&t&&d.Lb(0,"app-view-description",6),2&t){const t=d.ac();d.gc("view-description",t.view)}}function Et(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",7),2&t){const t=d.ac();d.gc("error",t.error)}}function Pt(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",8),d.Wb("finished",(function(){return d.rc(t),d.ac().removeNotification()})),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function $t(t,e){if(1&t&&d.Lb(0,"app-request-entry-detail",12),2&t){const t=d.ac(2);d.gc("entry",t.entry)}}function zt(t,e){if(1&t&&d.Lb(0,"app-student-detail",12),2&t){const t=d.ac(2);d.gc("entry",t.entry)}}function St(t,e){if(1&t&&(d.Nb(0),d.Lb(1,"app-signature",12),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("entry",t.entry)}}function jt(t,e){if(1&t&&(d.Nb(0),d.wc(1,St,2,1,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",(null==t.entry?null:t.entry.signature)&&(null==t.entry?null:t.entry.signature.length))}}function Tt(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-entry-options",13),d.Wb("onReviewEntry",(function(e){return d.rc(t),d.ac(2).$confirmEntryOnReview(e)})),d.Ob()}if(2&t){const t=d.ac(2);d.gc("view-description",t.view)("link",t.link)("entry",t.entry)("entry-on-review",t.setEntryOnReview)("can-update-entry",t.canUpdateEntry)("system-type",t.systemType)("view-word",t.viewWord)}}function Nt(t,e){if(1&t&&d.Lb(0,"app-file-attachments-two",12),2&t){const t=d.ac(2);d.gc("entry",t.entry)}}function xt(t,e){if(1&t&&d.Lb(0,"app-stage-one-two-five",18),2&t){const t=d.ac(5);d.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Ft(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}const kt=function(t,e){return{disabled:t,"btn-submit":e}};function Lt(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",14),d.Pb(2,"h3"),d.yc(3," Request Options "),d.Ob(),d.Pb(4,"form",15),d.Wb("ngSubmit",(function(){d.rc(t);const e=d.ac(4);return e.updateEntry(e.entryForm.value)})),d.wc(5,xt,1,7,"app-stage-one-two-five",16),d.Pb(6,"button",17),d.yc(7," Submit "),d.Ob(),d.wc(8,Ft,2,0,"p",1),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(4);d.zb(4),d.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",d.tc),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.Bb(d.mc(9,kt,!t.isFormValid,t.isFormValid)),d.vc("display",t.fip),d.gc("disabled",!t.entryForm.valid),d.zb(2),d.gc("ngIf",t.formSubmitted)}}function qt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Lt,9,12,"ng-container",1),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",t.canUpdateEntry)}}function _t(t,e){if(1&t&&(d.Nb(0),d.wc(1,qt,2,1,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",("1"==(null==t.entry?null:t.entry.stage._id)||1==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Mt(t,e){if(1&t&&d.Lb(0,"app-stage-one-two-five",18),2&t){const t=d.ac(5);d.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Rt(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function Ct(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",14),d.Pb(2,"h3"),d.yc(3," Request Options "),d.Ob(),d.Pb(4,"form",15),d.Wb("ngSubmit",(function(){d.rc(t);const e=d.ac(4);return e.updateEntry(e.entryForm.value)})),d.wc(5,Mt,1,7,"app-stage-one-two-five",16),d.Pb(6,"button",17),d.yc(7," Submit "),d.Ob(),d.wc(8,Rt,2,0,"p",1),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(4);d.zb(4),d.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",d.tc),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.Bb(d.mc(9,kt,!t.isFormValid,t.isFormValid)),d.vc("display",t.fip),d.gc("disabled",!t.entryForm.valid),d.zb(2),d.gc("ngIf",t.formSubmitted)}}function At(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ct,9,12,"ng-container",1),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",t.canUpdateEntry2)}}function Vt(t,e){if(1&t&&(d.Nb(0),d.wc(1,At,2,1,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",("2"==(null==t.entry?null:t.entry.stage._id)||2==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Wt(t,e){if(1&t&&d.Lb(0,"app-stage-three",20),2&t){const t=d.ac(5);d.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("main-body",t.mainBody)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Bt(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function Dt(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",14),d.Pb(2,"h3"),d.yc(3," Request Options "),d.Ob(),d.Pb(4,"form",15),d.Wb("ngSubmit",(function(){d.rc(t);const e=d.ac(4);return e.updateEntry(e.entryForm.value)})),d.wc(5,Wt,1,8,"app-stage-three",19),d.Pb(6,"button",17),d.yc(7," Submit "),d.Ob(),d.wc(8,Bt,2,0,"p",1),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(4);d.zb(4),d.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",d.tc),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.Bb(d.mc(9,kt,!t.isFormValid,t.isFormValid)),d.vc("display",t.fip),d.gc("disabled",!t.entryForm.valid),d.zb(2),d.gc("ngIf",t.formSubmitted)}}function Gt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Dt,9,12,"ng-container",1),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",t.canUpdateEntry3)}}function Kt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Gt,2,1,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf","3"==(null==t.entry?null:t.entry.stage._id)||3==(null==t.entry?null:t.entry.stage._id))}}function Ut(t,e){if(1&t&&d.Lb(0,"app-stage-four",18),2&t){const t=d.ac(8);d.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Qt(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function Yt(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",14),d.Pb(2,"h3"),d.yc(3," Request Options "),d.Ob(),d.Pb(4,"form",15),d.Wb("ngSubmit",(function(){d.rc(t);const e=d.ac(7);return e.updateEntry(e.entryForm.value)})),d.wc(5,Ut,1,7,"app-stage-four",16),d.Pb(6,"button",17),d.yc(7," Sign "),d.Ob(),d.wc(8,Qt,2,0,"p",1),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(7);d.zb(4),d.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",d.tc),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.Bb(d.mc(9,kt,!t.isFormValid,t.isFormValid)),d.vc("display",t.fip),d.gc("disabled",!t.entryForm.valid),d.zb(2),d.gc("ngIf",t.formSubmitted)}}function Ht(t,e){if(1&t&&(d.Nb(0),d.wc(1,Yt,9,12,"ng-container",1),d.Mb()),2&t){const t=e.$implicit,n=d.ac(6);d.zb(1),d.gc("ngIf",t._id!=n.userId)}}function Jt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ht,2,1,"ng-container",23),d.Mb()),2&t){const t=d.ac(5);d.zb(1),d.gc("ngForOf",null==t.entry?null:t.entry.signature)}}function Zt(t,e){if(1&t&&(d.Nb(0),d.wc(1,Jt,2,1,"ng-container",1),d.Mb()),2&t){const t=d.ac(4);d.zb(1),d.gc("ngIf",(null==t.entry?null:t.entry.signature.length)<2)}}function Xt(t,e){if(1&t&&d.Lb(0,"app-stage-four",18),2&t){const t=d.ac(5);d.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function te(t,e){1&t&&(d.Pb(0,"p"),d.yc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function ee(t,e){if(1&t){const t=d.Qb();d.Pb(0,"div",14),d.Pb(1,"h3"),d.yc(2," Request Options "),d.Ob(),d.Pb(3,"form",15),d.Wb("ngSubmit",(function(){d.rc(t);const e=d.ac(4);return e.updateEntry(e.entryForm.value)})),d.wc(4,Xt,1,7,"app-stage-four",16),d.Pb(5,"button",17),d.yc(6," Sign "),d.Ob(),d.wc(7,te,2,0,"p",1),d.Ob(),d.Ob()}if(2&t){const t=d.ac(4);d.zb(3),d.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",d.tc),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.Bb(d.mc(9,kt,!t.isFormValid,t.isFormValid)),d.vc("display",t.fip),d.gc("disabled",!t.entryForm.valid),d.zb(2),d.gc("ngIf",t.formSubmitted)}}function ne(t,e){if(1&t&&(d.Nb(0),d.wc(1,Zt,2,1,"ng-container",21),d.wc(2,ee,8,12,"ng-template",null,22,d.xc),d.Mb()),2&t){const t=d.qc(3),e=d.ac(3);d.zb(1),d.gc("ngIf",(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length))("ngIfElse",t)}}function se(t,e){if(1&t&&(d.Nb(0),d.wc(1,ne,4,2,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",t.canUpdateEntry4)}}function re(t,e){if(1&t&&d.Lb(0,"app-stage-one-two-five",18),2&t){const t=d.ac(5);d.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function ie(t,e){1&t&&(d.Pb(0,"p"),d.yc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),d.Ob())}function ae(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"div",14),d.Pb(2,"h3"),d.yc(3," Request Options "),d.Ob(),d.Pb(4,"form",15),d.Wb("ngSubmit",(function(){d.rc(t);const e=d.ac(4);return e.updateEntry(e.entryForm.value)})),d.wc(5,re,1,7,"app-stage-one-two-five",16),d.Pb(6,"button",17),d.yc(7," Submit "),d.Ob(),d.wc(8,ie,2,0,"p",1),d.Ob(),d.Ob(),d.Mb()}if(2&t){const t=d.ac(4);d.zb(4),d.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",d.tc),d.gc("formGroup",t.entryForm),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.Bb(d.mc(9,kt,!t.isFormValid,t.isFormValid)),d.vc("display",t.fip),d.gc("disabled",!t.entryForm.valid),d.zb(2),d.gc("ngIf",t.formSubmitted)}}function ce(t,e){if(1&t&&(d.Nb(0),d.wc(1,ae,9,12,"ng-container",1),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("ngIf",t.canUpdateEntry5)}}function oe(t,e){if(1&t&&(d.Nb(0),d.wc(1,ce,2,1,"ng-container",1),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",("5"==(null==t.entry?null:t.entry.stage._id)||5==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function le(t,e){if(1&t&&(d.Pb(0,"div",9),d.wc(1,$t,1,1,"app-request-entry-detail",10),d.wc(2,zt,1,1,"app-student-detail",10),d.wc(3,jt,2,1,"ng-container",1),d.wc(4,Tt,1,7,"app-entry-options",11),d.wc(5,Nt,1,1,"app-file-attachments-two",10),d.wc(6,_t,2,1,"ng-container",1),d.wc(7,Vt,2,1,"ng-container",1),d.wc(8,Kt,2,1,"ng-container",1),d.wc(9,se,2,1,"ng-container",1),d.wc(10,oe,2,1,"ng-container",1),d.Ob()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",t.entry),d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.stage),d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.stage),d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.stage),d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.stage),d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.stage)}}let ue=(()=>{class t{constructor(t,e,n,s,r,i,a){this.router=t,this.route=e,this.grs=n,this.ns=s,this.grfs=r,this.ems=i,this.as=a,this.error=!1,this.entrySlug="",this.formSubmitted=!1,this.setEntryOnReview=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.$link=t.detail.$link,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.route.paramMap.pipe(Object(g.a)(t=>{let e=t.get("entry");return this.grs.getEntry(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entry=t,this.entrySlug=this.entry.slug,this.entryForm=this.grfs.entryUpdateForm(),this.entry.stage&&"1"==this.entry.stage._id&&(this.currentStage="2",this.entryForm.patchValue({stage:"2"})),this.entry.stage&&"2"==this.entry.stage._id&&(this.currentStage="3",this.entryForm.patchValue({stage:"3"})),this.entry.stage&&"3"==this.entry.stage._id&&(this.currentStage="4",this.entryForm.patchValue({stage:"4",text:"Content of the Letter"}),this.grfs.removeControls(["status"],this.entryForm),this.entryForm.addControl("main_body",new i.c("",{validators:this.grfs.mainBodyV})),this.entryForm.updateValueAndValidity()),this.entry.stage&&"4"==this.entry.stage._id&&(this.currentStage="5",this.entryForm.patchValue({stage:"5"}),this.grfs.removeControls(["status"],this.entryForm),this.entryForm.updateValueAndValidity()),this.entry.stage&&"5"==this.entry.stage._id&&(this.currentStage="6",this.entryForm.patchValue({stage:"6"}))})}ngOnDestroy(){}updateEntry(t){this.error=null,this.fip="none",this.formSubmitted=!0,this.grs.$updateEntry(this.entrySlug,t).subscribe(t=>t?t&&t.updated?(this.formSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.$entryChanges(t.$data)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(["request",this.link,"entries"]),5e3)}$confirmEntryOnReview(){if(this.setEntryOnReview)return!1;this.setEntryOnReview=!0,this.grs.$confirmEntryOnReview(this.entry.slug).subscribe(t=>{if(!t)return this.setEntryOnReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);t&&t.onReview&&(this.setEntryOnReview=!1,this.entry.status=t.$data.status,this.entry.stage={_id:"1"},this.currentStage="2",this.entryForm.patchValue({stage:"2"}),this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and on review.`))})}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.as.userRole}get canUpdateEntry(){return h.indexOf(this.userRole)>-1}get canUpdateEntry2(){return["bursar","moderator","administrator","superAdministrator"].indexOf(this.userRole)>-1}get canUpdateEntry3(){return["student","departmentPresident","facultyPresident"].indexOf(this.userRole)>-1}get canUpdateEntry4(){return["hod","dean"].indexOf(this.userRole)>-1}get canUpdateEntry5(){return["bursar"].indexOf(this.userRole)>-1}get userId(){return this.as.userId}get isFormValid(){return this.entryForm.valid}get text(){return this.entryForm.get("text")}get status(){return this.entryForm.get("status")}get stage(){return this.entryForm.get("stage")}get mainBody(){return this.entryForm.get("main_body")}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(l.d),d.Kb(l.a),d.Kb($),d.Kb(f.a),d.Kb(j),d.Kb(p.a),d.Kb(T.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-refund-detail"]],features:[d.yb([f.a,p.a])],decls:6,vars:5,consts:[["id","entry-view"],[4,"ngIf"],[3,"view-description",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"view-description"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry",4,"ngIf"],[3,"view-description","link","entry","entry-on-review","can-update-entry","system-type","view-word","onReviewEntry",4,"ngIf"],[3,"entry"],[3,"view-description","link","entry","entry-on-review","can-update-entry","system-type","view-word","onReviewEntry"],["id","entry-detail-form"],["method","post",3,"action","formGroup","ngSubmit"],[3,"entry","entry-form","status","text","stage","current-stage","system-type",4,"ngIf"],["type","submit","id","form-btn-submit",3,"disabled"],[3,"entry","entry-form","status","text","stage","current-stage","system-type"],[3,"entry","entry-form","status","text","main-body","stage","current-stage","system-type",4,"ngIf"],[3,"entry","entry-form","status","text","main-body","stage","current-stage","system-type"],[4,"ngIf","ngIfElse"],["noSignature",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,vt,2,1,"h2",1),d.wc(2,It,1,1,"app-view-description",2),d.wc(3,Et,1,1,"app-resource-unavailable",3),d.wc(4,Pt,1,2,"app-notification-screen",4),d.wc(5,le,11,10,"div",5),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.systemType),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.error),d.zb(1),d.gc("ngIf",e.notificationAvailable),d.zb(1),d.gc("ngIf",e.entry))},directives:[s.l,N.a,x.a,F.a,k.a,V,D,G.a,K.a,i.s,i.l,i.g,at,ht,s.k,wt],styles:[""]}),t})();var be=n("EYJY"),ye=n("+3x0"),ge=n("S5zL"),he=n("iPJu"),pe=n("J1Ni"),fe=n("9yhg"),de=n("RBZI");function me(t,e){if(1&t&&d.Lb(0,"app-view-description",17),2&t){const t=d.ac();d.gc("view-description",t.view)}}function Oe(t,e){if(1&t){const t=d.Qb();d.Pb(0,"app-notification-screen",18),d.Wb("finished",(function(){return d.rc(t),d.ac().removeNotification()})),d.Ob()}if(2&t){const t=d.ac();d.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function we(t,e){if(1&t&&(d.Nb(0),d.Pb(1,"option",19),d.yc(2),d.Ob(),d.Mb()),2&t){const t=e.$implicit;d.zb(1),d.hc("value",t.key),d.zb(1),d.Ac(" ",t.value," ")}}function ve(t,e){if(1&t&&(d.Pb(0,"app-general-request-validators",20),d.Wb("keyup",(function(){return 0})),d.Ob()),2&t){const t=d.ac();d.gc("search",t.search)("system-type",t.systemType)}}function Ie(t,e){if(1&t){const t=d.Qb();d.Pb(0,"button",21),d.Wb("click",(function(){d.rc(t);const e=d.ac(),n=d.qc(17),s=d.qc(10);return e.clearSearch(),n.value="",s.value=""})),d.yc(1," Clear Search "),d.Ob()}}function Ee(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Searching for entry or entries from the records. "),d.Pb(2,"span",22),d.yc(3," ||| "),d.Ob(),d.Ob())}function Pe(t,e){1&t&&(d.Pb(0,"p"),d.yc(1," Refreshing list of entries from the records. "),d.Pb(2,"span",22),d.yc(3," ||| "),d.Ob(),d.Ob())}function $e(t,e){1&t&&(d.Pb(0,"td",36),d.yc(1," Nil "),d.Ob())}function ze(t,e){if(1&t&&(d.Pb(0,"td",48),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.Ac(" ",null==t?null:t.applicationNumber," ")}}function Se(t,e){if(1&t&&(d.Pb(0,"td",49),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.Bc(" ",null==t||null==t.author?null:t.author.firstName," ",null==t||null==t.author?null:t.author.lastName," ")}}function je(t,e){if(1&t&&(d.Pb(0,"td",50),d.yc(1),d.bc(2,"date"),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.Ac(" ",d.dc(2,1,null==t?null:t.updatedAt,"longDate")," ")}}function Te(t,e){if(1&t&&(d.Pb(0,"td",51),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.Ac(" ",null==t||null==t.author?null:t.author.level," ")}}function Ne(t,e){if(1&t&&(d.Pb(0,"td",52),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.Ac(" ",null==t||null==t.stage?null:t.stage.name," ")}}function xe(t,e){1&t&&(d.Pb(0,"td",36),d.yc(1," Not yet processed. "),d.Ob())}function Fe(t,e){if(1&t&&(d.Pb(0,"td",53),d.yc(1),d.Ob()),2&t){const t=d.ac().$implicit;d.zb(1),d.Ac(" ",null==t?null:t.status," ")}}function ke(t,e){if(1&t){const t=d.Qb();d.Nb(0),d.Pb(1,"input",57,58),d.Wb("click",(function(){d.rc(t);const e=d.qc(2),n=d.ac(3),s=n.$implicit,r=n.index;return d.ac(2).addEntryToDeleteList(null==s?null:s.num,e.checked,r)})),d.Ob(),d.Lb(3,"span",59),d.Mb()}if(2&t){const t=e.$implicit,n=d.ac(3).$implicit;d.zb(1),d.gc("checked",t==(null==n?null:n.num))}}function Le(t,e){if(1&t&&(d.Nb(0),d.wc(1,ke,4,1,"ng-container",8),d.Mb()),2&t){const t=d.ac(4);d.zb(1),d.gc("ngForOf",t.esdl)}}function qe(t,e){if(1&t){const t=d.Qb();d.Pb(0,"input",60,58),d.Wb("click",(function(){d.rc(t);const e=d.qc(1),n=d.ac(2),s=n.$implicit,r=n.index;return d.ac(2).addEntryToDeleteList(null==s?null:s.num,e.checked,r)})),d.Ob(),d.Lb(2,"span",59)}}function _e(t,e){if(1&t&&(d.Pb(0,"label",54),d.wc(1,Le,2,1,"ng-container",55),d.wc(2,qe,3,0,"ng-template",null,56,d.xc),d.Ob()),2&t){const t=d.qc(3),e=d.ac(3);d.zb(1),d.gc("ngIf",e.esdl.length)("ngIfElse",t)}}const Me=function(t){return["../","entry","detail",t]};function Re(t,e){if(1&t&&(d.Pb(0,"tr"),d.Pb(1,"td",36),d.yc(2),d.Ob(),d.wc(3,$e,2,0,"ng-template",null,37,d.xc),d.wc(5,ze,2,1,"td",38),d.wc(6,Se,2,2,"td",39),d.wc(7,je,3,4,"td",40),d.wc(8,Te,2,1,"td",41),d.wc(9,Ne,2,1,"td",42),d.wc(10,xe,2,0,"ng-template",null,43,d.xc),d.wc(12,Fe,2,1,"td",44),d.Pb(13,"td",45),d.Pb(14,"a",46),d.yc(15,"View"),d.Ob(),d.wc(16,_e,4,2,"label",47),d.Ob(),d.Ob()),2&t){const t=e.$implicit,n=e.index,s=d.qc(4),r=d.qc(11),i=d.ac(2);d.zb(2),d.Ac(" ",n+1,". "),d.zb(3),d.gc("ngIf",null==t?null:t.applicationNumber)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t||null==t.author?null:t.author.firstName)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t?null:t.updatedAt)("ngIfElse",s),d.zb(1),d.gc("ngIf",null==t||null==t.author?null:t.author.level)("ngIfElse",s),d.zb(1),d.gc("ngIf",(null==t?null:t.stage)&&(null==t||null==t.stage?null:t.stage.name))("ngIfElse",r),d.zb(3),d.gc("ngIf",null==t?null:t.status)("ngIfElse",s),d.zb(2),d.gc("routerLink",d.lc(15,Me,null==t?null:t.slug)),d.zb(2),d.gc("ngIf",i.canUpdateEntry)}}function Ce(t,e){if(1&t&&d.Lb(0,"app-pagination",61),2&t){const t=d.ac(2);d.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function Ae(t,e){if(1&t&&(d.Pb(0,"div"),d.Pb(1,"table",23),d.Pb(2,"caption",24),d.yc(3," Entries "),d.Ob(),d.Pb(4,"colgroup"),d.Lb(5,"col",25),d.Lb(6,"col",26),d.Lb(7,"col",27),d.Lb(8,"col",28),d.Lb(9,"col",29),d.Lb(10,"col",30),d.Lb(11,"col",31),d.Lb(12,"col",32),d.Ob(),d.Pb(13,"thead"),d.Pb(14,"tr"),d.Pb(15,"th",33),d.yc(16," Index "),d.Ob(),d.Pb(17,"th",33),d.yc(18," Application Unique ID "),d.Ob(),d.Pb(19,"th",33),d.yc(20," Full Name "),d.Ob(),d.Pb(21,"th",33),d.yc(22," Date Modified "),d.Ob(),d.Pb(23,"th",33),d.yc(24," Level "),d.Ob(),d.Pb(25,"th",33),d.yc(26," Stage "),d.Ob(),d.Pb(27,"th",33),d.yc(28," Status "),d.Ob(),d.Pb(29,"th",33),d.yc(30," Changes "),d.Ob(),d.Ob(),d.Ob(),d.Pb(31,"tbody"),d.wc(32,Re,17,17,"tr",34),d.Ob(),d.Pb(33,"tfoot"),d.Pb(34,"tr"),d.Lb(35,"td"),d.Ob(),d.Pb(36,"tr"),d.Lb(37,"td"),d.Ob(),d.Pb(38,"tr"),d.wc(39,Ce,1,3,"app-pagination",35),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&t){const t=d.ac();d.zb(31),d.gc("@listAnimation",t.entries.length),d.zb(1),d.gc("ngForOf",t.entries)("ngForTrackBy",t.trackByName),d.zb(7),d.gc("ngIf",t.pageNumber)}}function Ve(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",62),2&t){const t=d.ac();d.gc("error",t.error)}}const We=function(t,e){return{"btn-search":t,disabled:e}};let Be=(()=>{class t{constructor(t,e,n,s,r,i,a,c,o){this.route=t,this.router=e,this.location=n,this.grfs=s,this.grs=r,this.grss=i,this.ems=a,this.ns=c,this.as=o,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.searchQuery={},this.pageNumber=1,this.$entriesLength=0,this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!1,this.searchTerm=new be.a}validSearch(t){return Object.keys(this.searchFilters).indexOf(t)<0}searchEntry(t,e){if(this.error=null,!t.trim()||Object.keys(this.searchFilters).indexOf(t)<0)return!1;this.entrySearching=!0,this.searchQuery={[t]:e},this.searchTerm.next(this.searchQuery)}trackByName(t,e){return e.applicationNumber}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.$link=t.entries.$link,this.searchFilters=t.entries.searchFilters,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.searchCtrl=this.grfs.searchForm(this.searchFilters),this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let s=t,r=s.keys,i={};for(let a of r){let t=s.get(a);t&&(i[a]=t)}return Object.keys(this.searchQuery).length&&(i=Object.assign(Object.assign({},i),this.searchQuery)),this.getAllEntry(i)}),this.searchTerm.pipe(Object(ye.a)(4e3),Object(ge.a)(),Object(g.a)(t=>this.grss.searchTerms(t,this.link,this.systemType+" Entries",[]))).subscribe(t=>{if(this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!0,this.location.replaceState(`/request/${this.link}/entries`),this.pageNumber=1,t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop()})}ngOnDestroy(){}backToTop(){window.scrollTo(0,0)}getAllEntry(t){this.grs.getAllEntry(t).subscribe(t=>{if(this.refreshing=!1,t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}clearSearch(){this.searchQuery={},this.entriesSearched=!1,this.error=null,this.refreshing=!0,this.pageNumber=1,this.location.replaceState(`/request/${this.link}/entries`),this.getAllEntry({})}addEntryToDeleteList(t,e,n){e?this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.grs.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get userRole(){return this.as.userRole}get canUpdateEntry(){return h.indexOf(this.userRole)>-1}get search(){return this.searchCtrl}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(l.a),d.Kb(l.d),d.Kb(s.h),d.Kb(j),d.Kb($),d.Kb(he.a),d.Kb(p.a),d.Kb(f.a),d.Kb(T.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-refund-entries"]],features:[d.yb([f.a,p.a,he.a])],decls:27,vars:21,consts:[["id","entry-main"],[3,"view-description",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"left"],["id","query","name","queryType",1,"form-control",3,"formControl"],["qt",""],["value",""],[4,"ngFor","ngForOf"],[3,"search","system-type","keyup",4,"ngIf"],["type","text","name","queryValue","value","","autocomplete","new-queryValue",3,"keyup"],["qv",""],["type","submit",1,"entry-option-small",3,"click"],["class","btn-submit",3,"click",4,"ngIf"],[4,"ngIf"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description"],[3,"notified","message","finished"],[3,"value"],[3,"search","system-type","keyup"],[1,"btn-submit",3,"click"],[1,"rolling"],[1,"entries"],[1,"bold","left"],[1,"index"],[1,"app-number"],[1,"full-name"],[1,"date"],[1,"level"],[1,"stage"],[1,"status"],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center bold app-number",4,"ngIf","ngIfElse"],["class","center full-name",4,"ngIf","ngIfElse"],["class","center date",4,"ngIf","ngIfElse"],["class","center level",4,"ngIf","ngIfElse"],["class","center stage",4,"ngIf","ngIfElse"],["noStage",""],["class","center status",4,"ngIf","ngIfElse"],[1,""],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","app-number"],[1,"center","full-name"],[1,"center","date"],[1,"center","level"],[1,"center","stage"],[1,"center","status"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){if(1&t){const t=d.Qb();d.Pb(0,"div",0),d.Pb(1,"h2"),d.yc(2),d.Ob(),d.wc(3,me,1,1,"app-view-description",1),d.wc(4,Oe,1,2,"app-notification-screen",2),d.Lb(5,"app-list-entry-options"),d.Pb(6,"div",3),d.Pb(7,"h4",4),d.yc(8),d.Ob(),d.Pb(9,"select",5,6),d.Pb(11,"option",7),d.yc(12," Search Criteria "),d.Ob(),d.wc(13,we,3,2,"ng-container",8),d.bc(14,"keyvalue"),d.Ob(),d.wc(15,ve,1,2,"app-general-request-validators",9),d.Pb(16,"input",10,11),d.Wb("keyup",(function(){return 0})),d.Ob(),d.Pb(18,"button",12),d.Wb("click",(function(){d.rc(t);const n=d.qc(10),s=d.qc(17);return e.searchEntry(n.value,s.value)})),d.yc(19," Submit "),d.Ob(),d.wc(20,Ie,2,0,"button",13),d.wc(21,Ee,4,0,"p",14),d.wc(22,Pe,4,0,"p",14),d.Pb(23,"a",15),d.Wb("click",(function(){return e.deleteManyEntry()})),d.yc(24," Delete Many "),d.Ob(),d.Ob(),d.wc(25,Ae,40,4,"div",14),d.wc(26,Ve,1,1,"app-resource-unavailable",16),d.Ob()}if(2&t){const t=d.qc(10),n=d.qc(17);d.zb(2),d.Ac(" ",e.title," "),d.zb(1),d.gc("ngIf",e.view),d.zb(1),d.gc("ngIf",e.notificationAvailable),d.zb(4),d.Ac(" Search ",e.systemType," Reference "),d.zb(1),d.gc("formControl",e.search),d.zb(4),d.gc("ngForOf",d.cc(14,16,e.searchFilters)),d.zb(2),d.gc("ngIf",e.search),d.zb(3),d.Bb(d.mc(18,We,n.value&&!e.validSearch(t.value),!n.value||e.validSearch(t.value))),d.zb(2),d.gc("ngIf",e.entriesSearched),d.zb(1),d.gc("ngIf",e.entrySearching),d.zb(1),d.gc("ngIf",e.refreshing),d.zb(1),d.Cb("hide",e.esdl.length<2),d.zb(2),d.gc("ngIf",e.$entriesLength>0),d.zb(1),d.gc("ngIf",e.error)}},directives:[s.l,fe.a,i.p,i.k,i.d,i.m,i.r,s.k,N.a,F.a,U.a,l.f,de.a,x.a],pipes:[s.f,s.d],styles:[""],data:{animation:[pe.b]}}),t})(),De=(()=>{class t{transform(t,...e){return t.replace(/\t/g,"&emsp;").replace("ql-align-center","center")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Jb({name:"replaceTabs",type:t,pure:!0}),t})();function Ge(t,e){if(1&t&&d.Lb(0,"app-resource-unavailable",5),2&t){const t=d.ac();d.gc("error",t.error)}}function Ke(t,e){if(1&t&&(d.Nb(0),d.Lb(1,"div",6),d.bc(2,"replaceTabs"),d.Mb()),2&t){const t=d.ac(3);d.zb(1),d.gc("outerHTML",d.cc(2,1,null==t.entry?null:t.entry.letter.main_body),d.sc)}}function Ue(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ke,3,3,"ng-container",4),d.Mb()),2&t){const t=d.ac(2);d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.letter.main_body)}}function Qe(t,e){if(1&t&&(d.Nb(0),d.wc(1,Ue,2,1,"ng-container",4),d.Mb()),2&t){const t=d.ac();d.zb(1),d.gc("ngIf",null==t.entry?null:t.entry.letter)}}let Ye=(()=>{class t{constructor(t,e,n){this.route=t,this.grs=e,this.ems=n,this.error=!1,this.entrySlug=""}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.letter.systemType,this.title=t.letter.title,this.view=t.letter.view,this.viewWord=t.letter.viewWord,this.link=t.letter.link,this.$link=t.letter.$link,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.route.paramMap.pipe(Object(g.a)(t=>{let e=t.get("entry");return this.grs.getEntryLetter(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.error=null,this.entry=t,this.entrySlug=this.entry.slug})}}return t.\u0275fac=function(e){return new(e||t)(d.Kb(l.a),d.Kb($),d.Kb(p.a))},t.\u0275cmp=d.Eb({type:t,selectors:[["app-refund-letter"]],features:[d.yb([p.a])],decls:5,vars:2,consts:[["id","entry-view"],[3,"error",4,"ngIf"],["id","rf-entry"],["id","letter-content"],[4,"ngIf"],[3,"error"],[3,"outerHTML"]],template:function(t,e){1&t&&(d.Pb(0,"div",0),d.wc(1,Ge,1,1,"app-resource-unavailable",1),d.Pb(2,"div",2),d.Pb(3,"div",3),d.wc(4,Qe,2,1,"ng-container",4),d.Ob(),d.Ob(),d.Ob()),2&t&&(d.zb(1),d.gc("ngIf",e.error),d.zb(3),d.gc("ngIf",e.entry))},directives:[s.l,x.a],pipes:[De],styles:["h3.ql-align-center[_ngcontent-%COMP%]{text-align:center}"]}),t})();var He=n("4aVp"),Je=n("nDLB"),Ze=n("dIfi"),Xe=n("dyb6"),tn=n("DjD2"),en=n("fLAD"),nn=n("r3HG");let sn={systemType:"Refund",title:"Refund",view:"rf",viewWord:"Refund",link:"refund",$link:"refund",systemGuideline:"request",base:"request"};const rn={dashboard:Object.assign({},sn),create:Object.assign(Object.assign({},sn),{title:`Request a ${sn.systemType} for fee payment`}),comment:Object.assign(Object.assign({},sn),{title:`Add a Comment : ${sn.systemType} Entry`}),detail:Object.assign(Object.assign({},sn),{title:sn.systemType+" Entry",generateCred:"csif"}),timeline:Object.assign(Object.assign({},sn),{title:sn.systemType+" Entry Timeline"}),letter:Object.assign(Object.assign({},sn),{title:sn.systemType+" Entry Letter"}),transfer:Object.assign(Object.assign({},sn),{title:`Transfer and Move ${sn.systemType} Entry`}),entries:Object.assign(Object.assign({},sn),{title:sn.systemType+" Entries",searchFilters:{applicationNumber:"Application Number",status:"Status",department:"Department",faculty:"Faculty",stage:"Stage"}}),reply:Object.assign(Object.assign({},sn),{title:`Add a Reply to a Comment : ${sn.systemType} Entry`}),deleteAll:Object.assign(Object.assign({},sn),{title:sn.systemType+" Entries : Delete All"})},an=[{path:"",component:He.a,canActivate:[u.a],canLoad:[u.a],canActivateChild:[u.a],children:[{path:"",component:Je.a,data:{dashboard:rn.dashboard}},{path:"create",component:Ze.a,data:{create:rn.create},canActivate:[b.a]},{path:"entry/:entry/comment/add",component:Xe.a,data:{comment:rn.comment}},{path:"entry/detail/:entry",component:ue,data:{detail:rn.detail}},{path:"entry/:entry/timeline",component:tn.a,data:{timeline:rn.timeline}},{path:"entry/:entry/letter",component:Ye,data:{letter:rn.letter}},{path:"entries",component:Be,data:{entries:rn.entries}},{path:"entry/:entry/comment/:comment/reply/add",component:en.a,data:{reply:rn.reply}},{path:"entries/delete/all",component:nn.a,canActivate:[y.a],data:{deleteAll:rn.deleteAll}}]}];let cn=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(an)],l.g]}),t})();var on=n("kPid"),ln=n("WJAz"),un=n("j6sV");class bn extends un.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var yn=n("CvLZ");class gn extends yn.a{}const hn=new gn(bn);var pn=n("ry98"),fn=n("OX4D"),dn=n("wsoD");class mn extends fn.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(mn.dispatch,this.delay,new On(t,this.destination)))}_next(t){this.scheduleMessage(dn.a.createNext(t))}_error(t){this.scheduleMessage(dn.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(dn.a.createComplete()),this.unsubscribe()}}class On{constructor(t,e){this.notification=t,this.destination=e}}var wn=n("TBeK"),vn=n("kfAb");class In extends be.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new En(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,r=n.length;let i;if(this.closed)throw new wn.a;if(this.isStopped||this.hasError?i=pn.a.EMPTY:(this.observers.push(t),i=new vn.a(this,t)),s&&t.add(t=new mn(t,s)),e)for(let a=0;a<r&&!t.closed;a++)t.next(n[a]);else for(let a=0;a<r&&!t.closed;a++)t.next(n[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),i}_getNow(){return(this.scheduler||hn).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,s=this._events,r=s.length;let i=0;for(;i<r&&!(t-s[i].time<n);)i++;return r>e&&(i=Math.max(i,r-e)),i>0&&s.splice(0,i),s}}class En{constructor(t,e){this.time=t,this.value=e}}let Pn=(()=>{class t{constructor(t){this.document=t,this._loadedLibraries={}}lazyLoadFroala(){return Object(ln.a)([this.loadScript("assets/js/froala_editor.min.js"),this.loadScript("assets/js/plugins/align.min.js"),this.loadScript("assets/js/plugins/code_view.min.js"),this.loadScript("assets/js/plugins/colors.min.js"),this.loadScript("assets/js/plugins/fullscreen.min.js"),this.loadScript("assets/js/plugins/font_family.min.js"),this.loadScript("assets/js/plugins/font_size.min.js"),this.loadScript("assets/js/plugins/entities.min.js"),this.loadScript("assets/js/plugins/line_breaker.min.js"),this.loadScript("assets/js/plugins/line_height.min.js"),this.loadScript("assets/js/plugins/print.min.js"),this.loadScript("assets/js/plugins/char_counter.min.js"),this.loadScript("assets/js/plugins/url.min.js"),this.loadScript("assets/js/plugins/word_paste.min.js"),this.loadScript("assets/js/plugins/lists.min.js"),this.loadScript("assets/js/plugins/paragraph_style.min.js"),this.loadScript("assets/js/plugins/paragraph_format.min.js"),this.loadScript("assets/js/plugins/quote.min.js"),this.loadStyle("assets/css/froala_editor.min.css"),this.loadStyle("assets/css/plugins/code_view.min.css"),this.loadStyle("assets/css/plugins/colors.min.css"),this.loadStyle("assets/css/plugins/fullscreen.min.css"),this.loadStyle("assets/css/plugins/image.min.css"),this.loadStyle("assets/css/plugins/line_breaker.min.css"),this.loadStyle("assets/css/plugins/char_counter.min.css"),this.loadStyle("assets/css/third_party/image_tui.min.css"),this.loadStyle("assets/css/third_party/spell_checker.min.css")])}loadScript(t){if(this._loadedLibraries[t])return this._loadedLibraries[t].asObservable();this._loadedLibraries[t]=new In;const e=this.document.createElement("script");return e.type="text/javascript",e.async=!0,e.src=t,e.onload=()=>{this._loadedLibraries[t].next(),this._loadedLibraries[t].complete()},this.document.body.appendChild(e),this._loadedLibraries[t].asObservable()}loadStyle(t){if(this._loadedLibraries[t])return this._loadedLibraries[t].asObservable();this._loadedLibraries[t]=new In;const e=this.document.createElement("link");return e.type="text/css",e.href=t,e.rel="stylesheet",e.onload=()=>{this._loadedLibraries[t].next(),this._loadedLibraries[t].complete()},document.getElementsByTagName("head")[0].appendChild(e),this._loadedLibraries[t].asObservable()}}return t.\u0275fac=function(e){return new(e||t)(d.Tb(s.c))},t.\u0275prov=d.Gb({token:t,factory:t.\u0275fac}),t})(),$n=(()=>{class t{}return t.\u0275mod=d.Ib({type:t}),t.\u0275inj=d.Hb({factory:function(e){return new(e||t)},providers:[$,j,Pn],imports:[[s.b,i.n,r.a,a.a,c.a,o.a,on.a,cn]]}),t})()}}]);