(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{lrLS:function(t,e,n){"use strict";n.r(e),n.d(e,"UploadModule",(function(){return Y}));var i=n("Yvf7"),s=n("mHYI"),c=n("kPid"),r=n("TS3g"),l=n("hxwH"),a=n("jV/k"),o=n("oECA"),b=n("O6Zd"),h=n("VcWf"),u=n("Ub9n"),d=n("FBrc"),f=n("EUGn");let p=(()=>{class t{constructor(t,e,n){this.apiConfig=t,this.http=e,this.ems=n}getAllEntry(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(o.a)(this.handleError(this.$systemType+" Entries",[])))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(b.a)(t=>({manyDeleted:!0})),Object(o.a)(this.handleError(this.$systemType+" Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(a.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(u.Tb(h.b),u.Tb(d.b),u.Tb(f.a))},t.\u0275prov=u.Gb({token:t,factory:t.\u0275fac}),t})();var g=n("Fk62"),y=n("/zEo"),m=n("Hk0H"),O=n("RPGP"),k=n("G+IB"),w=n("9nlD"),I=n("J1Ni"),P=n("9yhg"),$=n("+ef2"),E=n("Rxsk"),v=n("RBZI"),z=n("TY4h");function L(t,e){if(1&t&&(u.Pb(0,"h2"),u.yc(1),u.Ob()),2&t){const t=u.ac();u.zb(1),u.Ac(" ",t.title," ")}}function A(t,e){if(1&t&&u.Lb(0,"app-view-description",7),2&t){const t=u.ac();u.gc("view-description",t.view)("system-type",t.systemType)}}function T(t,e){if(1&t){const t=u.Qb();u.Pb(0,"app-notification-screen",8),u.Wb("finished",(function(){return u.rc(t),u.ac().removeNotification()})),u.Ob()}if(2&t){const t=u.ac();u.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function N(t,e){1&t&&(u.Pb(0,"td",16),u.yc(1," Nil "),u.Ob())}function j(t,e){if(1&t&&(u.Pb(0,"td",16),u.yc(1),u.Ob()),2&t){const t=u.ac().$implicit;u.zb(1),u.Ac(" ",null==t?null:t._id," ")}}function x(t,e){if(1&t&&(u.Pb(0,"td",16),u.yc(1),u.Ob()),2&t){const t=u.ac().$implicit;u.zb(1),u.Ac(" ",null==t?null:t.entryId," ")}}function M(t,e){if(1&t&&(u.Pb(0,"td",16),u.yc(1),u.Ob()),2&t){const t=u.ac().$implicit;u.zb(1),u.Ac(" ",null==t?null:t.status," ")}}function C(t,e){if(1&t&&(u.Pb(0,"td",16),u.yc(1),u.Ob()),2&t){const t=u.ac().$implicit;u.zb(1),u.Ac(" ",null==t?null:t.num," ")}}function D(t,e){if(1&t&&(u.Pb(0,"td",16),u.yc(1),u.bc(2,"date"),u.Ob()),2&t){const t=u.ac().$implicit;u.zb(1),u.Ac(" ",u.dc(2,1,null==t?null:t.createdAt,"longDate")," ")}}function F(t,e){if(1&t){const t=u.Qb();u.Nb(0),u.Pb(1,"input",25,26),u.Wb("click",(function(){u.rc(t);const e=u.qc(2),n=u.ac(3),i=n.$implicit,s=n.index;return u.ac(2).addEntryToDeleteList(null==i?null:i.num,e.checked,s)})),u.Ob(),u.Lb(3,"span",27),u.Mb()}if(2&t){const t=e.$implicit,n=u.ac(3).$implicit;u.zb(1),u.gc("checked",t==(null==n?null:n.num))}}function W(t,e){if(1&t&&(u.Nb(0),u.wc(1,F,4,1,"ng-container",24),u.Mb()),2&t){const t=u.ac(4);u.zb(1),u.gc("ngForOf",t.esdl)}}function B(t,e){if(1&t){const t=u.Qb();u.Pb(0,"input",28,26),u.Wb("click",(function(){u.rc(t);const e=u.qc(1),n=u.ac(2),i=n.$implicit,s=n.index;return u.ac(2).addEntryToDeleteList(null==i?null:i.num,e.checked,s)})),u.Ob(),u.Lb(2,"span",27)}}function U(t,e){if(1&t&&(u.Pb(0,"label",21),u.wc(1,W,2,1,"ng-container",22),u.wc(2,B,3,0,"ng-template",null,23,u.xc),u.Ob()),2&t){const t=u.qc(3),e=u.ac(3);u.zb(1),u.gc("ngIf",e.esdl.length)("ngIfElse",t)}}function q(t,e){if(1&t&&(u.Pb(0,"tr"),u.Pb(1,"td",16),u.yc(2),u.Ob(),u.wc(3,N,2,0,"ng-template",null,17,u.xc),u.wc(5,j,2,1,"td",18),u.wc(6,x,2,1,"td",18),u.wc(7,M,2,1,"td",18),u.wc(8,C,2,1,"td",18),u.wc(9,D,3,4,"td",18),u.Pb(10,"td",11),u.Pb(11,"button",19),u.yc(12," Deleteable "),u.Ob(),u.wc(13,U,4,2,"label",20),u.Ob(),u.Ob()),2&t){const t=e.$implicit,n=e.index,i=u.qc(4);u.zb(2),u.Ac(" ",n+1,". "),u.zb(3),u.gc("ngIf",null==t?null:t._id)("ngIfElse",i),u.zb(1),u.gc("ngIf",null==t?null:t.entryId)("ngIfElse",i),u.zb(1),u.gc("ngIf",null==t?null:t.status)("ngIfElse",i),u.zb(1),u.gc("ngIf",null==t?null:t.num)("ngIfElse",i),u.zb(1),u.gc("ngIf",null==t?null:t.createdAt)("ngIfElse",i),u.zb(4),u.gc("ngIf",!0)}}function H(t,e){if(1&t&&u.Lb(0,"app-pagination",29),2&t){const t=u.ac(2);u.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function K(t,e){if(1&t&&(u.Pb(0,"div"),u.Pb(1,"table",9),u.Pb(2,"caption",10),u.yc(3," Entries "),u.Ob(),u.Pb(4,"colgroup"),u.Lb(5,"col",11),u.Lb(6,"col",11),u.Lb(7,"col",11),u.Lb(8,"col",11),u.Lb(9,"col",11),u.Lb(10,"col",11),u.Lb(11,"col",11),u.Lb(12,"col",11),u.Lb(13,"col",12),u.Ob(),u.Pb(14,"thead"),u.Pb(15,"tr"),u.Pb(16,"th",13),u.yc(17," Index "),u.Ob(),u.Pb(18,"th",13),u.yc(19," Unique Identity Number "),u.Ob(),u.Pb(20,"th",13),u.yc(21," Entry Reference "),u.Ob(),u.Pb(22,"th",13),u.yc(23," Status "),u.Ob(),u.Pb(24,"th",13),u.yc(25," Number "),u.Ob(),u.Pb(26,"th",13),u.yc(27," Created At "),u.Ob(),u.Pb(28,"th",13),u.yc(29," Changes "),u.Ob(),u.Ob(),u.Ob(),u.Pb(30,"tbody"),u.wc(31,q,14,12,"tr",14),u.Ob(),u.Pb(32,"tfoot"),u.Pb(33,"tr"),u.Lb(34,"td"),u.Ob(),u.Pb(35,"tr"),u.Lb(36,"td"),u.Ob(),u.Pb(37,"tr"),u.wc(38,H,1,3,"app-pagination",15),u.Ob(),u.Ob(),u.Ob(),u.Ob()),2&t){const t=u.ac();u.zb(30),u.gc("@listAnimation",t.entries.length),u.zb(1),u.gc("ngForOf",t.entries)("ngForTrackBy",t.trackById),u.zb(7),u.gc("ngIf",t.pageNumber)}}function R(t,e){if(1&t&&u.Lb(0,"app-resource-unavailable",30),2&t){const t=u.ac();u.gc("error",t.error)}}let S=(()=>{class t{constructor(t,e,n,i,s,c){this.route=t,this.router=e,this.location=n,this.us=i,this.ems=s,this.ns=c,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.pageNumber=1,this.$entriesLength=0}trackById(t,e){return e._id}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.link2=t.link2,this.$link=t.entries.$link,this.us.$systemType=this.systemType,this.us.$sa=this.$link,this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let i=t,s=i.keys,c={};for(let r of s){let t=i.get(r);t&&(c[r]=t)}return this.getAllEntry(c)})}getAllEntry(t){this.us.getAllEntry(t,this.link2).subscribe(t=>{if(t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}addEntryToDeleteList(t,e,n){e?t&&this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.us.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(g.a),u.Kb(g.d),u.Kb(i.h),u.Kb(p),u.Kb(f.a),u.Kb(w.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-upload-entries"]],features:[u.yb([f.a,w.a])],decls:10,vars:7,consts:[["id","entry-main"],[4,"ngIf"],[3,"view-description","system-type",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description","system-type"],[3,"notified","message","finished"],[1,"entries"],[1,"bold","left"],[1,""],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center",4,"ngIf","ngIfElse"],[1,"center","changes-option","changes-option-full"],["class","changes-mark",4,"ngIf"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){1&t&&(u.Pb(0,"div",0),u.wc(1,L,2,1,"h2",1),u.wc(2,A,1,2,"app-view-description",2),u.wc(3,T,1,2,"app-notification-screen",3),u.Lb(4,"app-list-entry-options"),u.Pb(5,"div",4),u.Pb(6,"a",5),u.Wb("click",(function(){return e.deleteManyEntry()})),u.yc(7," Delete Many "),u.Ob(),u.Ob(),u.wc(8,K,39,4,"div",1),u.wc(9,R,1,1,"app-resource-unavailable",6),u.Ob()),2&t&&(u.zb(1),u.gc("ngIf",e.title),u.zb(1),u.gc("ngIf",e.view),u.zb(1),u.gc("ngIf",e.notificationAvailable),u.zb(3),u.Cb("hide",e.esdl.length<2),u.zb(2),u.gc("ngIf",e.$entriesLength>0),u.zb(1),u.gc("ngIf",e.error))},directives:[i.l,P.a,$.a,E.a,i.k,v.a,z.a],pipes:[i.d],styles:[""],data:{animation:[I.b]}}),t})(),G={systemType:"Upload",title:"Upload",view:"gen-internal",viewWord:"Upload",link:"upload",$link:"upload",systemGuideline:"gen-internal"};const J={dashboard:Object.assign(Object.assign({},G),{canCreate:!1}),deleteAll:Object.assign(Object.assign({},G),{title:G.systemType+" Entries : Delete All",view:"uadp"}),entries:Object.assign(Object.assign({},G),{title:G.systemType+" Entries"})},Q=[{path:"",component:m.a,children:[{path:"",component:O.a,data:{dashboard:J.dashboard}},{path:"entries",component:S,data:{entries:J.entries,link2:!1}},{path:"entries/delete/all",component:k.a,canActivate:[y.a],data:{deleteAll:J.deleteAll}}]}];let V=(()=>{class t{constructor(){}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[g.g.forChild(Q)],g.g]}),t})(),Y=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},providers:[p],imports:[[i.b,l.a,r.a,s.a,c.a,V]]}),t})()}}]);