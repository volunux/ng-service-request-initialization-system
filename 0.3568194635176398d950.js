(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/zEo":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("Ub9n"),i=n("9Ku7"),s=n("Fk62");let o=(()=>{class t{constructor(t,e){this.as=t,this.router=e}canActivate(t,e){return this.isSuperAdministrator()}isSuperAdministrator(){return!!this.as.isSuperAdministrator||this.router.parseUrl("/unauthorized")}canActivateChild(t,e){return this.isSuperAdministrator()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(i.a),r.Tb(s.d))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"1B5t":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("Ub9n");let i=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-delete-all-entry"]],inputs:{systemType:["system-type","systemType"]},decls:2,vars:2,template:function(t,e){1&t&&(r.Pb(0,"p"),r.yc(1),r.Ob()),2&t&&(r.zb(1),r.Bc("All ",e.systemType," entry if the button is confirmed will result in total deletion or exclusion from the system or database. It is advised you review your decision before pressing the confirmation button which will remove or delete all ",e.systemType," entry from the system. "))},styles:[""]}),t})()},"34d6":function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",(function(){return r}))},AuHR:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("OX4D");function i(t=-1){return e=>e.lift(new s(t,e))}class s{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new o(t,this.count,this.source))}}class o extends r.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}},RBZI:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("Ub9n"),i=n("Yvf7"),s=n("Fk62");const o=function(){return["./"]},c=function(t){return{page:t}};function a(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"a",6),r.yc(2," Prev Entries "),r.Ob(),r.Mb()),2&t){const t=r.ac(2);r.zb(1),r.gc("routerLink",r.kc(2,o))("queryParams",r.lc(3,c,t.pageNumber-1==1?null:t.pageNumber-1))}}function u(t,e){1&t&&(r.Pb(0,"a",7),r.yc(1," Prev Entries "),r.Ob()),2&t&&r.gc("routerLink",r.kc(1,o))}function l(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"a",8),r.yc(2," Next Entries "),r.Ob(),r.Mb()),2&t){const t=r.ac(2);r.zb(1),r.gc("routerLink",r.kc(2,o))("queryParams",r.lc(3,c,t.pageNumber+1))}}function f(t,e){1&t&&(r.Pb(0,"button",10),r.yc(1," End of Entries "),r.Ob()),2&t&&(r.Cb("disabled",!0),r.gc("disabled",!0))}function b(t,e){if(1&t&&r.wc(0,f,2,3,"button",9),2&t){const t=r.ac(2);r.gc("ngIf",t.$entriesLength>=1)}}function d(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"td",1),r.wc(2,a,3,5,"ng-container",0),r.wc(3,u,2,2,"ng-template",null,2,r.xc),r.Ob(),r.Pb(5,"td",3),r.wc(6,l,3,5,"ng-container",4),r.wc(7,b,1,1,"ng-template",null,5,r.xc),r.Ob(),r.Mb()),2&t){const t=r.qc(8),e=r.ac();r.zb(2),r.gc("ngIf",e.pageNumber&&e.pageNumber>1),r.zb(4),r.gc("ngIf",!e.$entryRef&&e.$entriesLength>10)("ngIfElse",t)}}let h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-pagination"]],inputs:{$entriesLength:["entries-length","$entriesLength"],pageNumber:["page-number","pageNumber"],$entryRef:["entry-ref","$entryRef"]},decls:1,vars:1,consts:[[4,"ngIf"],["colspan","3"],["entriesBegin",""],["colspan","9"],[4,"ngIf","ngIfElse"],["entriesEnd",""],[1,"pagination","prev","center",3,"routerLink","queryParams"],[1,"pagination","prev","center",3,"routerLink"],[1,"pagination","next","center",3,"routerLink","queryParams"],["class","pagination-end float-right center",3,"disabled",4,"ngIf"],[1,"pagination-end","float-right","center",3,"disabled"]],template:function(t,e){1&t&&r.wc(0,d,9,3,"ng-container",0),2&t&&r.gc("ngIf",e.pageNumber)},directives:[i.l,s.f],styles:["[_nghost-%COMP%]{display:contents};"]}),t})()},Rxsk:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("Ub9n"),i=n("Yvf7");const s=function(t,e){return{notification:!0,"fade-in":t,"fade-out":e}};function o(t,e){if(1&t&&(r.Pb(0,"p"),r.yc(1),r.Ob()),2&t){const t=r.ac();r.Bb(r.mc(3,s,t.fadeIn,t.fadeOut)),r.zb(1),r.Ac(" ",t.notificationMessage," ")}}let c=(()=>{class t{constructor(){this.finished=new r.n}set notified(t){this.notificationAvailable=t,t&&(this.fadeIn=!0,this.fadeOutNotification())}get notified(){return this.notificationAvailable}fadeOutNotification(){setTimeout(()=>{this.fadeIn=!1,this.fadeOut=!0,this.removeNotification()},4e3)}removeNotification(){setTimeout(()=>{this.finished.emit(!0)},4e3)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-notification-screen"]],inputs:{notificationMessage:["message","notificationMessage"],notified:"notified"},outputs:{finished:"finished"},decls:2,vars:1,consts:[["id","notification-parent"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.wc(1,o,2,6,"p",1),r.Ob()),2&t&&(r.zb(1),r.gc("ngIf",e.notificationAvailable))},directives:[i.l],styles:["#notification-parent[_ngcontent-%COMP%]{position:relative}"],changeDetection:0}),t})()},TY4h:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n("Ub9n"),i=n("Yvf7");function s(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"p"),r.yc(2),r.Ob(),r.Mb()),2&t){const t=r.ac(2);r.zb(1),r.vc("color","red"),r.zb(1),r.Ac(" Message : ",t.error.error.message,"")}}function o(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"p"),r.yc(2),r.Ob(),r.Mb()),2&t){const t=r.ac(3);r.zb(1),r.vc("color","red"),r.zb(1),r.Ac(" Message : ",t.error.error.field.message,"")}}function c(t,e){if(1&t&&r.wc(0,o,3,3,"ng-container",1),2&t){r.ac();const t=r.qc(9),e=r.ac();r.gc("ngIf",null==e.error||null==e.error.error?null:e.error.error.field)("ngIfElse",t)}}function a(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"ul",7),r.Pb(2,"li"),r.yc(3),r.Ob(),r.Ob(),r.Mb()),2&t){const t=e.$implicit,n=r.ac(4);r.zb(3),r.Ac("",null==n.error.error[t]?null:n.error.error[t].message," ")}}function u(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"h4"),r.yc(2,"List of Errors : "),r.Ob(),r.wc(3,a,4,1,"ng-container",6),r.Mb()),2&t){const t=r.ac(3);r.zb(3),r.gc("ngForOf",t.errorKeys)}}function l(t,e){if(1&t&&r.wc(0,u,4,1,"ng-container",0),2&t){const t=r.ac(2);r.gc("ngIf",(null==t.error?null:t.error.error)&&t.error.status&&(null==t.errorKeys?null:t.errorKeys.length))}}function f(t,e){if(1&t&&(r.Pb(0,"p"),r.yc(1),r.Ob()),2&t){const t=r.ac(2);r.zb(1),r.Ac(" Status Code : ",t.error.status," ")}}function b(t,e){1&t&&(r.Pb(0,"p"),r.yc(1," Status Code : 00000 "),r.Ob())}function d(t,e){if(1&t&&(r.Pb(0,"p"),r.yc(1),r.Ob()),2&t){const t=r.ac(2);r.zb(1),r.Ac(" Status Text : ",t.error.statusText," ")}}function h(t,e){1&t&&(r.Pb(0,"p"),r.yc(1," Status Text : This is probably a network error or internal server error. Please check your internet connection or restart your browser and try again or refresh the page."),r.Ob())}function p(t,e){if(1&t&&(r.Nb(0),r.Pb(1,"h3"),r.yc(2," An Error has occured "),r.Ob(),r.Pb(3,"p"),r.yc(4),r.Ob(),r.wc(5,s,3,3,"ng-container",1),r.wc(6,c,1,2,"ng-template",null,2,r.xc),r.wc(8,l,1,1,"ng-template",null,3,r.xc),r.wc(10,f,2,1,"p",1),r.wc(11,b,2,0,"ng-template",null,4,r.xc),r.wc(13,d,2,1,"p",1),r.wc(14,h,2,0,"ng-template",null,5,r.xc),r.Mb()),2&t){const t=r.qc(7),e=r.qc(12),n=r.qc(15),i=r.ac();r.zb(4),r.Ac(" Resource : ",i.error.resource," "),r.zb(1),r.gc("ngIf",null==i.error||null==i.error.error?null:i.error.error.message)("ngIfElse",t),r.zb(5),r.gc("ngIf",i.error.status)("ngIfElse",e),r.zb(3),r.gc("ngIf","Unknown Error"!=i.error.statusText)("ngIfElse",n)}}let g=(()=>{class t{constructor(){this.errorKeys=[]}set $error(t){t.error&&(this.errorKeys=Object.keys(t.error),this.error=t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-resource-unavailable"]],inputs:{$error:["error","$error"]},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["fieldErr",""],["otherErr",""],["noStatusCode",""],["noStatusText",""],[4,"ngFor","ngForOf"],[1,"validation-errors"]],template:function(t,e){1&t&&r.wc(0,p,16,7,"ng-container",0),2&t&&r.gc("ngIf",e.error)},directives:[i.l,i.k],styles:[""],changeDetection:0}),t})()},e6ST:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("GAcG");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},inDW:function(t,e,n){"use strict";function r(t){return e=>{let n=Object.keys(t),r=Object.values(t),i=e.value;return""!=i&&n.indexOf(i)<0?{searchError:{value:i,searches:r}}:null}}function i(t){return e=>t.test(e.value)?null:{emailAddress:{value:e.value}}}function s(t){return e=>{let n=Object.keys(t),r=Object.values(t),i=e.value;return n.indexOf(i)<0?{statusError:{value:i,statuses:r}}:null}}function o(){let t=["Student","Department President","Faculty President","Lecturer","Staff","Head of Department","Dean of Faculty","Bursar","Moderator","Administrator","Super Administrator"],e=/moderator|administrator|superAdministrator|hod|deanstudent|departmentPresident|facultyPresident|bursar|lecturer|staff/i;return n=>{let r=n.value;return e.test(r)?{roleError:{value:r,roles:t}}:null}}function c(t){let e=["Student","Department President","Faculty President","Lecturer","Staff","Head of Department","Dean of Faculty","Bursar","Moderator","Administrator","Super Administrator"],n=/moderator|administrator|superAdministrator|hod|deanstudent|departmentPresident|facultyPresident|bursar|lecturer|staff/i;return t=>n.test(t.value)?{forbiddenNames:{value:t.value,names:e}}:null}function a(){return t=>{const e=t.get("firstName"),n=t.get("lastName");return e&&n&&e.value==n.value?{bothNames:{value:e.value+n.value}}:null}}n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return a}))},mHYI:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("Yvf7"),i=n("Fk62"),s=n("8VHZ"),o=n("rRxT"),c=n("Ub9n");let a=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(e){return new(e||t)},providers:[o.a],imports:[[r.b,s.n,i.g.forChild([])]]}),t})()},oxaT:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var r=n("XA6Z"),i=n("EUGn"),s=n("9nlD"),o=n("Ub9n"),c=n("Fk62"),a=n("yjbJ"),u=n("Yvf7"),l=n("+ef2"),f=n("Rxsk"),b=n("TY4h"),d=n("1B5t");function h(t,e){if(1&t&&(o.Pb(0,"h2"),o.yc(1),o.Ob()),2&t){const t=o.ac();o.zb(1),o.Ac(" ",t.title," ")}}function p(t,e){if(1&t&&o.Lb(0,"app-view-description",6),2&t){const t=o.ac();o.gc("system-type",t.systemType)("view-description",t.view)}}function g(t,e){if(1&t){const t=o.Qb();o.Pb(0,"app-notification-screen",7),o.Wb("finished",(function(){return o.rc(t),o.ac().removeNotification()})),o.Ob()}if(2&t){const t=o.ac();o.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function m(t,e){if(1&t&&o.Lb(0,"app-resource-unavailable",8),2&t){const t=o.ac();o.gc("error",t.error)}}function y(t,e){if(1&t&&o.Lb(0,"app-delete-all-entry",12),2&t){const t=o.ac(2);o.gc("system-type",t.systemType)}}function v(t,e){1&t&&(o.Pb(0,"p"),o.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),o.Ob())}function w(t,e){if(1&t){const t=o.Qb();o.Pb(0,"div",9),o.wc(1,y,1,1,"app-delete-all-entry",10),o.Pb(2,"button",11),o.Wb("click",(function(){return o.rc(t),o.ac().deleteAllEntry()})),o.yc(3," Confirm "),o.Ob(),o.wc(4,v,2,0,"p",1),o.Ob()}if(2&t){const t=o.ac();o.zb(1),o.gc("ngIf",t.systemType),o.zb(1),o.vc("display",t.fip),o.zb(2),o.gc("ngIf",t.formSubmitted)}}let O=(()=>{class t{constructor(t,e,n,r,i){this.route=t,this.router=e,this.gas=n,this.ems=r,this.ns=i,this.error=!1,this.formSubmitted=!1,this.fip="block",this.canDelete=!1}ngOnInit(){this.gas.$sa=this.$link,this.route.paramMap.pipe(Object(r.a)(t=>this.gas.deleteAllEntry())).subscribe(t=>{if(!t.length)return this.canDelete=!1,this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.canDelete=!0})}deleteAllEntry(){if(!confirm("Are you sure you want to proceed with this action?"))return!1;this.gas.$systemType=this.systemType,this.gas.$sa=this.$link,this.formSubmitted=!0,this.error=null,this.fip="none",this.gas.$deleteAllEntry().subscribe(t=>t&&t.length?(this.formSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and all ${this.systemType} entry is deleted.`),this.$entryChanges({})):(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and all ${this.systemType} entry is not deleted.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(["system","internal",this.link]),5e3)}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(c.a),o.Kb(c.d),o.Kb(a.a),o.Kb(i.a),o.Kb(s.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-general-all-entry-delete-all"]],inputs:{systemType:["system-type","systemType"],viewWord:["view-word","viewWord"],title:"title",view:"view",link:"link",$link:"$link"},features:[o.yb([s.a,i.a])],decls:6,vars:5,consts:[["id","entry-delete-all"],[4,"ngIf"],[3,"system-type","view-description",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[3,"error",4,"ngIf"],["id","entry-detail",4,"ngIf"],[3,"system-type","view-description"],[3,"notified","message","finished"],[3,"error"],["id","entry-detail"],[3,"system-type",4,"ngIf"],["type","submit","id","form-btn-submit",1,"btn-submit",3,"click"],[3,"system-type"]],template:function(t,e){1&t&&(o.Pb(0,"div",0),o.wc(1,h,2,1,"h2",1),o.wc(2,p,1,2,"app-view-description",2),o.wc(3,g,1,2,"app-notification-screen",3),o.wc(4,m,1,1,"app-resource-unavailable",4),o.wc(5,w,5,4,"div",5),o.Ob()),2&t&&(o.zb(1),o.gc("ngIf",e.title),o.zb(1),o.gc("ngIf",e.view),o.zb(1),o.gc("ngIf",e.notificationAvailable),o.zb(1),o.gc("ngIf",e.error),o.zb(1),o.gc("ngIf",e.canDelete))},directives:[u.l,l.a,f.a,b.a,d.a],styles:[""]}),t})()},rRxT:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var r=n("FBrc"),i=n("jV/k"),s=n("Ma1o");const o=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var c=n("34d6"),a=n("7YCk");class u{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class l extends a.b{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(a.c)(e,new a.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(l.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var f=n("e6ST"),b=n("oECA"),d=n("O6Zd"),h=n("AuHR"),p=n("WKA6"),g=n("vfyW"),m=n("VcWf"),y=n("Ub9n"),v=n("EUGn");let w=(()=>{class t{constructor(t,e,n){this.apiConfig=t,this.http=e,this.ems=n}uploadImage(t,e){return this.http.post(t.data.url,e,{reportProgress:!0,observe:"events"}).pipe(function(t,e=s.a){return function(t,e,n=s.a){return r=>{let i=Object(c.a)(t),s=i?+t-n.now():Math.abs(t);return r.lift(new u(s,i,e,n))}}(8e4,Object(f.a)(new o),e)}(),Object(b.a)(this.handleError1("Image Entry",null)))}removeImage(t){return this.http.delete(`${this.apiConfig.host}/o/photo/${t}`).pipe(Object(d.a)(t=>({isDeleted:!0})),Object(b.a)(this.handleError("Delete Image",null)))}addImage(t){let e=this.apiConfig.host+"/upload",n={Key:t.key},i={headers:new r.e({"Content-Type":"application/json;charset=UTF-8"})};return this.http.post(e,n,i).pipe(Object(h.a)(2),Object(p.a)(1),Object(b.a)(this.handleError("Image Entry",null)))}signFile(t){let e=`${this.apiConfig.host}/o/sign/photo/${t.name}/`,n={headers:new r.e({"Content-Type":"application/json;charset=UTF-8"}),observe:"body"};return this.http.post(e,{filename:t.name,contentType:t.type},n).pipe(Object(b.a)(this.handleError("Image Upload",null)))}signFile2(t){let e="/api/o/sign/photo/"+t.photo.name+"/",n={headers:new r.e({"Content-Type":"application/json"})};new r.g("POST",e,t.photo,n),this.http.post(e,t.photo,n).pipe(Object(g.a)(t=>{console.log(t)}))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(i.a)(e))}handleError1(t="operation",e){return t=>(this.ems.message=t,t instanceof Object&&t.name&&"TimeoutError"==t.name?Object(i.a)(408):Object(i.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(y.Tb(m.b),y.Tb(r.b),y.Tb(v.a))},t.\u0275prov=y.Gb({token:t,factory:t.\u0275fac}),t})()},yjbJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("jV/k"),i=n("oECA"),s=n("O6Zd"),o=n("VcWf"),c=n("Ub9n"),a=n("FBrc"),u=n("EUGn");let l=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n}deleteAllEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(i.a)(this.handleError(this.$systemType+" Entry or Entries Delete",[])))}$deleteAllEntry(){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(s.a)(t=>({allDeleted:!0})),Object(i.a)(this.handleError(this.$systemType+" Entry or Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(r.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(a.b),c.Tb(o.b),c.Tb(u.a))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac}),t})()}}]);