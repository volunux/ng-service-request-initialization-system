(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"48fE":function(t,e,n){"use strict";n.r(e),n.d(e,"RefundModule",(function(){return ln}));var r=n("Yvf7"),s=n("hxwH"),i=n("8VHZ"),a=n("Vofp"),c=n("mHYI"),o=n("9Xeq"),l=n("sH5N"),u=n("Fk62"),b=n("GKOy"),y=n("iojP"),g=n("/zEo"),f=n("XA6Z");const p=["staff","moderator","administrator","superAdministrator"];var d=n("EUGn"),h=n("9nlD"),m=n("Ub9n"),O=n("jV/k"),v=n("vfyW"),w=n("oECA"),I=n("O6Zd"),$=n("XRyL"),P=n("VcWf"),E=n("FBrc");let z=(()=>{class t{constructor(t,e,n){this.http=t,this.apiConfig=e,this.ems=n}getAllEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entries`,{params:t}).pipe(Object(v.a)(t=>console.log(t)),Object(w.a)(this.handleError(this.$systemType+" Entries",[])))}getEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}`).pipe(Object(v.a)(t=>console.log(t)),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}getEntryLetter(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/letter`).pipe(Object(v.a)(t=>console.log(t)),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}addEntry(){return this.http.get(`${this.apiConfig.host}/${this.$sa}/add`).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>({permitted:!0})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$addEntry(t){return this.http.post(`${this.apiConfig.host}/${this.$sa}/create`,t).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>({created:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}addComment(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>({permitted:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Comment Entry",null)))}$addComment(t,e){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment`,e).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Comment Entry",null)))}addReply(t,e){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`).pipe(Object(v.a)(t=>{console.log(t)}),Object(I.a)(t=>({permitted:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Reply Entry",null)))}$addReply(t,e,n){return this.http.post(`${this.apiConfig.host}/${this.$sa}/entry/${t}/comment/${e}/reply`,n).pipe(Object(v.a)(t=>{console.log(t)}),Object(I.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Reply Entry",null)))}getTimeline(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/timeline`).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>t),Object(w.a)(this.handleError(this.$systemType+" Entry Timeline",null)))}$updateEntry(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}`,e).pipe(Object(I.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$confirmEntryOnReview(t){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/review`,{entry:t}).pipe(Object($.a)(5e3),Object(I.a)(t=>({onReview:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}transferEntry(t){return this.http.get(`${this.apiConfig.host}/${this.$sa}/entry/${t}/transfer`).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>({permitted:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$transferEntry(t,e){return this.http.put(`${this.apiConfig.host}/${this.$sa}/entry/${t}/transfer`,e).pipe(Object(v.a)(t=>console.log(t)),Object(I.a)(t=>({updated:!0,$data:t})),Object(w.a)(this.handleError(this.$systemType+" Entry",null)))}$deleteManyEntry(t){return this.http.patch(`${this.apiConfig.host}/${this.$sa}/entry/many/delete`,{entries:t}).pipe(Object(I.a)(t=>({manyDeleted:!0})),Object(w.a)(this.handleError(this.$systemType+" Entries Delete",[])))}$deleteAllGeneralRequest(){return this.http.delete(`${this.apiConfig.host}/${this.$sa}/delete/entry/all/`).pipe(Object(I.a)(t=>({allDeleted:!0})),Object(w.a)(this.handleError(this.$systemType+" Entry or Entries Delete",[])))}handleError(t="operation",e){return t=>(this.ems.message=t,Object(O.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(E.b),m.Tb(P.b),m.Tb(d.a))},t.\u0275prov=m.Gb({token:t,factory:t.\u0275fac}),t})();var N=n("inDW");const F={Fulfilled:"Fulfilled",Rejected:"Rejected",Update:"Update"};let T=(()=>{class t{constructor(t){this.fb=t,this.permanentData={},this.mainBodyV=[i.r.required,i.r.minLength(1),i.r.maxLength(8e3)]}removeControls(t,e){t.forEach(t=>{e.removeControl(t)})}entryUpdateForm(){return this.fb.group({text:["",{validators:[i.r.required,i.r.minLength(9),i.r.maxLength(500)]}],status:["",{validators:[i.r.required,Object(N.e)(F),i.r.minLength(2),i.r.maxLength(30)]}],stage:["",{validators:[i.r.minLength(1),i.r.maxLength(30)]}]})}searchForm(t){return new i.c("",[Object(N.d)(t)])}}return t.\u0275fac=function(e){return new(e||t)(m.Tb(i.b))},t.\u0275prov=m.Gb({token:t,factory:t.\u0275fac}),t})();var S=n("9Ku7"),j=n("+ef2"),k=n("TY4h"),x=n("Rxsk"),L=n("MRVz");function q(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p"),m.Pb(2,"b",1),m.yc(3," Student Name : "),m.Ob(),m.yc(4),m.Ob(),m.Mb()),2&t){const t=m.ac(3);m.zb(4),m.Bc(" ",null==t.entry||null==t.entry.author?null:t.entry.author.firstName," ",null==t.entry||null==t.entry.author?null:t.entry.author.lastName," ")}}function M(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p"),m.Pb(2,"b",1),m.yc(3," Student Faculty : "),m.Ob(),m.yc(4),m.Ob(),m.Mb()),2&t){const t=m.ac(3);m.zb(4),m.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.faculty," ")}}function R(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p"),m.Pb(2,"b",1),m.yc(3," Student Department : "),m.Ob(),m.yc(4),m.Ob(),m.Mb()),2&t){const t=m.ac(3);m.zb(4),m.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.department," ")}}function C(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p"),m.Pb(2,"b",1),m.yc(3," Student Level : "),m.Ob(),m.yc(4),m.Ob(),m.Mb()),2&t){const t=m.ac(3);m.zb(4),m.Ac(" ",null==t.entry||null==t.entry.author?null:t.entry.author.level," ")}}function A(t,e){if(1&t&&(m.Nb(0),m.wc(1,q,5,2,"ng-container",0),m.wc(2,M,5,1,"ng-container",0),m.wc(3,R,5,1,"ng-container",0),m.wc(4,C,5,1,"ng-container",0),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",(null==t.entry||null==t.entry.author?null:t.entry.author.firstName)||(null==t.entry||null==t.entry.author?null:t.entry.author.lastName)),m.zb(1),m.gc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.faculty),m.zb(1),m.gc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.department),m.zb(1),m.gc("ngIf",null==t.entry||null==t.entry.author?null:t.entry.author.level)}}function V(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"p"),m.Pb(2,"b",1),m.yc(3," Request Handler : "),m.Ob(),m.yc(4),m.Ob(),m.Mb()),2&t){const t=m.ac(2);m.zb(4),m.Bc(" ",null==t.entry||null==t.entry.entryHandler?null:t.entry.entryHandler.firstName," ",null==t.entry||null==t.entry.entryHandler?null:t.entry.entryHandler.lastName," ")}}function B(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"h2"),m.yc(2," Student Detail "),m.Ob(),m.wc(3,A,5,4,"ng-container",0),m.wc(4,V,5,2,"ng-container",0),m.Mb()),2&t){const t=m.ac();m.zb(3),m.gc("ngIf",null==t.entry?null:t.entry.author),m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.entryHandler)}}let D=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-student-detail"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"bold"]],template:function(t,e){1&t&&m.wc(0,B,5,2,"ng-container",0),2&t&&m.gc("ngIf",e.entry)},directives:[r.l],styles:[""]}),t})();function W(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"li"),m.yc(2),m.Ob(),m.Mb()),2&t){const t=e.$implicit;m.zb(2),m.Bc(" Name ",t.firstName," ",t.lastName," ")}}function _(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"h2"),m.yc(2," List of Signatures "),m.Ob(),m.wc(3,W,3,2,"ng-container",1),m.Mb()),2&t){const t=m.ac();m.zb(3),m.gc("ngForOf",null==t.entry?null:t.entry.signature)}}let K=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-signature"]],inputs:{entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&m.wc(0,_,4,1,"ng-container",0),2&t&&m.gc("ngIf",e.entry&&(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length))},directives:[r.l,r.k],styles:[""]}),t})();var G=n("VSD5"),U=n("L0ga"),Q=n("rRbD");function H(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",8),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("stage",t.stage)}}function Y(t,e){if(1&t&&(m.Pb(0,"div",5),m.Lb(1,"input",6),m.wc(2,H,1,2,"app-general-request-validators",7),m.Ob()),2&t){const t=m.ac(2);m.zb(2),m.gc("ngIf",t.stage)}}function J(t,e){1&t&&(m.Nb(0),m.Pb(1,"option",13),m.yc(2," Reject "),m.Ob(),m.Pb(3,"option",14),m.yc(4," Approve "),m.Ob(),m.Mb())}function Z(t,e){if(1&t&&(m.Nb(0),m.wc(1,J,5,0,"ng-container",0),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.status)}}function X(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",15),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("status",t.status)}}function tt(t,e){if(1&t&&(m.Pb(0,"div",5),m.Pb(1,"label",9),m.yc(2," Entry Status "),m.Ob(),m.Pb(3,"select",10),m.Lb(4,"option",11),m.wc(5,Z,2,1,"ng-container",0),m.Ob(),m.wc(6,X,1,2,"app-general-request-validators",12),m.Ob()),2&t){const t=m.ac(2);m.zb(5),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.status)}}function et(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",19),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("text",t.text)}}function nt(t,e){if(1&t&&(m.Pb(0,"div",5),m.Pb(1,"label",16),m.yc(2," Message "),m.Ob(),m.Pb(3,"textarea",17),m.yc(4," "),m.Ob(),m.wc(5,et,1,2,"app-general-request-validators",18),m.Ob()),2&t){const t=m.ac(2);m.zb(5),m.gc("ngIf",t.text)}}function rt(t,e){1&t&&(m.Nb(0),m.Pb(1,"div",5),m.Pb(2,"p"),m.Pb(3,"b",20),m.yc(4," By clicking on the submit , the request will be forwarded to the Office of the Bursary for Resolution "),m.Ob(),m.Ob(),m.Ob(),m.Mb())}function st(t,e){1&t&&(m.Nb(0),m.Pb(1,"div",5),m.Pb(2,"p"),m.Pb(3,"b",20),m.yc(4,' By clicking on the "Submit" button , the request will be forwarded to the Student to write an application letter on the subject matter "Refund of Fees" for resolution. '),m.Ob(),m.Ob(),m.Ob(),m.Mb())}function it(t,e){1&t&&(m.Nb(0),m.Pb(1,"div",5),m.Pb(2,"p"),m.Pb(3,"b",20),m.yc(4,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),m.Ob(),m.Ob(),m.Ob(),m.Mb())}function at(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",1),m.wc(2,Y,3,1,"div",2),m.wc(3,tt,7,2,"div",2),m.wc(4,nt,6,1,"div",2),m.Nb(5,3),m.wc(6,rt,5,0,"ng-container",4),m.wc(7,st,5,0,"ng-container",4),m.wc(8,it,5,0,"ng-container",4),m.Mb(),m.Ob(),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.stage),m.zb(1),m.gc("ngIf",t.status),m.zb(1),m.gc("ngIf",t.text),m.zb(1),m.gc("ngSwitch",t.currentStage),m.zb(1),m.gc("ngSwitchCase","2"),m.zb(1),m.gc("ngSwitchCase","3"),m.zb(1),m.gc("ngSwitchCase","4")}}let ct=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-stage-one-two-five"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],entry:"entry",status:"status",text:"text",stage:"stage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["for","status",1,"form-label","bold"],["name","status","id","status","formControlName","status",1,"form-control"],["value",""],[3,"system-type","status",4,"ngIf"],["value","Rejected"],["value","Fulfilled"],[3,"system-type","status"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],[1,"bold"]],template:function(t,e){1&t&&m.wc(0,at,9,8,"ng-container",0),2&t&&m.gc("ngIf",e.entry)},directives:[r.l,i.m,i.g,r.n,r.o,i.a,i.l,i.e,Q.a,i.q,i.n,i.s],styles:[""]}),t})();function ot(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",8),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("stage",t.stage)}}function lt(t,e){if(1&t&&(m.Pb(0,"div",4),m.Lb(1,"input",6),m.wc(2,ot,1,2,"app-general-request-validators",7),m.Ob()),2&t){const t=m.ac(2);m.zb(2),m.gc("ngIf",t.stage)}}function ut(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",11),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("text",t.text)}}function bt(t,e){if(1&t&&(m.Pb(0,"div",4),m.Lb(1,"input",9),m.wc(2,ut,1,2,"app-general-request-validators",10),m.Ob()),2&t){const t=m.ac(2);m.zb(2),m.gc("ngIf",t.text)}}function yt(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",16),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("main-body",t.main_body)}}function gt(t,e){if(1&t&&(m.Pb(0,"div",12),m.Pb(1,"label",13),m.yc(2," Letter "),m.Ob(),m.Lb(3,"quill-editor",14),m.wc(4,yt,1,2,"app-general-request-validators",15),m.Ob()),2&t){const t=m.ac(2);m.zb(4),m.gc("ngIf",t.main_body)}}function ft(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",1),m.wc(2,lt,3,1,"div",2),m.wc(3,bt,3,1,"div",2),m.Nb(4),m.wc(5,gt,5,1,"div",3),m.Mb(),m.Pb(6,"div",4),m.Pb(7,"p"),m.Pb(8,"b",5),m.yc(9,' By clicking on the "Submit" button , the request will be forwarded to the HOD and Dean for endorsement on whether the fees paid will be reverted to the student account. '),m.Ob(),m.Ob(),m.Ob(),m.Ob(),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.stage),m.zb(1),m.gc("ngIf",t.text),m.zb(2),m.gc("ngIf",t.main_body)}}let pt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-stage-three"]],inputs:{systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],main_body:["main-body","main_body"],currentStage:["current-stage","currentStage"],status:"status",text:"text",stage:"stage",entry:"entry"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],["id","letter-writing","class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["type","hidden","name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"],["id","letter-writing",1,"form-group"],["for","text",1,"form-label","bold"],["formControlName","main_body"],[3,"system-type","main-body",4,"ngIf"],[3,"system-type","main-body"]],template:function(t,e){1&t&&m.wc(0,ft,10,4,"ng-container",0),2&t&&m.gc("ngIf",e.entry)},directives:[r.l,i.m,i.g,i.a,i.l,i.e,Q.a,l.a],styles:[""]}),t})();function dt(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",7),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("stage",t.stage)}}function ht(t,e){if(1&t&&(m.Pb(0,"div",3),m.Lb(1,"input",5),m.wc(2,dt,1,2,"app-general-request-validators",6),m.Ob()),2&t){const t=m.ac(2);m.zb(2),m.gc("ngIf",t.stage)}}function mt(t,e){if(1&t&&m.Lb(0,"app-general-request-validators",11),2&t){const t=m.ac(3);m.gc("system-type",t.systemType)("text",t.text)}}function Ot(t,e){if(1&t&&(m.Pb(0,"div",3),m.Pb(1,"label",8),m.yc(2," Message "),m.Ob(),m.Pb(3,"textarea",9),m.yc(4," "),m.Ob(),m.wc(5,mt,1,2,"app-general-request-validators",10),m.Ob()),2&t){const t=m.ac(2);m.zb(5),m.gc("ngIf",t.text)}}function vt(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"div",1),m.wc(2,ht,3,1,"div",2),m.wc(3,Ot,6,1,"div",2),m.Pb(4,"div",3),m.Pb(5,"p"),m.Pb(6,"b",4),m.yc(7,' By clicking on the "Submit" button , You are agreeing to sign and endorse the student application letter the request will be forwarded to the destinated office for resolution on the subject matter "Refund of Fees". '),m.Ob(),m.Ob(),m.Ob(),m.Ob(),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.stage),m.zb(1),m.gc("ngIf",t.text)}}let wt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-stage-four"]],inputs:{entry:"entry",systemType:["system-type","systemType"],entryForm:["entry-form","entryForm"],currentStage:["current-stage","currentStage"],status:"status",text:"text",stage:"stage"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"bold"],["type","hidden","name","stage","formControlName","stage"],[3,"system-type","stage",4,"ngIf"],[3,"system-type","stage"],["for","text",1,"form-label","bold"],["name","text","id","text","formControlName","text"],[3,"system-type","text",4,"ngIf"],[3,"system-type","text"]],template:function(t,e){1&t&&m.wc(0,vt,8,3,"ng-container",0),2&t&&m.gc("ngIf",e.entry)},directives:[r.l,i.m,i.g,i.a,i.l,i.e,Q.a],styles:[""]}),t})();function It(t,e){if(1&t&&(m.Pb(0,"h2"),m.yc(1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.Ac(" ",t.systemType," Entry ")}}function $t(t,e){if(1&t&&m.Lb(0,"app-view-description",6),2&t){const t=m.ac();m.gc("view-description",t.view)}}function Pt(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",7),2&t){const t=m.ac();m.gc("error",t.error)}}function Et(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",8),m.Wb("finished",(function(){return m.rc(t),m.ac().removeNotification()})),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function zt(t,e){if(1&t&&m.Lb(0,"app-request-entry-detail",12),2&t){const t=m.ac(2);m.gc("entry",t.entry)}}function Nt(t,e){if(1&t&&m.Lb(0,"app-student-detail",12),2&t){const t=m.ac(2);m.gc("entry",t.entry)}}function Ft(t,e){if(1&t&&(m.Nb(0),m.Lb(1,"app-signature",12),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("entry",t.entry)}}function Tt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Ft,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",(null==t.entry?null:t.entry.signature)&&(null==t.entry?null:t.entry.signature.length))}}function St(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-entry-options",13),m.Wb("onReviewEntry",(function(e){return m.rc(t),m.ac(2).$confirmEntryOnReview(e)})),m.Ob()}if(2&t){const t=m.ac(2);m.gc("view-description",t.view)("link",t.link)("entry",t.entry)("entry-on-review",t.setEntryOnReview)("can-update-entry",t.canUpdateEntry)("system-type",t.systemType)("view-word",t.viewWord)}}function jt(t,e){if(1&t&&m.Lb(0,"app-file-attachments-two",12),2&t){const t=m.ac(2);m.gc("entry",t.entry)}}function kt(t,e){if(1&t&&m.Lb(0,"app-stage-one-two-five",18),2&t){const t=m.ac(5);m.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function xt(t,e){1&t&&(m.Pb(0,"p"),m.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}const Lt=function(t,e){return{disabled:t,"btn-submit":e}};function qt(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",14),m.Pb(2,"h3"),m.yc(3," Request Options "),m.Ob(),m.Pb(4,"form",15),m.Wb("ngSubmit",(function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)})),m.wc(5,kt,1,7,"app-stage-one-two-five",16),m.Pb(6,"button",17),m.yc(7," Submit "),m.Ob(),m.wc(8,xt,2,0,"p",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(4);m.zb(4),m.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",m.tc),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.Bb(m.mc(9,Lt,!t.isFormValid,t.isFormValid)),m.vc("display",t.fip),m.gc("disabled",!t.entryForm.valid),m.zb(2),m.gc("ngIf",t.formSubmitted)}}function Mt(t,e){if(1&t&&(m.Nb(0),m.wc(1,qt,9,12,"ng-container",1),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.canUpdateEntry)}}function Rt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Mt,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",("1"==(null==t.entry?null:t.entry.stage._id)||1==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Ct(t,e){if(1&t&&m.Lb(0,"app-stage-one-two-five",18),2&t){const t=m.ac(5);m.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function At(t,e){1&t&&(m.Pb(0,"p"),m.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function Vt(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",14),m.Pb(2,"h3"),m.yc(3," Request Options "),m.Ob(),m.Pb(4,"form",15),m.Wb("ngSubmit",(function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)})),m.wc(5,Ct,1,7,"app-stage-one-two-five",16),m.Pb(6,"button",17),m.yc(7," Submit "),m.Ob(),m.wc(8,At,2,0,"p",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(4);m.zb(4),m.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",m.tc),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.Bb(m.mc(9,Lt,!t.isFormValid,t.isFormValid)),m.vc("display",t.fip),m.gc("disabled",!t.entryForm.valid),m.zb(2),m.gc("ngIf",t.formSubmitted)}}function Bt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Vt,9,12,"ng-container",1),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.canUpdateEntry2)}}function Dt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Bt,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",("2"==(null==t.entry?null:t.entry.stage._id)||2==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function Wt(t,e){if(1&t&&m.Lb(0,"app-stage-three",20),2&t){const t=m.ac(5);m.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("main-body",t.mainBody)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function _t(t,e){1&t&&(m.Pb(0,"p"),m.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function Kt(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",14),m.Pb(2,"h3"),m.yc(3," Request Options "),m.Ob(),m.Pb(4,"form",15),m.Wb("ngSubmit",(function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)})),m.wc(5,Wt,1,8,"app-stage-three",19),m.Pb(6,"button",17),m.yc(7," Submit "),m.Ob(),m.wc(8,_t,2,0,"p",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(4);m.zb(4),m.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",m.tc),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.Bb(m.mc(9,Lt,!t.isFormValid,t.isFormValid)),m.vc("display",t.fip),m.gc("disabled",!t.entryForm.valid),m.zb(2),m.gc("ngIf",t.formSubmitted)}}function Gt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Kt,9,12,"ng-container",1),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.canUpdateEntry3)}}function Ut(t,e){if(1&t&&(m.Nb(0),m.wc(1,Gt,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf","3"==(null==t.entry?null:t.entry.stage._id)||3==(null==t.entry?null:t.entry.stage._id))}}function Qt(t,e){if(1&t&&m.Lb(0,"app-stage-four",18),2&t){const t=m.ac(8);m.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function Ht(t,e){1&t&&(m.Pb(0,"p"),m.yc(1," Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function Yt(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",14),m.Pb(2,"h3"),m.yc(3," Request Options "),m.Ob(),m.Pb(4,"form",15),m.Wb("ngSubmit",(function(){m.rc(t);const e=m.ac(7);return e.updateEntry(e.entryForm.value)})),m.wc(5,Qt,1,7,"app-stage-four",16),m.Pb(6,"button",17),m.yc(7," Sign "),m.Ob(),m.wc(8,Ht,2,0,"p",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(7);m.zb(4),m.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",m.tc),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.Bb(m.mc(9,Lt,!t.isFormValid,t.isFormValid)),m.vc("display",t.fip),m.gc("disabled",!t.entryForm.valid),m.zb(2),m.gc("ngIf",t.formSubmitted)}}function Jt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Yt,9,12,"ng-container",1),m.Mb()),2&t){const t=e.$implicit,n=m.ac(6);m.zb(1),m.gc("ngIf",t._id!=n.userId)}}function Zt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Jt,2,1,"ng-container",23),m.Mb()),2&t){const t=m.ac(5);m.zb(1),m.gc("ngForOf",null==t.entry?null:t.entry.signature)}}function Xt(t,e){if(1&t&&(m.Nb(0),m.wc(1,Zt,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(4);m.zb(1),m.gc("ngIf",(null==t.entry?null:t.entry.signature.length)<2)}}function te(t,e){if(1&t&&m.Lb(0,"app-stage-four",18),2&t){const t=m.ac(5);m.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function ee(t,e){1&t&&(m.Pb(0,"p"),m.yc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function ne(t,e){if(1&t){const t=m.Qb();m.Pb(0,"div",14),m.Pb(1,"h3"),m.yc(2," Request Options "),m.Ob(),m.Pb(3,"form",15),m.Wb("ngSubmit",(function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)})),m.wc(4,te,1,7,"app-stage-four",16),m.Pb(5,"button",17),m.yc(6," Sign "),m.Ob(),m.wc(7,ee,2,0,"p",1),m.Ob(),m.Ob()}if(2&t){const t=m.ac(4);m.zb(3),m.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",m.tc),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.Bb(m.mc(9,Lt,!t.isFormValid,t.isFormValid)),m.vc("display",t.fip),m.gc("disabled",!t.entryForm.valid),m.zb(2),m.gc("ngIf",t.formSubmitted)}}function re(t,e){if(1&t&&(m.Nb(0),m.wc(1,Xt,2,1,"ng-container",21),m.wc(2,ne,8,12,"ng-template",null,22,m.xc),m.Mb()),2&t){const t=m.qc(3),e=m.ac(3);m.zb(1),m.gc("ngIf",(null==e.entry?null:e.entry.signature)&&(null==e.entry?null:e.entry.signature.length))("ngIfElse",t)}}function se(t,e){if(1&t&&(m.Nb(0),m.wc(1,re,4,2,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",t.canUpdateEntry4)}}function ie(t,e){if(1&t&&m.Lb(0,"app-stage-one-two-five",18),2&t){const t=m.ac(5);m.gc("entry",t.entry)("entry-form",t.entryForm)("status",t.status)("text",t.text)("stage",t.stage)("current-stage",t.currentStage)("system-type",t.systemType)}}function ae(t,e){1&t&&(m.Pb(0,"p"),m.yc(1,"Your form is being processed. Please kindly be patient and wait while it completes. "),m.Ob())}function ce(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"div",14),m.Pb(2,"h3"),m.yc(3," Request Options "),m.Ob(),m.Pb(4,"form",15),m.Wb("ngSubmit",(function(){m.rc(t);const e=m.ac(4);return e.updateEntry(e.entryForm.value)})),m.wc(5,ie,1,7,"app-stage-one-two-five",16),m.Pb(6,"button",17),m.yc(7," Submit "),m.Ob(),m.wc(8,ae,2,0,"p",1),m.Ob(),m.Ob(),m.Mb()}if(2&t){const t=m.ac(4);m.zb(4),m.ic("action","/request/refund/entry/",null==t.entry?null:t.entry.slug,"",m.tc),m.gc("formGroup",t.entryForm),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.Bb(m.mc(9,Lt,!t.isFormValid,t.isFormValid)),m.vc("display",t.fip),m.gc("disabled",!t.entryForm.valid),m.zb(2),m.gc("ngIf",t.formSubmitted)}}function oe(t,e){if(1&t&&(m.Nb(0),m.wc(1,ce,9,12,"ng-container",1),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("ngIf",t.canUpdateEntry5)}}function le(t,e){if(1&t&&(m.Nb(0),m.wc(1,oe,2,1,"ng-container",1),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",("5"==(null==t.entry?null:t.entry.stage._id)||5==(null==t.entry?null:t.entry.stage._id))&&"Rejected"!=(null==t.entry?null:t.entry.status)&&"Fulfilled"!=(null==t.entry?null:t.entry.status))}}function ue(t,e){if(1&t&&(m.Pb(0,"div",9),m.wc(1,zt,1,1,"app-request-entry-detail",10),m.wc(2,Nt,1,1,"app-student-detail",10),m.wc(3,Tt,2,1,"ng-container",1),m.wc(4,St,1,7,"app-entry-options",11),m.wc(5,jt,1,1,"app-file-attachments-two",10),m.wc(6,Rt,2,1,"ng-container",1),m.wc(7,Dt,2,1,"ng-container",1),m.wc(8,Ut,2,1,"ng-container",1),m.wc(9,se,2,1,"ng-container",1),m.wc(10,le,2,1,"ng-container",1),m.Ob()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",t.entry),m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.stage),m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.stage),m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.stage),m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.stage),m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.stage)}}let be=(()=>{class t{constructor(t,e,n,r,s,i,a){this.router=t,this.route=e,this.grs=n,this.ns=r,this.grfs=s,this.ems=i,this.as=a,this.error=!1,this.entrySlug="",this.formSubmitted=!1,this.setEntryOnReview=!1,this.fip="block"}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.detail.systemType,this.title=t.detail.title,this.view=t.detail.view,this.viewWord=t.detail.viewWord,this.link=t.detail.link,this.$link=t.detail.$link,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.route.paramMap.pipe(Object(f.a)(t=>{let e=t.get("entry");return console.log(e),this.grs.getEntry(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.entry=t,this.entrySlug=this.entry.slug,this.entryForm=this.grfs.entryUpdateForm(),this.entry.stage&&"1"==this.entry.stage._id&&(this.currentStage="2",this.entryForm.patchValue({stage:"2"})),this.entry.stage&&"2"==this.entry.stage._id&&(this.currentStage="3",this.entryForm.patchValue({stage:"3"})),this.entry.stage&&"3"==this.entry.stage._id&&(this.currentStage="4",this.entryForm.patchValue({stage:"4",text:"Content of the Letter"}),this.grfs.removeControls(["status"],this.entryForm),this.entryForm.addControl("main_body",new i.c("",{validators:this.grfs.mainBodyV})),this.entryForm.updateValueAndValidity()),this.entry.stage&&"4"==this.entry.stage._id&&(this.currentStage="5",this.entryForm.patchValue({stage:"5"}),this.grfs.removeControls(["status"],this.entryForm),this.entryForm.updateValueAndValidity()),this.entry.stage&&"5"==this.entry.stage._id&&(this.currentStage="6",this.entryForm.patchValue({stage:"6"}))})}ngOnDestroy(){}updateEntry(t){this.error=null,this.fip="none",this.formSubmitted=!0,this.grs.$updateEntry(this.entrySlug,t).subscribe(t=>t?t&&t.updated?(this.formSubmitted=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated.`),this.$entryChanges(t.$data)):void 0:(this.formSubmitted=!1,this.fip="block",this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message)))}$entryChanges(t){return setTimeout(()=>this.router.navigate(["request",this.link,"entries"]),5e3)}$confirmEntryOnReview(){if(this.setEntryOnReview)return!1;this.setEntryOnReview=!0,this.grs.$confirmEntryOnReview(this.entry.slug).subscribe(t=>{if(!t)return this.setEntryOnReview=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and ${this.systemType} Entry is not updated.`),this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);t&&t.onReview&&(this.setEntryOnReview=!1,this.entry.status=t.$data.status,this.entry.stage={_id:"1"},this.currentStage="2",this.entryForm.patchValue({stage:"2"}),this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and ${this.systemType} Entry is updated and on review.`))})}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}get userRole(){return this.as.userRole}get canUpdateEntry(){return p.indexOf(this.userRole)>-1}get canUpdateEntry2(){return["bursar","moderator","administrator","superAdministrator"].indexOf(this.userRole)>-1}get canUpdateEntry3(){return["student","departmentPresident","facultyPresident"].indexOf(this.userRole)>-1}get canUpdateEntry4(){return["hod","dean"].indexOf(this.userRole)>-1}get canUpdateEntry5(){return["bursar"].indexOf(this.userRole)>-1}get userId(){return this.as.userId}get isFormValid(){return this.entryForm.valid}get text(){return this.entryForm.get("text")}get status(){return this.entryForm.get("status")}get stage(){return this.entryForm.get("stage")}get mainBody(){return this.entryForm.get("main_body")}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(u.d),m.Kb(u.a),m.Kb(z),m.Kb(h.a),m.Kb(T),m.Kb(d.a),m.Kb(S.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-refund-detail"]],features:[m.yb([h.a,d.a])],decls:6,vars:5,consts:[["id","entry-view"],[4,"ngIf"],[3,"view-description",4,"ngIf"],[3,"error",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],["id","request-entry-detail",4,"ngIf"],[3,"view-description"],[3,"error"],[3,"notified","message","finished"],["id","request-entry-detail"],[3,"entry",4,"ngIf"],[3,"view-description","link","entry","entry-on-review","can-update-entry","system-type","view-word","onReviewEntry",4,"ngIf"],[3,"entry"],[3,"view-description","link","entry","entry-on-review","can-update-entry","system-type","view-word","onReviewEntry"],["id","entry-detail-form"],["method","post",3,"action","formGroup","ngSubmit"],[3,"entry","entry-form","status","text","stage","current-stage","system-type",4,"ngIf"],["type","submit","id","form-btn-submit",3,"disabled"],[3,"entry","entry-form","status","text","stage","current-stage","system-type"],[3,"entry","entry-form","status","text","main-body","stage","current-stage","system-type",4,"ngIf"],[3,"entry","entry-form","status","text","main-body","stage","current-stage","system-type"],[4,"ngIf","ngIfElse"],["noSignature",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.wc(1,It,2,1,"h2",1),m.wc(2,$t,1,1,"app-view-description",2),m.wc(3,Pt,1,1,"app-resource-unavailable",3),m.wc(4,Et,1,2,"app-notification-screen",4),m.wc(5,ue,11,10,"div",5),m.Ob()),2&t&&(m.zb(1),m.gc("ngIf",e.systemType),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.error),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(1),m.gc("ngIf",e.entry))},directives:[r.l,j.a,k.a,x.a,L.a,D,K,G.a,U.a,i.t,i.m,i.g,ct,pt,r.k,wt],styles:[""]}),t})();var ye=n("EYJY"),ge=n("+3x0"),fe=n("S5zL"),pe=n("iPJu"),de=n("9yhg"),he=n("RBZI");function me(t,e){if(1&t&&m.Lb(0,"app-view-description",17),2&t){const t=m.ac();m.gc("view-description",t.view)}}function Oe(t,e){if(1&t){const t=m.Qb();m.Pb(0,"app-notification-screen",18),m.Wb("finished",(function(){return m.rc(t),m.ac().removeNotification()})),m.Ob()}if(2&t){const t=m.ac();m.gc("notified",t.notificationAvailable)("message",t.notificationMessage)}}function ve(t,e){if(1&t&&(m.Nb(0),m.Pb(1,"option",19),m.yc(2),m.Ob(),m.Mb()),2&t){const t=e.$implicit;m.zb(1),m.hc("value",t.key),m.zb(1),m.Ac(" ",t.value," ")}}function we(t,e){if(1&t&&(m.Pb(0,"app-general-request-validators",20),m.Wb("keyup",(function(){return 0})),m.Ob()),2&t){const t=m.ac();m.gc("search",t.search)("system-type",t.systemType)}}function Ie(t,e){if(1&t){const t=m.Qb();m.Pb(0,"button",21),m.Wb("click",(function(){m.rc(t);const e=m.ac(),n=m.qc(17),r=m.qc(10);return e.clearSearch(),n.value="",r.value=""})),m.yc(1," Clear Search "),m.Ob()}}function $e(t,e){1&t&&(m.Pb(0,"p"),m.yc(1," Searching for entry or entries from the records. "),m.Pb(2,"span",22),m.yc(3," ||| "),m.Ob(),m.Ob())}function Pe(t,e){1&t&&(m.Pb(0,"p"),m.yc(1," Refreshing list of entries from the records. "),m.Pb(2,"span",22),m.yc(3," ||| "),m.Ob(),m.Ob())}function Ee(t,e){1&t&&(m.Pb(0,"td",36),m.yc(1," Nil "),m.Ob())}function ze(t,e){if(1&t&&(m.Pb(0,"td",48),m.yc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.Ac(" ",null==t?null:t.applicationNumber," ")}}function Ne(t,e){if(1&t&&(m.Pb(0,"td",49),m.yc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.Bc(" ",null==t||null==t.author?null:t.author.firstName," ",null==t||null==t.author?null:t.author.lastName," ")}}function Fe(t,e){if(1&t&&(m.Pb(0,"td",50),m.yc(1),m.bc(2,"date"),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.Ac(" ",m.dc(2,1,null==t?null:t.updatedAt,"longDate")," ")}}function Te(t,e){if(1&t&&(m.Pb(0,"td",51),m.yc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.Ac(" ",null==t||null==t.author?null:t.author.level," ")}}function Se(t,e){if(1&t&&(m.Pb(0,"td",52),m.yc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.Ac(" ",null==t||null==t.stage?null:t.stage.name," ")}}function je(t,e){1&t&&(m.Pb(0,"td",36),m.yc(1," Not yet processed. "),m.Ob())}function ke(t,e){if(1&t&&(m.Pb(0,"td",53),m.yc(1),m.Ob()),2&t){const t=m.ac().$implicit;m.zb(1),m.Ac(" ",null==t?null:t.status," ")}}function xe(t,e){if(1&t){const t=m.Qb();m.Nb(0),m.Pb(1,"input",57,58),m.Wb("click",(function(){m.rc(t);const e=m.qc(2),n=m.ac(3),r=n.$implicit,s=n.index;return m.ac(2).addEntryToDeleteList(null==r?null:r.num,e.checked,s)})),m.Ob(),m.Lb(3,"span",59),m.Mb()}if(2&t){const t=e.$implicit,n=m.ac(3).$implicit;m.zb(1),m.gc("checked",t==(null==n?null:n.num))}}function Le(t,e){if(1&t&&(m.Nb(0),m.wc(1,xe,4,1,"ng-container",8),m.Mb()),2&t){const t=m.ac(4);m.zb(1),m.gc("ngForOf",t.esdl)}}function qe(t,e){if(1&t){const t=m.Qb();m.Pb(0,"input",60,58),m.Wb("click",(function(){m.rc(t);const e=m.qc(1),n=m.ac(2),r=n.$implicit,s=n.index;return m.ac(2).addEntryToDeleteList(null==r?null:r.num,e.checked,s)})),m.Ob(),m.Lb(2,"span",59)}}function Me(t,e){if(1&t&&(m.Pb(0,"label",54),m.wc(1,Le,2,1,"ng-container",55),m.wc(2,qe,3,0,"ng-template",null,56,m.xc),m.Ob()),2&t){const t=m.qc(3),e=m.ac(3);m.zb(1),m.gc("ngIf",e.esdl.length)("ngIfElse",t)}}const Re=function(t){return["../","entry","detail",t]};function Ce(t,e){if(1&t&&(m.Pb(0,"tr"),m.Pb(1,"td",36),m.yc(2),m.Ob(),m.wc(3,Ee,2,0,"ng-template",null,37,m.xc),m.wc(5,ze,2,1,"td",38),m.wc(6,Ne,2,2,"td",39),m.wc(7,Fe,3,4,"td",40),m.wc(8,Te,2,1,"td",41),m.wc(9,Se,2,1,"td",42),m.wc(10,je,2,0,"ng-template",null,43,m.xc),m.wc(12,ke,2,1,"td",44),m.Pb(13,"td",45),m.Pb(14,"a",46),m.yc(15,"View"),m.Ob(),m.wc(16,Me,4,2,"label",47),m.Ob(),m.Ob()),2&t){const t=e.$implicit,n=e.index,r=m.qc(4),s=m.qc(11),i=m.ac(2);m.zb(2),m.Ac(" ",n+1,". "),m.zb(3),m.gc("ngIf",null==t?null:t.applicationNumber)("ngIfElse",r),m.zb(1),m.gc("ngIf",null==t||null==t.author?null:t.author.firstName)("ngIfElse",r),m.zb(1),m.gc("ngIf",null==t?null:t.updatedAt)("ngIfElse",r),m.zb(1),m.gc("ngIf",null==t||null==t.author?null:t.author.level)("ngIfElse",r),m.zb(1),m.gc("ngIf",(null==t?null:t.stage)&&(null==t||null==t.stage?null:t.stage.name))("ngIfElse",s),m.zb(3),m.gc("ngIf",null==t?null:t.status)("ngIfElse",r),m.zb(2),m.gc("routerLink",m.lc(15,Re,null==t?null:t.slug)),m.zb(2),m.gc("ngIf",i.canUpdateEntry)}}function Ae(t,e){if(1&t&&m.Lb(0,"app-pagination",61),2&t){const t=m.ac(2);m.gc("entries-length",t.$entriesLength)("entry-ref",t.$entryRef)("page-number",t.pageNumber)}}function Ve(t,e){if(1&t&&(m.Pb(0,"div"),m.Pb(1,"table",23),m.Pb(2,"caption",24),m.yc(3," Entries "),m.Ob(),m.Pb(4,"colgroup"),m.Lb(5,"col",25),m.Lb(6,"col",26),m.Lb(7,"col",27),m.Lb(8,"col",28),m.Lb(9,"col",29),m.Lb(10,"col",30),m.Lb(11,"col",31),m.Lb(12,"col",32),m.Ob(),m.Pb(13,"thead"),m.Pb(14,"tr"),m.Pb(15,"th",33),m.yc(16," Index "),m.Ob(),m.Pb(17,"th",33),m.yc(18," Application Unique ID "),m.Ob(),m.Pb(19,"th",33),m.yc(20," Full Name "),m.Ob(),m.Pb(21,"th",33),m.yc(22," Date Modified "),m.Ob(),m.Pb(23,"th",33),m.yc(24," Level "),m.Ob(),m.Pb(25,"th",33),m.yc(26," Stage "),m.Ob(),m.Pb(27,"th",33),m.yc(28," Status "),m.Ob(),m.Pb(29,"th",33),m.yc(30," Changes "),m.Ob(),m.Ob(),m.Ob(),m.Pb(31,"tbody"),m.wc(32,Ce,17,17,"tr",34),m.Ob(),m.Pb(33,"tfoot"),m.Pb(34,"tr"),m.Lb(35,"td"),m.Ob(),m.Pb(36,"tr"),m.Lb(37,"td"),m.Ob(),m.Pb(38,"tr"),m.wc(39,Ae,1,3,"app-pagination",35),m.Ob(),m.Ob(),m.Ob(),m.Ob()),2&t){const t=m.ac();m.zb(32),m.gc("ngForOf",t.entries)("ngForTrackBy",t.trackByName),m.zb(7),m.gc("ngIf",t.pageNumber)}}function Be(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",62),2&t){const t=m.ac();m.gc("error",t.error)}}const De=function(t,e){return{"btn-search":t,disabled:e}};let We=(()=>{class t{constructor(t,e,n,r,s,i,a,c,o){this.route=t,this.router=e,this.location=n,this.grfs=r,this.grs=s,this.grss=i,this.ems=a,this.ns=c,this.as=o,this.entries=[],this.error=!1,this.esdl=[],this.p$esdl=!1,this.searchQuery={},this.pageNumber=1,this.$entriesLength=0,this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!1,this.searchTerm=new ye.a}validSearch(t){return Object.keys(this.searchFilters).indexOf(t)<0}searchEntry(t,e){if(this.error=null,!t.trim()||Object.keys(this.searchFilters).indexOf(t)<0)return!1;this.entrySearching=!0,this.searchQuery={[t]:e},this.searchTerm.next(this.searchQuery)}trackByName(t,e){return e.applicationNumber}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.entries.systemType,this.title=t.entries.title,this.view=t.entries.view,this.viewWord=t.entries.viewWord,this.link=t.entries.link,this.$link=t.entries.$link,this.searchFilters=t.entries.searchFilters,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.searchCtrl=this.grfs.searchForm(this.searchFilters),this.route.queryParamMap.subscribe(t=>{let e=t.get("page"),n=t.get("name");this.$entryRef=!!n||0,this.pageNumber=+e?+e:1;let r=t,s=r.keys,i={};for(let a of s){let t=r.get(a);t&&(i[a]=t)}return Object.keys(this.searchQuery).length&&(i=Object.assign(Object.assign({},i),this.searchQuery)),this.getAllEntry(i)}),this.searchTerm.pipe(Object(ge.a)(4e3),Object(fe.a)(),Object(f.a)(t=>this.grss.searchTerms(t,this.link,this.systemType+" Entries",[]))).subscribe(t=>{if(this.entrySearching=!1,this.refreshing=!1,this.entriesSearched=!0,this.location.replaceState(`/request/${this.link}/entries`),this.pageNumber=1,t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length<=10&&(this.pageNumber=1),this.entries.length>10&&this.entries.pop()})}ngOnDestroy(){}backToTop(){window.scrollTo(0,0)}getAllEntry(t){this.grs.getAllEntry(t).subscribe(t=>{if(this.refreshing=!1,t.length<1)return this.entries=[],this.$entriesLength=t.length,this.error=Object.assign({resource:this.systemType+" Entry or Entries"},this.ems.message);this.error=null,this.$entriesLength=t.length,this.entries=t,this.entries.length>10&&this.entries.pop()})}clearSearch(){this.searchQuery={},this.entriesSearched=!1,this.error=null,this.refreshing=!0,this.pageNumber=1,this.location.replaceState(`/request/${this.link}/entries`),this.getAllEntry({})}addEntryToDeleteList(t,e,n){e?this.esdl.push(t):!e&&this.esdl.indexOf(t)>-1&&(this.esdl=this.esdl.filter(e=>{let n=e!=t;return!!n&&""+n}))}deleteManyEntry(){return!!confirm("Are you sure you want to perform this action?")&&!this.p$esdl&&(this.p$esdl=!0,void this.grs.$deleteManyEntry(this.esdl).subscribe(t=>{this.p$esdl=!1,this.entries=this.entries.filter(t=>(this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is successful and many ${this.systemType} Entry is deleted.`),this.esdl.indexOf(t.num)<0)),this.esdl=[]},t=>{this.p$esdl=!1,this.ns.setNotificationStatus(!0),this.ns.addNotification(`Operation is unsuccessful and many ${this.systemType} Entry is not deleted.`)}))}get userRole(){return this.as.userRole}get canUpdateEntry(){return p.indexOf(this.userRole)>-1}get search(){return this.searchCtrl}get notificationAvailable(){return this.ns.notificationStatus()}get notificationMessage(){return this.ns.getNotificationMessage()}removeNotification(){this.ns.removeNotification()}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(u.a),m.Kb(u.d),m.Kb(r.h),m.Kb(T),m.Kb(z),m.Kb(pe.a),m.Kb(d.a),m.Kb(h.a),m.Kb(S.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-refund-entries"]],features:[m.yb([h.a,d.a,pe.a])],decls:27,vars:21,consts:[["id","entry-main"],[3,"view-description",4,"ngIf"],[3,"notified","message","finished",4,"ngIf"],[1,"search-bar"],[1,"left"],["id","query","name","queryType",1,"form-control",3,"formControl"],["qt",""],["value",""],[4,"ngFor","ngForOf"],[3,"search","system-type","keyup",4,"ngIf"],["type","text","name","queryValue","value","","autocomplete","new-queryValue",3,"keyup"],["qv",""],["type","submit",1,"entry-option-small",3,"click"],["class","btn-submit",3,"click",4,"ngIf"],[4,"ngIf"],[1,"entry-option","entry-option-small","center",3,"click"],["id","error",3,"error",4,"ngIf"],[3,"view-description"],[3,"notified","message","finished"],[3,"value"],[3,"search","system-type","keyup"],[1,"btn-submit",3,"click"],[1,"rolling"],[1,"entries"],[1,"bold","left"],[1,"index"],[1,"app-number"],[1,"full-name"],[1,"date"],[1,"level"],[1,"stage"],[1,"status"],[1,"changes"],[1,"bold","center"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"entries-length","entry-ref","page-number",4,"ngIf"],[1,"center"],["nilValue",""],["class","center bold app-number",4,"ngIf","ngIfElse"],["class","center full-name",4,"ngIf","ngIfElse"],["class","center date",4,"ngIf","ngIfElse"],["class","center level",4,"ngIf","ngIfElse"],["class","center stage",4,"ngIf","ngIfElse"],["noStage",""],["class","center status",4,"ngIf","ngIfElse"],[1,""],[1,"center","changes-option","changes-option-full",3,"routerLink"],["class","changes-mark",4,"ngIf"],[1,"center","bold","app-number"],[1,"center","full-name"],[1,"center","date"],[1,"center","level"],[1,"center","stage"],[1,"center","status"],[1,"changes-mark"],[4,"ngIf","ngIfElse"],["normalChecks",""],["type","checkbox",3,"checked","click"],["checked",""],[1,"checkmark"],["type","checkbox",3,"click"],[3,"entries-length","entry-ref","page-number"],["id","error",3,"error"]],template:function(t,e){if(1&t){const t=m.Qb();m.Pb(0,"div",0),m.Pb(1,"h2"),m.yc(2),m.Ob(),m.wc(3,me,1,1,"app-view-description",1),m.wc(4,Oe,1,2,"app-notification-screen",2),m.Lb(5,"app-list-entry-options"),m.Pb(6,"div",3),m.Pb(7,"h4",4),m.yc(8),m.Ob(),m.Pb(9,"select",5,6),m.Pb(11,"option",7),m.yc(12," Search Criteria "),m.Ob(),m.wc(13,ve,3,2,"ng-container",8),m.bc(14,"keyvalue"),m.Ob(),m.wc(15,we,1,2,"app-general-request-validators",9),m.Pb(16,"input",10,11),m.Wb("keyup",(function(){return 0})),m.Ob(),m.Pb(18,"button",12),m.Wb("click",(function(){m.rc(t);const n=m.qc(10),r=m.qc(17);return e.searchEntry(n.value,r.value)})),m.yc(19," Submit "),m.Ob(),m.wc(20,Ie,2,0,"button",13),m.wc(21,$e,4,0,"p",14),m.wc(22,Pe,4,0,"p",14),m.Pb(23,"a",15),m.Wb("click",(function(){return e.deleteManyEntry()})),m.yc(24," Delete Many "),m.Ob(),m.Ob(),m.wc(25,Ve,40,3,"div",14),m.wc(26,Be,1,1,"app-resource-unavailable",16),m.Ob()}if(2&t){const t=m.qc(10),n=m.qc(17);m.zb(2),m.Ac(" ",e.title," "),m.zb(1),m.gc("ngIf",e.view),m.zb(1),m.gc("ngIf",e.notificationAvailable),m.zb(4),m.Ac(" Search ",e.systemType," Reference "),m.zb(1),m.gc("formControl",e.search),m.zb(4),m.gc("ngForOf",m.cc(14,16,e.searchFilters)),m.zb(2),m.gc("ngIf",e.search),m.zb(3),m.Bb(m.mc(18,De,n.value&&!e.validSearch(t.value),!n.value||e.validSearch(t.value))),m.zb(2),m.gc("ngIf",e.entriesSearched),m.zb(1),m.gc("ngIf",e.entrySearching),m.zb(1),m.gc("ngIf",e.refreshing),m.zb(1),m.Cb("hide",e.esdl.length<2),m.zb(2),m.gc("ngIf",e.$entriesLength>0),m.zb(1),m.gc("ngIf",e.error)}},directives:[r.l,de.a,i.q,i.l,i.d,i.n,i.s,r.k,j.a,x.a,Q.a,u.f,he.a,k.a],pipes:[r.f,r.d],styles:[""]}),t})(),_e=(()=>{class t{transform(t,...e){return t.replace(/\t/g,"&emsp;").replace("ql-align-center","center")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=m.Jb({name:"replaceTabs",type:t,pure:!0}),t})();function Ke(t,e){if(1&t&&m.Lb(0,"app-resource-unavailable",5),2&t){const t=m.ac();m.gc("error",t.error)}}function Ge(t,e){if(1&t&&(m.Nb(0),m.Lb(1,"div",6),m.bc(2,"replaceTabs"),m.Mb()),2&t){const t=m.ac(3);m.zb(1),m.gc("outerHTML",m.cc(2,1,null==t.entry?null:t.entry.letter.main_body),m.sc)}}function Ue(t,e){if(1&t&&(m.Nb(0),m.wc(1,Ge,3,3,"ng-container",4),m.Mb()),2&t){const t=m.ac(2);m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.letter.main_body)}}function Qe(t,e){if(1&t&&(m.Nb(0),m.wc(1,Ue,2,1,"ng-container",4),m.Mb()),2&t){const t=m.ac();m.zb(1),m.gc("ngIf",null==t.entry?null:t.entry.letter)}}let He=(()=>{class t{constructor(t,e,n){this.route=t,this.grs=e,this.ems=n,this.error=!1,this.entrySlug=""}ngOnInit(){let t=this.route.snapshot.data;this.systemType=t.letter.systemType,this.title=t.letter.title,this.view=t.letter.view,this.viewWord=t.letter.viewWord,this.link=t.letter.link,this.$link=t.letter.$link,this.grs.$systemType=this.systemType,this.grs.$sa=this.$link,this.route.paramMap.pipe(Object(f.a)(t=>{let e=t.get("entry");return this.grs.getEntryLetter(e)})).subscribe(t=>{if(!t)return this.error=Object.assign({resource:this.systemType+" Entry"},this.ems.message);this.error=null,this.entry=t,this.entrySlug=this.entry.slug})}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(u.a),m.Kb(z),m.Kb(d.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-refund-letter"]],features:[m.yb([d.a])],decls:5,vars:2,consts:[["id","entry-view"],[3,"error",4,"ngIf"],["id","rf-entry"],["id","letter-content"],[4,"ngIf"],[3,"error"],[3,"outerHTML"]],template:function(t,e){1&t&&(m.Pb(0,"div",0),m.wc(1,Ke,1,1,"app-resource-unavailable",1),m.Pb(2,"div",2),m.Pb(3,"div",3),m.wc(4,Qe,2,1,"ng-container",4),m.Ob(),m.Ob(),m.Ob()),2&t&&(m.zb(1),m.gc("ngIf",e.error),m.zb(3),m.gc("ngIf",e.entry))},directives:[r.l,k.a],pipes:[_e],styles:["h3.ql-align-center[_ngcontent-%COMP%]{text-align:center}"]}),t})();var Ye=n("4aVp"),Je=n("nDLB"),Ze=n("dIfi"),Xe=n("dyb6"),tn=n("DjD2"),en=n("fLAD"),nn=n("r3HG");let rn={systemType:"Refund",title:"Refund",view:"rf",viewWord:"Refund",link:"refund",$link:"refund",systemGuideline:"request",base:"request"};const sn={dashboard:Object.assign({},rn),create:Object.assign(Object.assign({},rn),{title:`Request a ${rn.systemType} for fee payment`}),comment:Object.assign(Object.assign({},rn),{title:`Add a Comment : ${rn.systemType} Entry`}),detail:Object.assign(Object.assign({},rn),{title:rn.systemType+" Entry",generateCred:"csif"}),timeline:Object.assign(Object.assign({},rn),{title:rn.systemType+" Entry Timeline"}),letter:Object.assign(Object.assign({},rn),{title:rn.systemType+" Entry Letter"}),transfer:Object.assign(Object.assign({},rn),{title:`Transfer and Move ${rn.systemType} Entry`}),entries:Object.assign(Object.assign({},rn),{title:rn.systemType+" Entries",searchFilters:{applicationNumber:"Application Number",status:"Status",department:"Department",faculty:"Faculty",stage:"Stage"}}),reply:Object.assign(Object.assign({},rn),{title:`Add a Reply to a Comment : ${rn.systemType} Entry`}),deleteAll:Object.assign(Object.assign({},rn),{title:rn.systemType+" Entries : Delete All"})},an=[{path:"",component:Ye.a,canActivate:[b.a],canLoad:[b.a],canActivateChild:[b.a],children:[{path:"",component:Je.a,data:{dashboard:sn.dashboard}},{path:"create",component:Ze.a,data:{create:sn.create},canActivate:[y.a]},{path:"entry/:entry/comment/add",component:Xe.a,data:{comment:sn.comment}},{path:"entry/detail/:entry",component:be,data:{detail:sn.detail}},{path:"entry/:entry/timeline",component:tn.a,data:{timeline:sn.timeline}},{path:"entry/:entry/letter",component:He,data:{letter:sn.letter}},{path:"entries",component:We,data:{entries:sn.entries}},{path:"entry/:entry/comment/:comment/reply/add",component:en.a,data:{reply:sn.reply}},{path:"entries/delete/all",component:nn.a,canActivate:[g.a],data:{deleteAll:sn.deleteAll}}]}];let cn=(()=>{class t{}return t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({factory:function(e){return new(e||t)},imports:[[u.g.forChild(an)],u.g]}),t})();var on=n("kPid");let ln=(()=>{class t{}return t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({factory:function(e){return new(e||t)},providers:[z,T],imports:[[r.b,i.o,l.b,s.a,a.a,c.a,o.a,on.a,cn]]}),t})()}}]);